(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))a(s);new MutationObserver(s=>{for(const c of s)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&a(d)}).observe(document,{childList:!0,subtree:!0});function o(s){const c={};return s.integrity&&(c.integrity=s.integrity),s.referrerPolicy&&(c.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?c.credentials="include":s.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function a(s){if(s.ep)return;s.ep=!0;const c=o(s);fetch(s.href,c)}})();var wu={exports:{}},cl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ah;function nT(){if(Ah)return cl;Ah=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function o(a,s,c){var d=null;if(c!==void 0&&(d=""+c),s.key!==void 0&&(d=""+s.key),"key"in s){c={};for(var h in s)h!=="key"&&(c[h]=s[h])}else c=s;return s=c.ref,{$$typeof:n,type:a,key:d,ref:s!==void 0?s:null,props:c}}return cl.Fragment=t,cl.jsx=o,cl.jsxs=o,cl}var xh;function iT(){return xh||(xh=1,wu.exports=nT()),wu.exports}var A=iT(),Iu={exports:{}},fl={},Du={exports:{}},Uu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh;function oT(){return Rh||(Rh=1,(function(n){function t(B,X){var ie=B.length;B.push(X);e:for(;0<ie;){var ve=ie-1>>>1,Ie=B[ve];if(0<s(Ie,X))B[ve]=X,B[ie]=Ie,ie=ve;else break e}}function o(B){return B.length===0?null:B[0]}function a(B){if(B.length===0)return null;var X=B[0],ie=B.pop();if(ie!==X){B[0]=ie;e:for(var ve=0,Ie=B.length,w=Ie>>>1;ve<w;){var Y=2*(ve+1)-1,W=B[Y],ee=Y+1,ue=B[ee];if(0>s(W,ie))ee<Ie&&0>s(ue,W)?(B[ve]=ue,B[ee]=ie,ve=ee):(B[ve]=W,B[Y]=ie,ve=Y);else if(ee<Ie&&0>s(ue,ie))B[ve]=ue,B[ee]=ie,ve=ee;else break e}}return X}function s(B,X){var ie=B.sortIndex-X.sortIndex;return ie!==0?ie:B.id-X.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;n.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();n.unstable_now=function(){return d.now()-h}}var y=[],m=[],v=1,T=null,E=3,C=!1,R=!1,N=!1,b=!1,G=typeof setTimeout=="function"?setTimeout:null,I=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function J(B){for(var X=o(m);X!==null;){if(X.callback===null)a(m);else if(X.startTime<=B)a(m),X.sortIndex=X.expirationTime,t(y,X);else break;X=o(m)}}function V(B){if(N=!1,J(B),!R)if(o(y)!==null)R=!0,Z||(Z=!0,Ne());else{var X=o(m);X!==null&&We(V,X.startTime-B)}}var Z=!1,K=-1,te=5,Q=-1;function ae(){return b?!0:!(n.unstable_now()-Q<te)}function _e(){if(b=!1,Z){var B=n.unstable_now();Q=B;var X=!0;try{e:{R=!1,N&&(N=!1,I(K),K=-1),C=!0;var ie=E;try{t:{for(J(B),T=o(y);T!==null&&!(T.expirationTime>B&&ae());){var ve=T.callback;if(typeof ve=="function"){T.callback=null,E=T.priorityLevel;var Ie=ve(T.expirationTime<=B);if(B=n.unstable_now(),typeof Ie=="function"){T.callback=Ie,J(B),X=!0;break t}T===o(y)&&a(y),J(B)}else a(y);T=o(y)}if(T!==null)X=!0;else{var w=o(m);w!==null&&We(V,w.startTime-B),X=!1}}break e}finally{T=null,E=ie,C=!1}X=void 0}}finally{X?Ne():Z=!1}}}var Ne;if(typeof D=="function")Ne=function(){D(_e)};else if(typeof MessageChannel<"u"){var ke=new MessageChannel,Ue=ke.port2;ke.port1.onmessage=_e,Ne=function(){Ue.postMessage(null)}}else Ne=function(){G(_e,0)};function We(B,X){K=G(function(){B(n.unstable_now())},X)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(B){B.callback=null},n.unstable_forceFrameRate=function(B){0>B||125<B?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<B?Math.floor(1e3/B):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_next=function(B){switch(E){case 1:case 2:case 3:var X=3;break;default:X=E}var ie=E;E=X;try{return B()}finally{E=ie}},n.unstable_requestPaint=function(){b=!0},n.unstable_runWithPriority=function(B,X){switch(B){case 1:case 2:case 3:case 4:case 5:break;default:B=3}var ie=E;E=B;try{return X()}finally{E=ie}},n.unstable_scheduleCallback=function(B,X,ie){var ve=n.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?ve+ie:ve):ie=ve,B){case 1:var Ie=-1;break;case 2:Ie=250;break;case 5:Ie=1073741823;break;case 4:Ie=1e4;break;default:Ie=5e3}return Ie=ie+Ie,B={id:v++,callback:X,priorityLevel:B,startTime:ie,expirationTime:Ie,sortIndex:-1},ie>ve?(B.sortIndex=ie,t(m,B),o(y)===null&&B===o(m)&&(N?(I(K),K=-1):N=!0,We(V,ie-ve))):(B.sortIndex=Ie,t(y,B),R||C||(R=!0,Z||(Z=!0,Ne()))),B},n.unstable_shouldYield=ae,n.unstable_wrapCallback=function(B){var X=E;return function(){var ie=E;E=X;try{return B.apply(this,arguments)}finally{E=ie}}}})(Uu)),Uu}var Nh;function lT(){return Nh||(Nh=1,Du.exports=oT()),Du.exports}var Lu={exports:{}},re={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bh;function aT(){if(bh)return re;bh=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),o=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),y=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),E=Symbol.iterator;function C(w){return w===null||typeof w!="object"?null:(w=E&&w[E]||w["@@iterator"],typeof w=="function"?w:null)}var R={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,b={};function G(w,Y,W){this.props=w,this.context=Y,this.refs=b,this.updater=W||R}G.prototype.isReactComponent={},G.prototype.setState=function(w,Y){if(typeof w!="object"&&typeof w!="function"&&w!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,w,Y,"setState")},G.prototype.forceUpdate=function(w){this.updater.enqueueForceUpdate(this,w,"forceUpdate")};function I(){}I.prototype=G.prototype;function D(w,Y,W){this.props=w,this.context=Y,this.refs=b,this.updater=W||R}var J=D.prototype=new I;J.constructor=D,N(J,G.prototype),J.isPureReactComponent=!0;var V=Array.isArray;function Z(){}var K={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function Q(w,Y,W){var ee=W.ref;return{$$typeof:n,type:w,key:Y,ref:ee!==void 0?ee:null,props:W}}function ae(w,Y){return Q(w.type,Y,w.props)}function _e(w){return typeof w=="object"&&w!==null&&w.$$typeof===n}function Ne(w){var Y={"=":"=0",":":"=2"};return"$"+w.replace(/[=:]/g,function(W){return Y[W]})}var ke=/\/+/g;function Ue(w,Y){return typeof w=="object"&&w!==null&&w.key!=null?Ne(""+w.key):Y.toString(36)}function We(w){switch(w.status){case"fulfilled":return w.value;case"rejected":throw w.reason;default:switch(typeof w.status=="string"?w.then(Z,Z):(w.status="pending",w.then(function(Y){w.status==="pending"&&(w.status="fulfilled",w.value=Y)},function(Y){w.status==="pending"&&(w.status="rejected",w.reason=Y)})),w.status){case"fulfilled":return w.value;case"rejected":throw w.reason}}throw w}function B(w,Y,W,ee,ue){var de=typeof w;(de==="undefined"||de==="boolean")&&(w=null);var Ae=!1;if(w===null)Ae=!0;else switch(de){case"bigint":case"string":case"number":Ae=!0;break;case"object":switch(w.$$typeof){case n:case t:Ae=!0;break;case v:return Ae=w._init,B(Ae(w._payload),Y,W,ee,ue)}}if(Ae)return ue=ue(w),Ae=ee===""?"."+Ue(w,0):ee,V(ue)?(W="",Ae!=null&&(W=Ae.replace(ke,"$&/")+"/"),B(ue,Y,W,"",function(yo){return yo})):ue!=null&&(_e(ue)&&(ue=ae(ue,W+(ue.key==null||w&&w.key===ue.key?"":(""+ue.key).replace(ke,"$&/")+"/")+Ae)),Y.push(ue)),1;Ae=0;var ut=ee===""?".":ee+":";if(V(w))for(var Be=0;Be<w.length;Be++)ee=w[Be],de=ut+Ue(ee,Be),Ae+=B(ee,Y,W,de,ue);else if(Be=C(w),typeof Be=="function")for(w=Be.call(w),Be=0;!(ee=w.next()).done;)ee=ee.value,de=ut+Ue(ee,Be++),Ae+=B(ee,Y,W,de,ue);else if(de==="object"){if(typeof w.then=="function")return B(We(w),Y,W,ee,ue);throw Y=String(w),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(w).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return Ae}function X(w,Y,W){if(w==null)return w;var ee=[],ue=0;return B(w,ee,"","",function(de){return Y.call(W,de,ue++)}),ee}function ie(w){if(w._status===-1){var Y=w._result;Y=Y(),Y.then(function(W){(w._status===0||w._status===-1)&&(w._status=1,w._result=W)},function(W){(w._status===0||w._status===-1)&&(w._status=2,w._result=W)}),w._status===-1&&(w._status=0,w._result=Y)}if(w._status===1)return w._result.default;throw w._result}var ve=typeof reportError=="function"?reportError:function(w){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof w=="object"&&w!==null&&typeof w.message=="string"?String(w.message):String(w),error:w});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",w);return}console.error(w)},Ie={map:X,forEach:function(w,Y,W){X(w,function(){Y.apply(this,arguments)},W)},count:function(w){var Y=0;return X(w,function(){Y++}),Y},toArray:function(w){return X(w,function(Y){return Y})||[]},only:function(w){if(!_e(w))throw Error("React.Children.only expected to receive a single React element child.");return w}};return re.Activity=T,re.Children=Ie,re.Component=G,re.Fragment=o,re.Profiler=s,re.PureComponent=D,re.StrictMode=a,re.Suspense=y,re.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=K,re.__COMPILER_RUNTIME={__proto__:null,c:function(w){return K.H.useMemoCache(w)}},re.cache=function(w){return function(){return w.apply(null,arguments)}},re.cacheSignal=function(){return null},re.cloneElement=function(w,Y,W){if(w==null)throw Error("The argument must be a React element, but you passed "+w+".");var ee=N({},w.props),ue=w.key;if(Y!=null)for(de in Y.key!==void 0&&(ue=""+Y.key),Y)!te.call(Y,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&Y.ref===void 0||(ee[de]=Y[de]);var de=arguments.length-2;if(de===1)ee.children=W;else if(1<de){for(var Ae=Array(de),ut=0;ut<de;ut++)Ae[ut]=arguments[ut+2];ee.children=Ae}return Q(w.type,ue,ee)},re.createContext=function(w){return w={$$typeof:d,_currentValue:w,_currentValue2:w,_threadCount:0,Provider:null,Consumer:null},w.Provider=w,w.Consumer={$$typeof:c,_context:w},w},re.createElement=function(w,Y,W){var ee,ue={},de=null;if(Y!=null)for(ee in Y.key!==void 0&&(de=""+Y.key),Y)te.call(Y,ee)&&ee!=="key"&&ee!=="__self"&&ee!=="__source"&&(ue[ee]=Y[ee]);var Ae=arguments.length-2;if(Ae===1)ue.children=W;else if(1<Ae){for(var ut=Array(Ae),Be=0;Be<Ae;Be++)ut[Be]=arguments[Be+2];ue.children=ut}if(w&&w.defaultProps)for(ee in Ae=w.defaultProps,Ae)ue[ee]===void 0&&(ue[ee]=Ae[ee]);return Q(w,de,ue)},re.createRef=function(){return{current:null}},re.forwardRef=function(w){return{$$typeof:h,render:w}},re.isValidElement=_e,re.lazy=function(w){return{$$typeof:v,_payload:{_status:-1,_result:w},_init:ie}},re.memo=function(w,Y){return{$$typeof:m,type:w,compare:Y===void 0?null:Y}},re.startTransition=function(w){var Y=K.T,W={};K.T=W;try{var ee=w(),ue=K.S;ue!==null&&ue(W,ee),typeof ee=="object"&&ee!==null&&typeof ee.then=="function"&&ee.then(Z,ve)}catch(de){ve(de)}finally{Y!==null&&W.types!==null&&(Y.types=W.types),K.T=Y}},re.unstable_useCacheRefresh=function(){return K.H.useCacheRefresh()},re.use=function(w){return K.H.use(w)},re.useActionState=function(w,Y,W){return K.H.useActionState(w,Y,W)},re.useCallback=function(w,Y){return K.H.useCallback(w,Y)},re.useContext=function(w){return K.H.useContext(w)},re.useDebugValue=function(){},re.useDeferredValue=function(w,Y){return K.H.useDeferredValue(w,Y)},re.useEffect=function(w,Y){return K.H.useEffect(w,Y)},re.useEffectEvent=function(w){return K.H.useEffectEvent(w)},re.useId=function(){return K.H.useId()},re.useImperativeHandle=function(w,Y,W){return K.H.useImperativeHandle(w,Y,W)},re.useInsertionEffect=function(w,Y){return K.H.useInsertionEffect(w,Y)},re.useLayoutEffect=function(w,Y){return K.H.useLayoutEffect(w,Y)},re.useMemo=function(w,Y){return K.H.useMemo(w,Y)},re.useOptimistic=function(w,Y){return K.H.useOptimistic(w,Y)},re.useReducer=function(w,Y,W){return K.H.useReducer(w,Y,W)},re.useRef=function(w){return K.H.useRef(w)},re.useState=function(w){return K.H.useState(w)},re.useSyncExternalStore=function(w,Y,W){return K.H.useSyncExternalStore(w,Y,W)},re.useTransition=function(){return K.H.useTransition()},re.version="19.2.4",re}var Mh;function ac(){return Mh||(Mh=1,Lu.exports=aT()),Lu.exports}var Gu={exports:{}},st={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wh;function sT(){if(wh)return st;wh=1;var n=ac();function t(y){var m="https://react.dev/errors/"+y;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)m+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+y+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(){}var a={d:{f:o,r:function(){throw Error(t(522))},D:o,C:o,L:o,m:o,X:o,S:o,M:o},p:0,findDOMNode:null},s=Symbol.for("react.portal");function c(y,m,v){var T=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:s,key:T==null?null:""+T,children:y,containerInfo:m,implementation:v}}var d=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(y,m){if(y==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return st.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=a,st.createPortal=function(y,m){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return c(y,m,null,v)},st.flushSync=function(y){var m=d.T,v=a.p;try{if(d.T=null,a.p=2,y)return y()}finally{d.T=m,a.p=v,a.d.f()}},st.preconnect=function(y,m){typeof y=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,a.d.C(y,m))},st.prefetchDNS=function(y){typeof y=="string"&&a.d.D(y)},st.preinit=function(y,m){if(typeof y=="string"&&m&&typeof m.as=="string"){var v=m.as,T=h(v,m.crossOrigin),E=typeof m.integrity=="string"?m.integrity:void 0,C=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;v==="style"?a.d.S(y,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:T,integrity:E,fetchPriority:C}):v==="script"&&a.d.X(y,{crossOrigin:T,integrity:E,fetchPriority:C,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},st.preinitModule=function(y,m){if(typeof y=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var v=h(m.as,m.crossOrigin);a.d.M(y,{crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&a.d.M(y)},st.preload=function(y,m){if(typeof y=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var v=m.as,T=h(v,m.crossOrigin);a.d.L(y,v,{crossOrigin:T,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},st.preloadModule=function(y,m){if(typeof y=="string")if(m){var v=h(m.as,m.crossOrigin);a.d.m(y,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:v,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else a.d.m(y)},st.requestFormReset=function(y){a.d.r(y)},st.unstable_batchedUpdates=function(y,m){return y(m)},st.useFormState=function(y,m,v){return d.H.useFormState(y,m,v)},st.useFormStatus=function(){return d.H.useHostTransitionStatus()},st.version="19.2.4",st}var Ih;function rT(){if(Ih)return Gu.exports;Ih=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Gu.exports=sT(),Gu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Dh;function uT(){if(Dh)return fl;Dh=1;var n=lT(),t=ac(),o=rT();function a(e){var i="https://react.dev/errors/"+e;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)i+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+e+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var i=e,l=e;if(e.alternate)for(;i.return;)i=i.return;else{e=i;do i=e,(i.flags&4098)!==0&&(l=i.return),e=i.return;while(e)}return i.tag===3?l:null}function d(e){if(e.tag===13){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function h(e){if(e.tag===31){var i=e.memoizedState;if(i===null&&(e=e.alternate,e!==null&&(i=e.memoizedState)),i!==null)return i.dehydrated}return null}function y(e){if(c(e)!==e)throw Error(a(188))}function m(e){var i=e.alternate;if(!i){if(i=c(e),i===null)throw Error(a(188));return i!==e?null:e}for(var l=e,r=i;;){var p=l.return;if(p===null)break;var g=p.alternate;if(g===null){if(r=p.return,r!==null){l=r;continue}break}if(p.child===g.child){for(g=p.child;g;){if(g===l)return y(p),e;if(g===r)return y(p),i;g=g.sibling}throw Error(a(188))}if(l.return!==r.return)l=p,r=g;else{for(var S=!1,_=p.child;_;){if(_===l){S=!0,l=p,r=g;break}if(_===r){S=!0,r=p,l=g;break}_=_.sibling}if(!S){for(_=g.child;_;){if(_===l){S=!0,l=g,r=p;break}if(_===r){S=!0,r=g,l=p;break}_=_.sibling}if(!S)throw Error(a(189))}}if(l.alternate!==r)throw Error(a(190))}if(l.tag!==3)throw Error(a(188));return l.stateNode.current===l?e:i}function v(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e;for(e=e.child;e!==null;){if(i=v(e),i!==null)return i;e=e.sibling}return null}var T=Object.assign,E=Symbol.for("react.element"),C=Symbol.for("react.transitional.element"),R=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),I=Symbol.for("react.consumer"),D=Symbol.for("react.context"),J=Symbol.for("react.forward_ref"),V=Symbol.for("react.suspense"),Z=Symbol.for("react.suspense_list"),K=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Q=Symbol.for("react.activity"),ae=Symbol.for("react.memo_cache_sentinel"),_e=Symbol.iterator;function Ne(e){return e===null||typeof e!="object"?null:(e=_e&&e[_e]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Symbol.for("react.client.reference");function Ue(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ke?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case N:return"Fragment";case G:return"Profiler";case b:return"StrictMode";case V:return"Suspense";case Z:return"SuspenseList";case Q:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case R:return"Portal";case D:return e.displayName||"Context";case I:return(e._context.displayName||"Context")+".Consumer";case J:var i=e.render;return e=e.displayName,e||(e=i.displayName||i.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case K:return i=e.displayName||null,i!==null?i:Ue(e.type)||"Memo";case te:i=e._payload,e=e._init;try{return Ue(e(i))}catch{}}return null}var We=Array.isArray,B=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X=o.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie={pending:!1,data:null,method:null,action:null},ve=[],Ie=-1;function w(e){return{current:e}}function Y(e){0>Ie||(e.current=ve[Ie],ve[Ie]=null,Ie--)}function W(e,i){Ie++,ve[Ie]=e.current,e.current=i}var ee=w(null),ue=w(null),de=w(null),Ae=w(null);function ut(e,i){switch(W(de,i),W(ue,e),W(ee,null),i.nodeType){case 9:case 11:e=(e=i.documentElement)&&(e=e.namespaceURI)?Kp(e):0;break;default:if(e=i.tagName,i=i.namespaceURI)i=Kp(i),e=Xp(i,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Y(ee),W(ee,e)}function Be(){Y(ee),Y(ue),Y(de)}function yo(e){e.memoizedState!==null&&W(Ae,e);var i=ee.current,l=Xp(i,e.type);i!==l&&(W(ue,e),W(ee,l))}function El(e){ue.current===e&&(Y(ee),Y(ue)),Ae.current===e&&(Y(Ae),al._currentValue=ie)}var ds,_c;function jn(e){if(ds===void 0)try{throw Error()}catch(l){var i=l.stack.trim().match(/\n( *(at )?)/);ds=i&&i[1]||"",_c=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ds+e+_c}var ps=!1;function hs(e,i){if(!e||ps)return"";ps=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(i){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(q){var k=q}Reflect.construct(e,[],F)}else{try{F.call()}catch(q){k=q}e.call(F.prototype)}}else{try{throw Error()}catch(q){k=q}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(q){if(q&&k&&typeof q.stack=="string")return[q.stack,k.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var p=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");p&&p.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var g=r.DetermineComponentFrameRoot(),S=g[0],_=g[1];if(S&&_){var x=S.split(`
`),H=_.split(`
`);for(p=r=0;r<x.length&&!x[r].includes("DetermineComponentFrameRoot");)r++;for(;p<H.length&&!H[p].includes("DetermineComponentFrameRoot");)p++;if(r===x.length||p===H.length)for(r=x.length-1,p=H.length-1;1<=r&&0<=p&&x[r]!==H[p];)p--;for(;1<=r&&0<=p;r--,p--)if(x[r]!==H[p]){if(r!==1||p!==1)do if(r--,p--,0>p||x[r]!==H[p]){var O=`
`+x[r].replace(" at new "," at ");return e.displayName&&O.includes("<anonymous>")&&(O=O.replace("<anonymous>",e.displayName)),O}while(1<=r&&0<=p);break}}}finally{ps=!1,Error.prepareStackTrace=l}return(l=e?e.displayName||e.name:"")?jn(l):""}function Uy(e,i){switch(e.tag){case 26:case 27:case 5:return jn(e.type);case 16:return jn("Lazy");case 13:return e.child!==i&&i!==null?jn("Suspense Fallback"):jn("Suspense");case 19:return jn("SuspenseList");case 0:case 15:return hs(e.type,!1);case 11:return hs(e.type.render,!1);case 1:return hs(e.type,!0);case 31:return jn("Activity");default:return""}}function Cc(e){try{var i="",l=null;do i+=Uy(e,l),l=e,e=e.return;while(e);return i}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}var ms=Object.prototype.hasOwnProperty,gs=n.unstable_scheduleCallback,ys=n.unstable_cancelCallback,Ly=n.unstable_shouldYield,Gy=n.unstable_requestPaint,St=n.unstable_now,Hy=n.unstable_getCurrentPriorityLevel,Ac=n.unstable_ImmediatePriority,xc=n.unstable_UserBlockingPriority,_l=n.unstable_NormalPriority,Py=n.unstable_LowPriority,Rc=n.unstable_IdlePriority,ky=n.log,Vy=n.unstable_setDisableYieldValue,vo=null,Et=null;function Rn(e){if(typeof ky=="function"&&Vy(e),Et&&typeof Et.setStrictMode=="function")try{Et.setStrictMode(vo,e)}catch{}}var _t=Math.clz32?Math.clz32:By,qy=Math.log,Oy=Math.LN2;function By(e){return e>>>=0,e===0?32:31-(qy(e)/Oy|0)|0}var Cl=256,Al=262144,xl=4194304;function ei(e){var i=e&42;if(i!==0)return i;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Rl(e,i,l){var r=e.pendingLanes;if(r===0)return 0;var p=0,g=e.suspendedLanes,S=e.pingedLanes;e=e.warmLanes;var _=r&134217727;return _!==0?(r=_&~g,r!==0?p=ei(r):(S&=_,S!==0?p=ei(S):l||(l=_&~e,l!==0&&(p=ei(l))))):(_=r&~g,_!==0?p=ei(_):S!==0?p=ei(S):l||(l=r&~e,l!==0&&(p=ei(l)))),p===0?0:i!==0&&i!==p&&(i&g)===0&&(g=p&-p,l=i&-i,g>=l||g===32&&(l&4194048)!==0)?i:p}function To(e,i){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&i)===0}function zy(e,i){switch(e){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nc(){var e=xl;return xl<<=1,(xl&62914560)===0&&(xl=4194304),e}function vs(e){for(var i=[],l=0;31>l;l++)i.push(e);return i}function So(e,i){e.pendingLanes|=i,i!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fy(e,i,l,r,p,g){var S=e.pendingLanes;e.pendingLanes=l,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=l,e.entangledLanes&=l,e.errorRecoveryDisabledLanes&=l,e.shellSuspendCounter=0;var _=e.entanglements,x=e.expirationTimes,H=e.hiddenUpdates;for(l=S&~l;0<l;){var O=31-_t(l),F=1<<O;_[O]=0,x[O]=-1;var k=H[O];if(k!==null)for(H[O]=null,O=0;O<k.length;O++){var q=k[O];q!==null&&(q.lane&=-536870913)}l&=~F}r!==0&&bc(e,r,0),g!==0&&p===0&&e.tag!==0&&(e.suspendedLanes|=g&~(S&~i))}function bc(e,i,l){e.pendingLanes|=i,e.suspendedLanes&=~i;var r=31-_t(i);e.entangledLanes|=i,e.entanglements[r]=e.entanglements[r]|1073741824|l&261930}function Mc(e,i){var l=e.entangledLanes|=i;for(e=e.entanglements;l;){var r=31-_t(l),p=1<<r;p&i|e[r]&i&&(e[r]|=i),l&=~p}}function wc(e,i){var l=i&-i;return l=(l&42)!==0?1:Ts(l),(l&(e.suspendedLanes|i))!==0?0:l}function Ts(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ss(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Ic(){var e=X.p;return e!==0?e:(e=window.event,e===void 0?32:yh(e.type))}function Dc(e,i){var l=X.p;try{return X.p=e,i()}finally{X.p=l}}var Nn=Math.random().toString(36).slice(2),nt="__reactFiber$"+Nn,pt="__reactProps$"+Nn,Ei="__reactContainer$"+Nn,Es="__reactEvents$"+Nn,Jy="__reactListeners$"+Nn,Yy="__reactHandles$"+Nn,Uc="__reactResources$"+Nn,Eo="__reactMarker$"+Nn;function _s(e){delete e[nt],delete e[pt],delete e[Es],delete e[Jy],delete e[Yy]}function _i(e){var i=e[nt];if(i)return i;for(var l=e.parentNode;l;){if(i=l[Ei]||l[nt]){if(l=i.alternate,i.child!==null||l!==null&&l.child!==null)for(e=th(e);e!==null;){if(l=e[nt])return l;e=th(e)}return i}e=l,l=e.parentNode}return null}function Ci(e){if(e=e[nt]||e[Ei]){var i=e.tag;if(i===5||i===6||i===13||i===31||i===26||i===27||i===3)return e}return null}function _o(e){var i=e.tag;if(i===5||i===26||i===27||i===6)return e.stateNode;throw Error(a(33))}function Ai(e){var i=e[Uc];return i||(i=e[Uc]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function je(e){e[Eo]=!0}var Lc=new Set,Gc={};function ti(e,i){xi(e,i),xi(e+"Capture",i)}function xi(e,i){for(Gc[e]=i,e=0;e<i.length;e++)Lc.add(i[e])}var Ky=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Hc={},Pc={};function Xy(e){return ms.call(Pc,e)?!0:ms.call(Hc,e)?!1:Ky.test(e)?Pc[e]=!0:(Hc[e]=!0,!1)}function Nl(e,i,l){if(Xy(i))if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":e.removeAttribute(i);return;case"boolean":var r=i.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(i);return}}e.setAttribute(i,""+l)}}function bl(e,i,l){if(l===null)e.removeAttribute(i);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(i);return}e.setAttribute(i,""+l)}}function tn(e,i,l,r){if(r===null)e.removeAttribute(l);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(l);return}e.setAttributeNS(i,l,""+r)}}function wt(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function kc(e){var i=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Qy(e,i,l){var r=Object.getOwnPropertyDescriptor(e.constructor.prototype,i);if(!e.hasOwnProperty(i)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var p=r.get,g=r.set;return Object.defineProperty(e,i,{configurable:!0,get:function(){return p.call(this)},set:function(S){l=""+S,g.call(this,S)}}),Object.defineProperty(e,i,{enumerable:r.enumerable}),{getValue:function(){return l},setValue:function(S){l=""+S},stopTracking:function(){e._valueTracker=null,delete e[i]}}}}function Cs(e){if(!e._valueTracker){var i=kc(e)?"checked":"value";e._valueTracker=Qy(e,i,""+e[i])}}function Vc(e){if(!e)return!1;var i=e._valueTracker;if(!i)return!0;var l=i.getValue(),r="";return e&&(r=kc(e)?e.checked?"true":"false":e.value),e=r,e!==l?(i.setValue(e),!0):!1}function Ml(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $y=/[\n"\\]/g;function It(e){return e.replace($y,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function As(e,i,l,r,p,g,S,_){e.name="",S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?e.type=S:e.removeAttribute("type"),i!=null?S==="number"?(i===0&&e.value===""||e.value!=i)&&(e.value=""+wt(i)):e.value!==""+wt(i)&&(e.value=""+wt(i)):S!=="submit"&&S!=="reset"||e.removeAttribute("value"),i!=null?xs(e,S,wt(i)):l!=null?xs(e,S,wt(l)):r!=null&&e.removeAttribute("value"),p==null&&g!=null&&(e.defaultChecked=!!g),p!=null&&(e.checked=p&&typeof p!="function"&&typeof p!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+wt(_):e.removeAttribute("name")}function qc(e,i,l,r,p,g,S,_){if(g!=null&&typeof g!="function"&&typeof g!="symbol"&&typeof g!="boolean"&&(e.type=g),i!=null||l!=null){if(!(g!=="submit"&&g!=="reset"||i!=null)){Cs(e);return}l=l!=null?""+wt(l):"",i=i!=null?""+wt(i):l,_||i===e.value||(e.value=i),e.defaultValue=i}r=r??p,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=_?e.checked:!!r,e.defaultChecked=!!r,S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"&&(e.name=S),Cs(e)}function xs(e,i,l){i==="number"&&Ml(e.ownerDocument)===e||e.defaultValue===""+l||(e.defaultValue=""+l)}function Ri(e,i,l,r){if(e=e.options,i){i={};for(var p=0;p<l.length;p++)i["$"+l[p]]=!0;for(l=0;l<e.length;l++)p=i.hasOwnProperty("$"+e[l].value),e[l].selected!==p&&(e[l].selected=p),p&&r&&(e[l].defaultSelected=!0)}else{for(l=""+wt(l),i=null,p=0;p<e.length;p++){if(e[p].value===l){e[p].selected=!0,r&&(e[p].defaultSelected=!0);return}i!==null||e[p].disabled||(i=e[p])}i!==null&&(i.selected=!0)}}function Oc(e,i,l){if(i!=null&&(i=""+wt(i),i!==e.value&&(e.value=i),l==null)){e.defaultValue!==i&&(e.defaultValue=i);return}e.defaultValue=l!=null?""+wt(l):""}function Bc(e,i,l,r){if(i==null){if(r!=null){if(l!=null)throw Error(a(92));if(We(r)){if(1<r.length)throw Error(a(93));r=r[0]}l=r}l==null&&(l=""),i=l}l=wt(i),e.defaultValue=l,r=e.textContent,r===l&&r!==""&&r!==null&&(e.value=r),Cs(e)}function Ni(e,i){if(i){var l=e.firstChild;if(l&&l===e.lastChild&&l.nodeType===3){l.nodeValue=i;return}}e.textContent=i}var Zy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function zc(e,i,l){var r=i.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?r?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="":r?e.setProperty(i,l):typeof l!="number"||l===0||Zy.has(i)?i==="float"?e.cssFloat=l:e[i]=(""+l).trim():e[i]=l+"px"}function Fc(e,i,l){if(i!=null&&typeof i!="object")throw Error(a(62));if(e=e.style,l!=null){for(var r in l)!l.hasOwnProperty(r)||i!=null&&i.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var p in i)r=i[p],i.hasOwnProperty(p)&&l[p]!==r&&zc(e,p,r)}else for(var g in i)i.hasOwnProperty(g)&&zc(e,g,i[g])}function Rs(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function wl(e){return jy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function nn(){}var Ns=null;function bs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var bi=null,Mi=null;function Jc(e){var i=Ci(e);if(i&&(e=i.stateNode)){var l=e[pt]||null;e:switch(e=i.stateNode,i.type){case"input":if(As(e,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),i=l.name,l.type==="radio"&&i!=null){for(l=e;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+It(""+i)+'"][type="radio"]'),i=0;i<l.length;i++){var r=l[i];if(r!==e&&r.form===e.form){var p=r[pt]||null;if(!p)throw Error(a(90));As(r,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name)}}for(i=0;i<l.length;i++)r=l[i],r.form===e.form&&Vc(r)}break e;case"textarea":Oc(e,l.value,l.defaultValue);break e;case"select":i=l.value,i!=null&&Ri(e,!!l.multiple,i,!1)}}}var Ms=!1;function Yc(e,i,l){if(Ms)return e(i,l);Ms=!0;try{var r=e(i);return r}finally{if(Ms=!1,(bi!==null||Mi!==null)&&(ya(),bi&&(i=bi,e=Mi,Mi=bi=null,Jc(i),e)))for(i=0;i<e.length;i++)Jc(e[i])}}function Co(e,i){var l=e.stateNode;if(l===null)return null;var r=l[pt]||null;if(r===null)return null;l=r[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(l&&typeof l!="function")throw Error(a(231,i,typeof l));return l}var on=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ws=!1;if(on)try{var Ao={};Object.defineProperty(Ao,"passive",{get:function(){ws=!0}}),window.addEventListener("test",Ao,Ao),window.removeEventListener("test",Ao,Ao)}catch{ws=!1}var bn=null,Is=null,Il=null;function Kc(){if(Il)return Il;var e,i=Is,l=i.length,r,p="value"in bn?bn.value:bn.textContent,g=p.length;for(e=0;e<l&&i[e]===p[e];e++);var S=l-e;for(r=1;r<=S&&i[l-r]===p[g-r];r++);return Il=p.slice(e,1<r?1-r:void 0)}function Dl(e){var i=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&i===13&&(e=13)):e=i,e===10&&(e=13),32<=e||e===13?e:0}function Ul(){return!0}function Xc(){return!1}function ht(e){function i(l,r,p,g,S){this._reactName=l,this._targetInst=p,this.type=r,this.nativeEvent=g,this.target=S,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(l=e[_],this[_]=l?l(g):g[_]);return this.isDefaultPrevented=(g.defaultPrevented!=null?g.defaultPrevented:g.returnValue===!1)?Ul:Xc,this.isPropagationStopped=Xc,this}return T(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=Ul)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=Ul)},persist:function(){},isPersistent:Ul}),i}var ni={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ll=ht(ni),xo=T({},ni,{view:0,detail:0}),ev=ht(xo),Ds,Us,Ro,Gl=T({},xo,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Gs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ro&&(Ro&&e.type==="mousemove"?(Ds=e.screenX-Ro.screenX,Us=e.screenY-Ro.screenY):Us=Ds=0,Ro=e),Ds)},movementY:function(e){return"movementY"in e?e.movementY:Us}}),Qc=ht(Gl),tv=T({},Gl,{dataTransfer:0}),nv=ht(tv),iv=T({},xo,{relatedTarget:0}),Ls=ht(iv),ov=T({},ni,{animationName:0,elapsedTime:0,pseudoElement:0}),lv=ht(ov),av=T({},ni,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),sv=ht(av),rv=T({},ni,{data:0}),$c=ht(rv),uv={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cv={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fv={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dv(e){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(e):(e=fv[e])?!!i[e]:!1}function Gs(){return dv}var pv=T({},xo,{key:function(e){if(e.key){var i=uv[e.key]||e.key;if(i!=="Unidentified")return i}return e.type==="keypress"?(e=Dl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?cv[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Gs,charCode:function(e){return e.type==="keypress"?Dl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Dl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),hv=ht(pv),mv=T({},Gl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Zc=ht(mv),gv=T({},xo,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Gs}),yv=ht(gv),vv=T({},ni,{propertyName:0,elapsedTime:0,pseudoElement:0}),Tv=ht(vv),Sv=T({},Gl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ev=ht(Sv),_v=T({},ni,{newState:0,oldState:0}),Cv=ht(_v),Av=[9,13,27,32],Hs=on&&"CompositionEvent"in window,No=null;on&&"documentMode"in document&&(No=document.documentMode);var xv=on&&"TextEvent"in window&&!No,Wc=on&&(!Hs||No&&8<No&&11>=No),jc=" ",ef=!1;function tf(e,i){switch(e){case"keyup":return Av.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function nf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var wi=!1;function Rv(e,i){switch(e){case"compositionend":return nf(i);case"keypress":return i.which!==32?null:(ef=!0,jc);case"textInput":return e=i.data,e===jc&&ef?null:e;default:return null}}function Nv(e,i){if(wi)return e==="compositionend"||!Hs&&tf(e,i)?(e=Kc(),Il=Is=bn=null,wi=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return Wc&&i.locale!=="ko"?null:i.data;default:return null}}var bv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function of(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i==="input"?!!bv[e.type]:i==="textarea"}function lf(e,i,l,r){bi?Mi?Mi.push(r):Mi=[r]:bi=r,i=Aa(i,"onChange"),0<i.length&&(l=new Ll("onChange","change",null,l,r),e.push({event:l,listeners:i}))}var bo=null,Mo=null;function Mv(e){Op(e,0)}function Hl(e){var i=_o(e);if(Vc(i))return e}function af(e,i){if(e==="change")return i}var sf=!1;if(on){var Ps;if(on){var ks="oninput"in document;if(!ks){var rf=document.createElement("div");rf.setAttribute("oninput","return;"),ks=typeof rf.oninput=="function"}Ps=ks}else Ps=!1;sf=Ps&&(!document.documentMode||9<document.documentMode)}function uf(){bo&&(bo.detachEvent("onpropertychange",cf),Mo=bo=null)}function cf(e){if(e.propertyName==="value"&&Hl(Mo)){var i=[];lf(i,Mo,e,bs(e)),Yc(Mv,i)}}function wv(e,i,l){e==="focusin"?(uf(),bo=i,Mo=l,bo.attachEvent("onpropertychange",cf)):e==="focusout"&&uf()}function Iv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Hl(Mo)}function Dv(e,i){if(e==="click")return Hl(i)}function Uv(e,i){if(e==="input"||e==="change")return Hl(i)}function Lv(e,i){return e===i&&(e!==0||1/e===1/i)||e!==e&&i!==i}var Ct=typeof Object.is=="function"?Object.is:Lv;function wo(e,i){if(Ct(e,i))return!0;if(typeof e!="object"||e===null||typeof i!="object"||i===null)return!1;var l=Object.keys(e),r=Object.keys(i);if(l.length!==r.length)return!1;for(r=0;r<l.length;r++){var p=l[r];if(!ms.call(i,p)||!Ct(e[p],i[p]))return!1}return!0}function ff(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function df(e,i){var l=ff(e);e=0;for(var r;l;){if(l.nodeType===3){if(r=e+l.textContent.length,e<=i&&r>=i)return{node:l,offset:i-e};e=r}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ff(l)}}function pf(e,i){return e&&i?e===i?!0:e&&e.nodeType===3?!1:i&&i.nodeType===3?pf(e,i.parentNode):"contains"in e?e.contains(i):e.compareDocumentPosition?!!(e.compareDocumentPosition(i)&16):!1:!1}function hf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var i=Ml(e.document);i instanceof e.HTMLIFrameElement;){try{var l=typeof i.contentWindow.location.href=="string"}catch{l=!1}if(l)e=i.contentWindow;else break;i=Ml(e.document)}return i}function Vs(e){var i=e&&e.nodeName&&e.nodeName.toLowerCase();return i&&(i==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||i==="textarea"||e.contentEditable==="true")}var Gv=on&&"documentMode"in document&&11>=document.documentMode,Ii=null,qs=null,Io=null,Os=!1;function mf(e,i,l){var r=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Os||Ii==null||Ii!==Ml(r)||(r=Ii,"selectionStart"in r&&Vs(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Io&&wo(Io,r)||(Io=r,r=Aa(qs,"onSelect"),0<r.length&&(i=new Ll("onSelect","select",null,i,l),e.push({event:i,listeners:r}),i.target=Ii)))}function ii(e,i){var l={};return l[e.toLowerCase()]=i.toLowerCase(),l["Webkit"+e]="webkit"+i,l["Moz"+e]="moz"+i,l}var Di={animationend:ii("Animation","AnimationEnd"),animationiteration:ii("Animation","AnimationIteration"),animationstart:ii("Animation","AnimationStart"),transitionrun:ii("Transition","TransitionRun"),transitionstart:ii("Transition","TransitionStart"),transitioncancel:ii("Transition","TransitionCancel"),transitionend:ii("Transition","TransitionEnd")},Bs={},gf={};on&&(gf=document.createElement("div").style,"AnimationEvent"in window||(delete Di.animationend.animation,delete Di.animationiteration.animation,delete Di.animationstart.animation),"TransitionEvent"in window||delete Di.transitionend.transition);function oi(e){if(Bs[e])return Bs[e];if(!Di[e])return e;var i=Di[e],l;for(l in i)if(i.hasOwnProperty(l)&&l in gf)return Bs[e]=i[l];return e}var yf=oi("animationend"),vf=oi("animationiteration"),Tf=oi("animationstart"),Hv=oi("transitionrun"),Pv=oi("transitionstart"),kv=oi("transitioncancel"),Sf=oi("transitionend"),Ef=new Map,zs="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zs.push("scrollEnd");function zt(e,i){Ef.set(e,i),ti(i,[e])}var Pl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Dt=[],Ui=0,Fs=0;function kl(){for(var e=Ui,i=Fs=Ui=0;i<e;){var l=Dt[i];Dt[i++]=null;var r=Dt[i];Dt[i++]=null;var p=Dt[i];Dt[i++]=null;var g=Dt[i];if(Dt[i++]=null,r!==null&&p!==null){var S=r.pending;S===null?p.next=p:(p.next=S.next,S.next=p),r.pending=p}g!==0&&_f(l,p,g)}}function Vl(e,i,l,r){Dt[Ui++]=e,Dt[Ui++]=i,Dt[Ui++]=l,Dt[Ui++]=r,Fs|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Js(e,i,l,r){return Vl(e,i,l,r),ql(e)}function li(e,i){return Vl(e,null,null,i),ql(e)}function _f(e,i,l){e.lanes|=l;var r=e.alternate;r!==null&&(r.lanes|=l);for(var p=!1,g=e.return;g!==null;)g.childLanes|=l,r=g.alternate,r!==null&&(r.childLanes|=l),g.tag===22&&(e=g.stateNode,e===null||e._visibility&1||(p=!0)),e=g,g=g.return;return e.tag===3?(g=e.stateNode,p&&i!==null&&(p=31-_t(l),e=g.hiddenUpdates,r=e[p],r===null?e[p]=[i]:r.push(i),i.lane=l|536870912),g):null}function ql(e){if(50<jo)throw jo=0,eu=null,Error(a(185));for(var i=e.return;i!==null;)e=i,i=e.return;return e.tag===3?e.stateNode:null}var Li={};function Vv(e,i,l,r){this.tag=e,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function At(e,i,l,r){return new Vv(e,i,l,r)}function Ys(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ln(e,i){var l=e.alternate;return l===null?(l=At(e.tag,i,e.key,e.mode),l.elementType=e.elementType,l.type=e.type,l.stateNode=e.stateNode,l.alternate=e,e.alternate=l):(l.pendingProps=i,l.type=e.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=e.flags&65011712,l.childLanes=e.childLanes,l.lanes=e.lanes,l.child=e.child,l.memoizedProps=e.memoizedProps,l.memoizedState=e.memoizedState,l.updateQueue=e.updateQueue,i=e.dependencies,l.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},l.sibling=e.sibling,l.index=e.index,l.ref=e.ref,l.refCleanup=e.refCleanup,l}function Cf(e,i){e.flags&=65011714;var l=e.alternate;return l===null?(e.childLanes=0,e.lanes=i,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=l.childLanes,e.lanes=l.lanes,e.child=l.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=l.memoizedProps,e.memoizedState=l.memoizedState,e.updateQueue=l.updateQueue,e.type=l.type,i=l.dependencies,e.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),e}function Ol(e,i,l,r,p,g){var S=0;if(r=e,typeof e=="function")Ys(e)&&(S=1);else if(typeof e=="string")S=F0(e,l,ee.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Q:return e=At(31,l,i,p),e.elementType=Q,e.lanes=g,e;case N:return ai(l.children,p,g,i);case b:S=8,p|=24;break;case G:return e=At(12,l,i,p|2),e.elementType=G,e.lanes=g,e;case V:return e=At(13,l,i,p),e.elementType=V,e.lanes=g,e;case Z:return e=At(19,l,i,p),e.elementType=Z,e.lanes=g,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:S=10;break e;case I:S=9;break e;case J:S=11;break e;case K:S=14;break e;case te:S=16,r=null;break e}S=29,l=Error(a(130,e===null?"null":typeof e,"")),r=null}return i=At(S,l,i,p),i.elementType=e,i.type=r,i.lanes=g,i}function ai(e,i,l,r){return e=At(7,e,r,i),e.lanes=l,e}function Ks(e,i,l){return e=At(6,e,null,i),e.lanes=l,e}function Af(e){var i=At(18,null,null,0);return i.stateNode=e,i}function Xs(e,i,l){return i=At(4,e.children!==null?e.children:[],e.key,i),i.lanes=l,i.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},i}var xf=new WeakMap;function Ut(e,i){if(typeof e=="object"&&e!==null){var l=xf.get(e);return l!==void 0?l:(i={value:e,source:i,stack:Cc(i)},xf.set(e,i),i)}return{value:e,source:i,stack:Cc(i)}}var Gi=[],Hi=0,Bl=null,Do=0,Lt=[],Gt=0,Mn=null,$t=1,Zt="";function an(e,i){Gi[Hi++]=Do,Gi[Hi++]=Bl,Bl=e,Do=i}function Rf(e,i,l){Lt[Gt++]=$t,Lt[Gt++]=Zt,Lt[Gt++]=Mn,Mn=e;var r=$t;e=Zt;var p=32-_t(r)-1;r&=~(1<<p),l+=1;var g=32-_t(i)+p;if(30<g){var S=p-p%5;g=(r&(1<<S)-1).toString(32),r>>=S,p-=S,$t=1<<32-_t(i)+p|l<<p|r,Zt=g+e}else $t=1<<g|l<<p|r,Zt=e}function Qs(e){e.return!==null&&(an(e,1),Rf(e,1,0))}function $s(e){for(;e===Bl;)Bl=Gi[--Hi],Gi[Hi]=null,Do=Gi[--Hi],Gi[Hi]=null;for(;e===Mn;)Mn=Lt[--Gt],Lt[Gt]=null,Zt=Lt[--Gt],Lt[Gt]=null,$t=Lt[--Gt],Lt[Gt]=null}function Nf(e,i){Lt[Gt++]=$t,Lt[Gt++]=Zt,Lt[Gt++]=Mn,$t=i.id,Zt=i.overflow,Mn=e}var it=null,Ge=null,ye=!1,wn=null,Ht=!1,Zs=Error(a(519));function In(e){var i=Error(a(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Uo(Ut(i,e)),Zs}function bf(e){var i=e.stateNode,l=e.type,r=e.memoizedProps;switch(i[nt]=e,i[pt]=r,l){case"dialog":he("cancel",i),he("close",i);break;case"iframe":case"object":case"embed":he("load",i);break;case"video":case"audio":for(l=0;l<tl.length;l++)he(tl[l],i);break;case"source":he("error",i);break;case"img":case"image":case"link":he("error",i),he("load",i);break;case"details":he("toggle",i);break;case"input":he("invalid",i),qc(i,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0);break;case"select":he("invalid",i);break;case"textarea":he("invalid",i),Bc(i,r.value,r.defaultValue,r.children)}l=r.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||i.textContent===""+l||r.suppressHydrationWarning===!0||Jp(i.textContent,l)?(r.popover!=null&&(he("beforetoggle",i),he("toggle",i)),r.onScroll!=null&&he("scroll",i),r.onScrollEnd!=null&&he("scrollend",i),r.onClick!=null&&(i.onclick=nn),i=!0):i=!1,i||In(e,!0)}function Mf(e){for(it=e.return;it;)switch(it.tag){case 5:case 31:case 13:Ht=!1;return;case 27:case 3:Ht=!0;return;default:it=it.return}}function Pi(e){if(e!==it)return!1;if(!ye)return Mf(e),ye=!0,!1;var i=e.tag,l;if((l=i!==3&&i!==27)&&((l=i===5)&&(l=e.type,l=!(l!=="form"&&l!=="button")||mu(e.type,e.memoizedProps)),l=!l),l&&Ge&&In(e),Mf(e),i===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ge=eh(e)}else if(i===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(317));Ge=eh(e)}else i===27?(i=Ge,Jn(e.type)?(e=Su,Su=null,Ge=e):Ge=i):Ge=it?kt(e.stateNode.nextSibling):null;return!0}function si(){Ge=it=null,ye=!1}function Ws(){var e=wn;return e!==null&&(vt===null?vt=e:vt.push.apply(vt,e),wn=null),e}function Uo(e){wn===null?wn=[e]:wn.push(e)}var js=w(null),ri=null,sn=null;function Dn(e,i,l){W(js,i._currentValue),i._currentValue=l}function rn(e){e._currentValue=js.current,Y(js)}function er(e,i,l){for(;e!==null;){var r=e.alternate;if((e.childLanes&i)!==i?(e.childLanes|=i,r!==null&&(r.childLanes|=i)):r!==null&&(r.childLanes&i)!==i&&(r.childLanes|=i),e===l)break;e=e.return}}function tr(e,i,l,r){var p=e.child;for(p!==null&&(p.return=e);p!==null;){var g=p.dependencies;if(g!==null){var S=p.child;g=g.firstContext;e:for(;g!==null;){var _=g;g=p;for(var x=0;x<i.length;x++)if(_.context===i[x]){g.lanes|=l,_=g.alternate,_!==null&&(_.lanes|=l),er(g.return,l,e),r||(S=null);break e}g=_.next}}else if(p.tag===18){if(S=p.return,S===null)throw Error(a(341));S.lanes|=l,g=S.alternate,g!==null&&(g.lanes|=l),er(S,l,e),S=null}else S=p.child;if(S!==null)S.return=p;else for(S=p;S!==null;){if(S===e){S=null;break}if(p=S.sibling,p!==null){p.return=S.return,S=p;break}S=S.return}p=S}}function ki(e,i,l,r){e=null;for(var p=i,g=!1;p!==null;){if(!g){if((p.flags&524288)!==0)g=!0;else if((p.flags&262144)!==0)break}if(p.tag===10){var S=p.alternate;if(S===null)throw Error(a(387));if(S=S.memoizedProps,S!==null){var _=p.type;Ct(p.pendingProps.value,S.value)||(e!==null?e.push(_):e=[_])}}else if(p===Ae.current){if(S=p.alternate,S===null)throw Error(a(387));S.memoizedState.memoizedState!==p.memoizedState.memoizedState&&(e!==null?e.push(al):e=[al])}p=p.return}e!==null&&tr(i,e,l,r),i.flags|=262144}function zl(e){for(e=e.firstContext;e!==null;){if(!Ct(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ui(e){ri=e,sn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function ot(e){return wf(ri,e)}function Fl(e,i){return ri===null&&ui(e),wf(e,i)}function wf(e,i){var l=i._currentValue;if(i={context:i,memoizedValue:l,next:null},sn===null){if(e===null)throw Error(a(308));sn=i,e.dependencies={lanes:0,firstContext:i},e.flags|=524288}else sn=sn.next=i;return l}var qv=typeof AbortController<"u"?AbortController:function(){var e=[],i=this.signal={aborted:!1,addEventListener:function(l,r){e.push(r)}};this.abort=function(){i.aborted=!0,e.forEach(function(l){return l()})}},Ov=n.unstable_scheduleCallback,Bv=n.unstable_NormalPriority,Je={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function nr(){return{controller:new qv,data:new Map,refCount:0}}function Lo(e){e.refCount--,e.refCount===0&&Ov(Bv,function(){e.controller.abort()})}var Go=null,ir=0,Vi=0,qi=null;function zv(e,i){if(Go===null){var l=Go=[];ir=0,Vi=au(),qi={status:"pending",value:void 0,then:function(r){l.push(r)}}}return ir++,i.then(If,If),i}function If(){if(--ir===0&&Go!==null){qi!==null&&(qi.status="fulfilled");var e=Go;Go=null,Vi=0,qi=null;for(var i=0;i<e.length;i++)(0,e[i])()}}function Fv(e,i){var l=[],r={status:"pending",value:null,reason:null,then:function(p){l.push(p)}};return e.then(function(){r.status="fulfilled",r.value=i;for(var p=0;p<l.length;p++)(0,l[p])(i)},function(p){for(r.status="rejected",r.reason=p,p=0;p<l.length;p++)(0,l[p])(void 0)}),r}var Df=B.S;B.S=function(e,i){mp=St(),typeof i=="object"&&i!==null&&typeof i.then=="function"&&zv(e,i),Df!==null&&Df(e,i)};var ci=w(null);function or(){var e=ci.current;return e!==null?e:De.pooledCache}function Jl(e,i){i===null?W(ci,ci.current):W(ci,i.pool)}function Uf(){var e=or();return e===null?null:{parent:Je._currentValue,pool:e}}var Oi=Error(a(460)),lr=Error(a(474)),Yl=Error(a(542)),Kl={then:function(){}};function Lf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Gf(e,i,l){switch(l=e[l],l===void 0?e.push(i):l!==i&&(i.then(nn,nn),i=l),i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Pf(e),e;default:if(typeof i.status=="string")i.then(nn,nn);else{if(e=De,e!==null&&100<e.shellSuspendCounter)throw Error(a(482));e=i,e.status="pending",e.then(function(r){if(i.status==="pending"){var p=i;p.status="fulfilled",p.value=r}},function(r){if(i.status==="pending"){var p=i;p.status="rejected",p.reason=r}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw e=i.reason,Pf(e),e}throw di=i,Oi}}function fi(e){try{var i=e._init;return i(e._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(di=l,Oi):l}}var di=null;function Hf(){if(di===null)throw Error(a(459));var e=di;return di=null,e}function Pf(e){if(e===Oi||e===Yl)throw Error(a(483))}var Bi=null,Ho=0;function Xl(e){var i=Ho;return Ho+=1,Bi===null&&(Bi=[]),Gf(Bi,e,i)}function Po(e,i){i=i.props.ref,e.ref=i!==void 0?i:null}function Ql(e,i){throw i.$$typeof===E?Error(a(525)):(e=Object.prototype.toString.call(i),Error(a(31,e==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":e)))}function kf(e){function i(U,M){if(e){var L=U.deletions;L===null?(U.deletions=[M],U.flags|=16):L.push(M)}}function l(U,M){if(!e)return null;for(;M!==null;)i(U,M),M=M.sibling;return null}function r(U){for(var M=new Map;U!==null;)U.key!==null?M.set(U.key,U):M.set(U.index,U),U=U.sibling;return M}function p(U,M){return U=ln(U,M),U.index=0,U.sibling=null,U}function g(U,M,L){return U.index=L,e?(L=U.alternate,L!==null?(L=L.index,L<M?(U.flags|=67108866,M):L):(U.flags|=67108866,M)):(U.flags|=1048576,M)}function S(U){return e&&U.alternate===null&&(U.flags|=67108866),U}function _(U,M,L,z){return M===null||M.tag!==6?(M=Ks(L,U.mode,z),M.return=U,M):(M=p(M,L),M.return=U,M)}function x(U,M,L,z){var oe=L.type;return oe===N?O(U,M,L.props.children,z,L.key):M!==null&&(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===te&&fi(oe)===M.type)?(M=p(M,L.props),Po(M,L),M.return=U,M):(M=Ol(L.type,L.key,L.props,null,U.mode,z),Po(M,L),M.return=U,M)}function H(U,M,L,z){return M===null||M.tag!==4||M.stateNode.containerInfo!==L.containerInfo||M.stateNode.implementation!==L.implementation?(M=Xs(L,U.mode,z),M.return=U,M):(M=p(M,L.children||[]),M.return=U,M)}function O(U,M,L,z,oe){return M===null||M.tag!==7?(M=ai(L,U.mode,z,oe),M.return=U,M):(M=p(M,L),M.return=U,M)}function F(U,M,L){if(typeof M=="string"&&M!==""||typeof M=="number"||typeof M=="bigint")return M=Ks(""+M,U.mode,L),M.return=U,M;if(typeof M=="object"&&M!==null){switch(M.$$typeof){case C:return L=Ol(M.type,M.key,M.props,null,U.mode,L),Po(L,M),L.return=U,L;case R:return M=Xs(M,U.mode,L),M.return=U,M;case te:return M=fi(M),F(U,M,L)}if(We(M)||Ne(M))return M=ai(M,U.mode,L,null),M.return=U,M;if(typeof M.then=="function")return F(U,Xl(M),L);if(M.$$typeof===D)return F(U,Fl(U,M),L);Ql(U,M)}return null}function k(U,M,L,z){var oe=M!==null?M.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return oe!==null?null:_(U,M,""+L,z);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case C:return L.key===oe?x(U,M,L,z):null;case R:return L.key===oe?H(U,M,L,z):null;case te:return L=fi(L),k(U,M,L,z)}if(We(L)||Ne(L))return oe!==null?null:O(U,M,L,z,null);if(typeof L.then=="function")return k(U,M,Xl(L),z);if(L.$$typeof===D)return k(U,M,Fl(U,L),z);Ql(U,L)}return null}function q(U,M,L,z,oe){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return U=U.get(L)||null,_(M,U,""+z,oe);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case C:return U=U.get(z.key===null?L:z.key)||null,x(M,U,z,oe);case R:return U=U.get(z.key===null?L:z.key)||null,H(M,U,z,oe);case te:return z=fi(z),q(U,M,L,z,oe)}if(We(z)||Ne(z))return U=U.get(L)||null,O(M,U,z,oe,null);if(typeof z.then=="function")return q(U,M,L,Xl(z),oe);if(z.$$typeof===D)return q(U,M,L,Fl(M,z),oe);Ql(M,z)}return null}function j(U,M,L,z){for(var oe=null,Te=null,ne=M,fe=M=0,ge=null;ne!==null&&fe<L.length;fe++){ne.index>fe?(ge=ne,ne=null):ge=ne.sibling;var Se=k(U,ne,L[fe],z);if(Se===null){ne===null&&(ne=ge);break}e&&ne&&Se.alternate===null&&i(U,ne),M=g(Se,M,fe),Te===null?oe=Se:Te.sibling=Se,Te=Se,ne=ge}if(fe===L.length)return l(U,ne),ye&&an(U,fe),oe;if(ne===null){for(;fe<L.length;fe++)ne=F(U,L[fe],z),ne!==null&&(M=g(ne,M,fe),Te===null?oe=ne:Te.sibling=ne,Te=ne);return ye&&an(U,fe),oe}for(ne=r(ne);fe<L.length;fe++)ge=q(ne,U,fe,L[fe],z),ge!==null&&(e&&ge.alternate!==null&&ne.delete(ge.key===null?fe:ge.key),M=g(ge,M,fe),Te===null?oe=ge:Te.sibling=ge,Te=ge);return e&&ne.forEach(function($n){return i(U,$n)}),ye&&an(U,fe),oe}function le(U,M,L,z){if(L==null)throw Error(a(151));for(var oe=null,Te=null,ne=M,fe=M=0,ge=null,Se=L.next();ne!==null&&!Se.done;fe++,Se=L.next()){ne.index>fe?(ge=ne,ne=null):ge=ne.sibling;var $n=k(U,ne,Se.value,z);if($n===null){ne===null&&(ne=ge);break}e&&ne&&$n.alternate===null&&i(U,ne),M=g($n,M,fe),Te===null?oe=$n:Te.sibling=$n,Te=$n,ne=ge}if(Se.done)return l(U,ne),ye&&an(U,fe),oe;if(ne===null){for(;!Se.done;fe++,Se=L.next())Se=F(U,Se.value,z),Se!==null&&(M=g(Se,M,fe),Te===null?oe=Se:Te.sibling=Se,Te=Se);return ye&&an(U,fe),oe}for(ne=r(ne);!Se.done;fe++,Se=L.next())Se=q(ne,U,fe,Se.value,z),Se!==null&&(e&&Se.alternate!==null&&ne.delete(Se.key===null?fe:Se.key),M=g(Se,M,fe),Te===null?oe=Se:Te.sibling=Se,Te=Se);return e&&ne.forEach(function(tT){return i(U,tT)}),ye&&an(U,fe),oe}function we(U,M,L,z){if(typeof L=="object"&&L!==null&&L.type===N&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case C:e:{for(var oe=L.key;M!==null;){if(M.key===oe){if(oe=L.type,oe===N){if(M.tag===7){l(U,M.sibling),z=p(M,L.props.children),z.return=U,U=z;break e}}else if(M.elementType===oe||typeof oe=="object"&&oe!==null&&oe.$$typeof===te&&fi(oe)===M.type){l(U,M.sibling),z=p(M,L.props),Po(z,L),z.return=U,U=z;break e}l(U,M);break}else i(U,M);M=M.sibling}L.type===N?(z=ai(L.props.children,U.mode,z,L.key),z.return=U,U=z):(z=Ol(L.type,L.key,L.props,null,U.mode,z),Po(z,L),z.return=U,U=z)}return S(U);case R:e:{for(oe=L.key;M!==null;){if(M.key===oe)if(M.tag===4&&M.stateNode.containerInfo===L.containerInfo&&M.stateNode.implementation===L.implementation){l(U,M.sibling),z=p(M,L.children||[]),z.return=U,U=z;break e}else{l(U,M);break}else i(U,M);M=M.sibling}z=Xs(L,U.mode,z),z.return=U,U=z}return S(U);case te:return L=fi(L),we(U,M,L,z)}if(We(L))return j(U,M,L,z);if(Ne(L)){if(oe=Ne(L),typeof oe!="function")throw Error(a(150));return L=oe.call(L),le(U,M,L,z)}if(typeof L.then=="function")return we(U,M,Xl(L),z);if(L.$$typeof===D)return we(U,M,Fl(U,L),z);Ql(U,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,M!==null&&M.tag===6?(l(U,M.sibling),z=p(M,L),z.return=U,U=z):(l(U,M),z=Ks(L,U.mode,z),z.return=U,U=z),S(U)):l(U,M)}return function(U,M,L,z){try{Ho=0;var oe=we(U,M,L,z);return Bi=null,oe}catch(ne){if(ne===Oi||ne===Yl)throw ne;var Te=At(29,ne,null,U.mode);return Te.lanes=z,Te.return=U,Te}finally{}}}var pi=kf(!0),Vf=kf(!1),Un=!1;function ar(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sr(e,i){e=e.updateQueue,i.updateQueue===e&&(i.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Ln(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Gn(e,i,l){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(Ce&2)!==0){var p=r.pending;return p===null?i.next=i:(i.next=p.next,p.next=i),r.pending=i,i=ql(e),_f(e,null,l),i}return Vl(e,r,i,l),ql(e)}function ko(e,i,l){if(i=i.updateQueue,i!==null&&(i=i.shared,(l&4194048)!==0)){var r=i.lanes;r&=e.pendingLanes,l|=r,i.lanes=l,Mc(e,l)}}function rr(e,i){var l=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,l===r)){var p=null,g=null;if(l=l.firstBaseUpdate,l!==null){do{var S={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};g===null?p=g=S:g=g.next=S,l=l.next}while(l!==null);g===null?p=g=i:g=g.next=i}else p=g=i;l={baseState:r.baseState,firstBaseUpdate:p,lastBaseUpdate:g,shared:r.shared,callbacks:r.callbacks},e.updateQueue=l;return}e=l.lastBaseUpdate,e===null?l.firstBaseUpdate=i:e.next=i,l.lastBaseUpdate=i}var ur=!1;function Vo(){if(ur){var e=qi;if(e!==null)throw e}}function qo(e,i,l,r){ur=!1;var p=e.updateQueue;Un=!1;var g=p.firstBaseUpdate,S=p.lastBaseUpdate,_=p.shared.pending;if(_!==null){p.shared.pending=null;var x=_,H=x.next;x.next=null,S===null?g=H:S.next=H,S=x;var O=e.alternate;O!==null&&(O=O.updateQueue,_=O.lastBaseUpdate,_!==S&&(_===null?O.firstBaseUpdate=H:_.next=H,O.lastBaseUpdate=x))}if(g!==null){var F=p.baseState;S=0,O=H=x=null,_=g;do{var k=_.lane&-536870913,q=k!==_.lane;if(q?(me&k)===k:(r&k)===k){k!==0&&k===Vi&&(ur=!0),O!==null&&(O=O.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var j=e,le=_;k=i;var we=l;switch(le.tag){case 1:if(j=le.payload,typeof j=="function"){F=j.call(we,F,k);break e}F=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=le.payload,k=typeof j=="function"?j.call(we,F,k):j,k==null)break e;F=T({},F,k);break e;case 2:Un=!0}}k=_.callback,k!==null&&(e.flags|=64,q&&(e.flags|=8192),q=p.callbacks,q===null?p.callbacks=[k]:q.push(k))}else q={lane:k,tag:_.tag,payload:_.payload,callback:_.callback,next:null},O===null?(H=O=q,x=F):O=O.next=q,S|=k;if(_=_.next,_===null){if(_=p.shared.pending,_===null)break;q=_,_=q.next,q.next=null,p.lastBaseUpdate=q,p.shared.pending=null}}while(!0);O===null&&(x=F),p.baseState=x,p.firstBaseUpdate=H,p.lastBaseUpdate=O,g===null&&(p.shared.lanes=0),qn|=S,e.lanes=S,e.memoizedState=F}}function qf(e,i){if(typeof e!="function")throw Error(a(191,e));e.call(i)}function Of(e,i){var l=e.callbacks;if(l!==null)for(e.callbacks=null,e=0;e<l.length;e++)qf(l[e],i)}var zi=w(null),$l=w(0);function Bf(e,i){e=yn,W($l,e),W(zi,i),yn=e|i.baseLanes}function cr(){W($l,yn),W(zi,zi.current)}function fr(){yn=$l.current,Y(zi),Y($l)}var xt=w(null),Pt=null;function Hn(e){var i=e.alternate;W(ze,ze.current&1),W(xt,e),Pt===null&&(i===null||zi.current!==null||i.memoizedState!==null)&&(Pt=e)}function dr(e){W(ze,ze.current),W(xt,e),Pt===null&&(Pt=e)}function zf(e){e.tag===22?(W(ze,ze.current),W(xt,e),Pt===null&&(Pt=e)):Pn()}function Pn(){W(ze,ze.current),W(xt,xt.current)}function Rt(e){Y(xt),Pt===e&&(Pt=null),Y(ze)}var ze=w(0);function Zl(e){for(var i=e;i!==null;){if(i.tag===13){var l=i.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||vu(l)||Tu(l)))return i}else if(i.tag===19&&(i.memoizedProps.revealOrder==="forwards"||i.memoizedProps.revealOrder==="backwards"||i.memoizedProps.revealOrder==="unstable_legacy-backwards"||i.memoizedProps.revealOrder==="together")){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}var un=0,ce=null,be=null,Ye=null,Wl=!1,Fi=!1,hi=!1,jl=0,Oo=0,Ji=null,Jv=0;function Ve(){throw Error(a(321))}function pr(e,i){if(i===null)return!1;for(var l=0;l<i.length&&l<e.length;l++)if(!Ct(e[l],i[l]))return!1;return!0}function hr(e,i,l,r,p,g){return un=g,ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,B.H=e===null||e.memoizedState===null?Rd:Mr,hi=!1,g=l(r,p),hi=!1,Fi&&(g=Jf(i,l,r,p)),Ff(e),g}function Ff(e){B.H=Fo;var i=be!==null&&be.next!==null;if(un=0,Ye=be=ce=null,Wl=!1,Oo=0,Ji=null,i)throw Error(a(300));e===null||Ke||(e=e.dependencies,e!==null&&zl(e)&&(Ke=!0))}function Jf(e,i,l,r){ce=e;var p=0;do{if(Fi&&(Ji=null),Oo=0,Fi=!1,25<=p)throw Error(a(301));if(p+=1,Ye=be=null,e.updateQueue!=null){var g=e.updateQueue;g.lastEffect=null,g.events=null,g.stores=null,g.memoCache!=null&&(g.memoCache.index=0)}B.H=Nd,g=i(l,r)}while(Fi);return g}function Yv(){var e=B.H,i=e.useState()[0];return i=typeof i.then=="function"?Bo(i):i,e=e.useState()[0],(be!==null?be.memoizedState:null)!==e&&(ce.flags|=1024),i}function mr(){var e=jl!==0;return jl=0,e}function gr(e,i,l){i.updateQueue=e.updateQueue,i.flags&=-2053,e.lanes&=~l}function yr(e){if(Wl){for(e=e.memoizedState;e!==null;){var i=e.queue;i!==null&&(i.pending=null),e=e.next}Wl=!1}un=0,Ye=be=ce=null,Fi=!1,Oo=jl=0,Ji=null}function ct(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ye===null?ce.memoizedState=Ye=e:Ye=Ye.next=e,Ye}function Fe(){if(be===null){var e=ce.alternate;e=e!==null?e.memoizedState:null}else e=be.next;var i=Ye===null?ce.memoizedState:Ye.next;if(i!==null)Ye=i,be=e;else{if(e===null)throw ce.alternate===null?Error(a(467)):Error(a(310));be=e,e={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ye===null?ce.memoizedState=Ye=e:Ye=Ye.next=e}return Ye}function ea(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Bo(e){var i=Oo;return Oo+=1,Ji===null&&(Ji=[]),e=Gf(Ji,e,i),i=ce,(Ye===null?i.memoizedState:Ye.next)===null&&(i=i.alternate,B.H=i===null||i.memoizedState===null?Rd:Mr),e}function ta(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Bo(e);if(e.$$typeof===D)return ot(e)}throw Error(a(438,String(e)))}function vr(e){var i=null,l=ce.updateQueue;if(l!==null&&(i=l.memoCache),i==null){var r=ce.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(i={data:r.data.map(function(p){return p.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),l===null&&(l=ea(),ce.updateQueue=l),l.memoCache=i,l=i.data[i.index],l===void 0)for(l=i.data[i.index]=Array(e),r=0;r<e;r++)l[r]=ae;return i.index++,l}function cn(e,i){return typeof i=="function"?i(e):i}function na(e){var i=Fe();return Tr(i,be,e)}function Tr(e,i,l){var r=e.queue;if(r===null)throw Error(a(311));r.lastRenderedReducer=l;var p=e.baseQueue,g=r.pending;if(g!==null){if(p!==null){var S=p.next;p.next=g.next,g.next=S}i.baseQueue=p=g,r.pending=null}if(g=e.baseState,p===null)e.memoizedState=g;else{i=p.next;var _=S=null,x=null,H=i,O=!1;do{var F=H.lane&-536870913;if(F!==H.lane?(me&F)===F:(un&F)===F){var k=H.revertLane;if(k===0)x!==null&&(x=x.next={lane:0,revertLane:0,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null}),F===Vi&&(O=!0);else if((un&k)===k){H=H.next,k===Vi&&(O=!0);continue}else F={lane:0,revertLane:H.revertLane,gesture:null,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(_=x=F,S=g):x=x.next=F,ce.lanes|=k,qn|=k;F=H.action,hi&&l(g,F),g=H.hasEagerState?H.eagerState:l(g,F)}else k={lane:F,revertLane:H.revertLane,gesture:H.gesture,action:H.action,hasEagerState:H.hasEagerState,eagerState:H.eagerState,next:null},x===null?(_=x=k,S=g):x=x.next=k,ce.lanes|=F,qn|=F;H=H.next}while(H!==null&&H!==i);if(x===null?S=g:x.next=_,!Ct(g,e.memoizedState)&&(Ke=!0,O&&(l=qi,l!==null)))throw l;e.memoizedState=g,e.baseState=S,e.baseQueue=x,r.lastRenderedState=g}return p===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function Sr(e){var i=Fe(),l=i.queue;if(l===null)throw Error(a(311));l.lastRenderedReducer=e;var r=l.dispatch,p=l.pending,g=i.memoizedState;if(p!==null){l.pending=null;var S=p=p.next;do g=e(g,S.action),S=S.next;while(S!==p);Ct(g,i.memoizedState)||(Ke=!0),i.memoizedState=g,i.baseQueue===null&&(i.baseState=g),l.lastRenderedState=g}return[g,r]}function Yf(e,i,l){var r=ce,p=Fe(),g=ye;if(g){if(l===void 0)throw Error(a(407));l=l()}else l=i();var S=!Ct((be||p).memoizedState,l);if(S&&(p.memoizedState=l,Ke=!0),p=p.queue,Cr(Qf.bind(null,r,p,e),[e]),p.getSnapshot!==i||S||Ye!==null&&Ye.memoizedState.tag&1){if(r.flags|=2048,Yi(9,{destroy:void 0},Xf.bind(null,r,p,l,i),null),De===null)throw Error(a(349));g||(un&127)!==0||Kf(r,i,l)}return l}function Kf(e,i,l){e.flags|=16384,e={getSnapshot:i,value:l},i=ce.updateQueue,i===null?(i=ea(),ce.updateQueue=i,i.stores=[e]):(l=i.stores,l===null?i.stores=[e]:l.push(e))}function Xf(e,i,l,r){i.value=l,i.getSnapshot=r,$f(i)&&Zf(e)}function Qf(e,i,l){return l(function(){$f(i)&&Zf(e)})}function $f(e){var i=e.getSnapshot;e=e.value;try{var l=i();return!Ct(e,l)}catch{return!0}}function Zf(e){var i=li(e,2);i!==null&&Tt(i,e,2)}function Er(e){var i=ct();if(typeof e=="function"){var l=e;if(e=l(),hi){Rn(!0);try{l()}finally{Rn(!1)}}}return i.memoizedState=i.baseState=e,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:e},i}function Wf(e,i,l,r){return e.baseState=l,Tr(e,be,typeof r=="function"?r:cn)}function Kv(e,i,l,r,p){if(la(e))throw Error(a(485));if(e=i.action,e!==null){var g={payload:p,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(S){g.listeners.push(S)}};B.T!==null?l(!0):g.isTransition=!1,r(g),l=i.pending,l===null?(g.next=i.pending=g,jf(i,g)):(g.next=l.next,i.pending=l.next=g)}}function jf(e,i){var l=i.action,r=i.payload,p=e.state;if(i.isTransition){var g=B.T,S={};B.T=S;try{var _=l(p,r),x=B.S;x!==null&&x(S,_),ed(e,i,_)}catch(H){_r(e,i,H)}finally{g!==null&&S.types!==null&&(g.types=S.types),B.T=g}}else try{g=l(p,r),ed(e,i,g)}catch(H){_r(e,i,H)}}function ed(e,i,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(r){td(e,i,r)},function(r){return _r(e,i,r)}):td(e,i,l)}function td(e,i,l){i.status="fulfilled",i.value=l,nd(i),e.state=l,i=e.pending,i!==null&&(l=i.next,l===i?e.pending=null:(l=l.next,i.next=l,jf(e,l)))}function _r(e,i,l){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do i.status="rejected",i.reason=l,nd(i),i=i.next;while(i!==r)}e.action=null}function nd(e){e=e.listeners;for(var i=0;i<e.length;i++)(0,e[i])()}function id(e,i){return i}function od(e,i){if(ye){var l=De.formState;if(l!==null){e:{var r=ce;if(ye){if(Ge){t:{for(var p=Ge,g=Ht;p.nodeType!==8;){if(!g){p=null;break t}if(p=kt(p.nextSibling),p===null){p=null;break t}}g=p.data,p=g==="F!"||g==="F"?p:null}if(p){Ge=kt(p.nextSibling),r=p.data==="F!";break e}}In(r)}r=!1}r&&(i=l[0])}}return l=ct(),l.memoizedState=l.baseState=i,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:id,lastRenderedState:i},l.queue=r,l=Cd.bind(null,ce,r),r.dispatch=l,r=Er(!1),g=br.bind(null,ce,!1,r.queue),r=ct(),p={state:i,dispatch:null,action:e,pending:null},r.queue=p,l=Kv.bind(null,ce,p,g,l),p.dispatch=l,r.memoizedState=e,[i,l,!1]}function ld(e){var i=Fe();return ad(i,be,e)}function ad(e,i,l){if(i=Tr(e,i,id)[0],e=na(cn)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var r=Bo(i)}catch(S){throw S===Oi?Yl:S}else r=i;i=Fe();var p=i.queue,g=p.dispatch;return l!==i.memoizedState&&(ce.flags|=2048,Yi(9,{destroy:void 0},Xv.bind(null,p,l),null)),[r,g,e]}function Xv(e,i){e.action=i}function sd(e){var i=Fe(),l=be;if(l!==null)return ad(i,l,e);Fe(),i=i.memoizedState,l=Fe();var r=l.queue.dispatch;return l.memoizedState=e,[i,r,!1]}function Yi(e,i,l,r){return e={tag:e,create:l,deps:r,inst:i,next:null},i=ce.updateQueue,i===null&&(i=ea(),ce.updateQueue=i),l=i.lastEffect,l===null?i.lastEffect=e.next=e:(r=l.next,l.next=e,e.next=r,i.lastEffect=e),e}function rd(){return Fe().memoizedState}function ia(e,i,l,r){var p=ct();ce.flags|=e,p.memoizedState=Yi(1|i,{destroy:void 0},l,r===void 0?null:r)}function oa(e,i,l,r){var p=Fe();r=r===void 0?null:r;var g=p.memoizedState.inst;be!==null&&r!==null&&pr(r,be.memoizedState.deps)?p.memoizedState=Yi(i,g,l,r):(ce.flags|=e,p.memoizedState=Yi(1|i,g,l,r))}function ud(e,i){ia(8390656,8,e,i)}function Cr(e,i){oa(2048,8,e,i)}function Qv(e){ce.flags|=4;var i=ce.updateQueue;if(i===null)i=ea(),ce.updateQueue=i,i.events=[e];else{var l=i.events;l===null?i.events=[e]:l.push(e)}}function cd(e){var i=Fe().memoizedState;return Qv({ref:i,nextImpl:e}),function(){if((Ce&2)!==0)throw Error(a(440));return i.impl.apply(void 0,arguments)}}function fd(e,i){return oa(4,2,e,i)}function dd(e,i){return oa(4,4,e,i)}function pd(e,i){if(typeof i=="function"){e=e();var l=i(e);return function(){typeof l=="function"?l():i(null)}}if(i!=null)return e=e(),i.current=e,function(){i.current=null}}function hd(e,i,l){l=l!=null?l.concat([e]):null,oa(4,4,pd.bind(null,i,e),l)}function Ar(){}function md(e,i){var l=Fe();i=i===void 0?null:i;var r=l.memoizedState;return i!==null&&pr(i,r[1])?r[0]:(l.memoizedState=[e,i],e)}function gd(e,i){var l=Fe();i=i===void 0?null:i;var r=l.memoizedState;if(i!==null&&pr(i,r[1]))return r[0];if(r=e(),hi){Rn(!0);try{e()}finally{Rn(!1)}}return l.memoizedState=[r,i],r}function xr(e,i,l){return l===void 0||(un&1073741824)!==0&&(me&261930)===0?e.memoizedState=i:(e.memoizedState=l,e=yp(),ce.lanes|=e,qn|=e,l)}function yd(e,i,l,r){return Ct(l,i)?l:zi.current!==null?(e=xr(e,l,r),Ct(e,i)||(Ke=!0),e):(un&42)===0||(un&1073741824)!==0&&(me&261930)===0?(Ke=!0,e.memoizedState=l):(e=yp(),ce.lanes|=e,qn|=e,i)}function vd(e,i,l,r,p){var g=X.p;X.p=g!==0&&8>g?g:8;var S=B.T,_={};B.T=_,br(e,!1,i,l);try{var x=p(),H=B.S;if(H!==null&&H(_,x),x!==null&&typeof x=="object"&&typeof x.then=="function"){var O=Fv(x,r);zo(e,i,O,Mt(e))}else zo(e,i,r,Mt(e))}catch(F){zo(e,i,{then:function(){},status:"rejected",reason:F},Mt())}finally{X.p=g,S!==null&&_.types!==null&&(S.types=_.types),B.T=S}}function $v(){}function Rr(e,i,l,r){if(e.tag!==5)throw Error(a(476));var p=Td(e).queue;vd(e,p,i,ie,l===null?$v:function(){return Sd(e),l(r)})}function Td(e){var i=e.memoizedState;if(i!==null)return i;i={memoizedState:ie,baseState:ie,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:ie},next:null};var l={};return i.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:cn,lastRenderedState:l},next:null},e.memoizedState=i,e=e.alternate,e!==null&&(e.memoizedState=i),i}function Sd(e){var i=Td(e);i.next===null&&(i=e.alternate.memoizedState),zo(e,i.next.queue,{},Mt())}function Nr(){return ot(al)}function Ed(){return Fe().memoizedState}function _d(){return Fe().memoizedState}function Zv(e){for(var i=e.return;i!==null;){switch(i.tag){case 24:case 3:var l=Mt();e=Ln(l);var r=Gn(i,e,l);r!==null&&(Tt(r,i,l),ko(r,i,l)),i={cache:nr()},e.payload=i;return}i=i.return}}function Wv(e,i,l){var r=Mt();l={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},la(e)?Ad(i,l):(l=Js(e,i,l,r),l!==null&&(Tt(l,e,r),xd(l,i,r)))}function Cd(e,i,l){var r=Mt();zo(e,i,l,r)}function zo(e,i,l,r){var p={lane:r,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(la(e))Ad(i,p);else{var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=i.lastRenderedReducer,g!==null))try{var S=i.lastRenderedState,_=g(S,l);if(p.hasEagerState=!0,p.eagerState=_,Ct(_,S))return Vl(e,i,p,0),De===null&&kl(),!1}catch{}finally{}if(l=Js(e,i,p,r),l!==null)return Tt(l,e,r),xd(l,i,r),!0}return!1}function br(e,i,l,r){if(r={lane:2,revertLane:au(),gesture:null,action:r,hasEagerState:!1,eagerState:null,next:null},la(e)){if(i)throw Error(a(479))}else i=Js(e,l,r,2),i!==null&&Tt(i,e,2)}function la(e){var i=e.alternate;return e===ce||i!==null&&i===ce}function Ad(e,i){Fi=Wl=!0;var l=e.pending;l===null?i.next=i:(i.next=l.next,l.next=i),e.pending=i}function xd(e,i,l){if((l&4194048)!==0){var r=i.lanes;r&=e.pendingLanes,l|=r,i.lanes=l,Mc(e,l)}}var Fo={readContext:ot,use:ta,useCallback:Ve,useContext:Ve,useEffect:Ve,useImperativeHandle:Ve,useLayoutEffect:Ve,useInsertionEffect:Ve,useMemo:Ve,useReducer:Ve,useRef:Ve,useState:Ve,useDebugValue:Ve,useDeferredValue:Ve,useTransition:Ve,useSyncExternalStore:Ve,useId:Ve,useHostTransitionStatus:Ve,useFormState:Ve,useActionState:Ve,useOptimistic:Ve,useMemoCache:Ve,useCacheRefresh:Ve};Fo.useEffectEvent=Ve;var Rd={readContext:ot,use:ta,useCallback:function(e,i){return ct().memoizedState=[e,i===void 0?null:i],e},useContext:ot,useEffect:ud,useImperativeHandle:function(e,i,l){l=l!=null?l.concat([e]):null,ia(4194308,4,pd.bind(null,i,e),l)},useLayoutEffect:function(e,i){return ia(4194308,4,e,i)},useInsertionEffect:function(e,i){ia(4,2,e,i)},useMemo:function(e,i){var l=ct();i=i===void 0?null:i;var r=e();if(hi){Rn(!0);try{e()}finally{Rn(!1)}}return l.memoizedState=[r,i],r},useReducer:function(e,i,l){var r=ct();if(l!==void 0){var p=l(i);if(hi){Rn(!0);try{l(i)}finally{Rn(!1)}}}else p=i;return r.memoizedState=r.baseState=p,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:p},r.queue=e,e=e.dispatch=Wv.bind(null,ce,e),[r.memoizedState,e]},useRef:function(e){var i=ct();return e={current:e},i.memoizedState=e},useState:function(e){e=Er(e);var i=e.queue,l=Cd.bind(null,ce,i);return i.dispatch=l,[e.memoizedState,l]},useDebugValue:Ar,useDeferredValue:function(e,i){var l=ct();return xr(l,e,i)},useTransition:function(){var e=Er(!1);return e=vd.bind(null,ce,e.queue,!0,!1),ct().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,i,l){var r=ce,p=ct();if(ye){if(l===void 0)throw Error(a(407));l=l()}else{if(l=i(),De===null)throw Error(a(349));(me&127)!==0||Kf(r,i,l)}p.memoizedState=l;var g={value:l,getSnapshot:i};return p.queue=g,ud(Qf.bind(null,r,g,e),[e]),r.flags|=2048,Yi(9,{destroy:void 0},Xf.bind(null,r,g,l,i),null),l},useId:function(){var e=ct(),i=De.identifierPrefix;if(ye){var l=Zt,r=$t;l=(r&~(1<<32-_t(r)-1)).toString(32)+l,i="_"+i+"R_"+l,l=jl++,0<l&&(i+="H"+l.toString(32)),i+="_"}else l=Jv++,i="_"+i+"r_"+l.toString(32)+"_";return e.memoizedState=i},useHostTransitionStatus:Nr,useFormState:od,useActionState:od,useOptimistic:function(e){var i=ct();i.memoizedState=i.baseState=e;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=l,i=br.bind(null,ce,!0,l),l.dispatch=i,[e,i]},useMemoCache:vr,useCacheRefresh:function(){return ct().memoizedState=Zv.bind(null,ce)},useEffectEvent:function(e){var i=ct(),l={impl:e};return i.memoizedState=l,function(){if((Ce&2)!==0)throw Error(a(440));return l.impl.apply(void 0,arguments)}}},Mr={readContext:ot,use:ta,useCallback:md,useContext:ot,useEffect:Cr,useImperativeHandle:hd,useInsertionEffect:fd,useLayoutEffect:dd,useMemo:gd,useReducer:na,useRef:rd,useState:function(){return na(cn)},useDebugValue:Ar,useDeferredValue:function(e,i){var l=Fe();return yd(l,be.memoizedState,e,i)},useTransition:function(){var e=na(cn)[0],i=Fe().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:Yf,useId:Ed,useHostTransitionStatus:Nr,useFormState:ld,useActionState:ld,useOptimistic:function(e,i){var l=Fe();return Wf(l,be,e,i)},useMemoCache:vr,useCacheRefresh:_d};Mr.useEffectEvent=cd;var Nd={readContext:ot,use:ta,useCallback:md,useContext:ot,useEffect:Cr,useImperativeHandle:hd,useInsertionEffect:fd,useLayoutEffect:dd,useMemo:gd,useReducer:Sr,useRef:rd,useState:function(){return Sr(cn)},useDebugValue:Ar,useDeferredValue:function(e,i){var l=Fe();return be===null?xr(l,e,i):yd(l,be.memoizedState,e,i)},useTransition:function(){var e=Sr(cn)[0],i=Fe().memoizedState;return[typeof e=="boolean"?e:Bo(e),i]},useSyncExternalStore:Yf,useId:Ed,useHostTransitionStatus:Nr,useFormState:sd,useActionState:sd,useOptimistic:function(e,i){var l=Fe();return be!==null?Wf(l,be,e,i):(l.baseState=e,[e,l.queue.dispatch])},useMemoCache:vr,useCacheRefresh:_d};Nd.useEffectEvent=cd;function wr(e,i,l,r){i=e.memoizedState,l=l(r,i),l=l==null?i:T({},i,l),e.memoizedState=l,e.lanes===0&&(e.updateQueue.baseState=l)}var Ir={enqueueSetState:function(e,i,l){e=e._reactInternals;var r=Mt(),p=Ln(r);p.payload=i,l!=null&&(p.callback=l),i=Gn(e,p,r),i!==null&&(Tt(i,e,r),ko(i,e,r))},enqueueReplaceState:function(e,i,l){e=e._reactInternals;var r=Mt(),p=Ln(r);p.tag=1,p.payload=i,l!=null&&(p.callback=l),i=Gn(e,p,r),i!==null&&(Tt(i,e,r),ko(i,e,r))},enqueueForceUpdate:function(e,i){e=e._reactInternals;var l=Mt(),r=Ln(l);r.tag=2,i!=null&&(r.callback=i),i=Gn(e,r,l),i!==null&&(Tt(i,e,l),ko(i,e,l))}};function bd(e,i,l,r,p,g,S){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,g,S):i.prototype&&i.prototype.isPureReactComponent?!wo(l,r)||!wo(p,g):!0}function Md(e,i,l,r){e=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(l,r),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(l,r),i.state!==e&&Ir.enqueueReplaceState(i,i.state,null)}function mi(e,i){var l=i;if("ref"in i){l={};for(var r in i)r!=="ref"&&(l[r]=i[r])}if(e=e.defaultProps){l===i&&(l=T({},l));for(var p in e)l[p]===void 0&&(l[p]=e[p])}return l}function wd(e){Pl(e)}function Id(e){console.error(e)}function Dd(e){Pl(e)}function aa(e,i){try{var l=e.onUncaughtError;l(i.value,{componentStack:i.stack})}catch(r){setTimeout(function(){throw r})}}function Ud(e,i,l){try{var r=e.onCaughtError;r(l.value,{componentStack:l.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(p){setTimeout(function(){throw p})}}function Dr(e,i,l){return l=Ln(l),l.tag=3,l.payload={element:null},l.callback=function(){aa(e,i)},l}function Ld(e){return e=Ln(e),e.tag=3,e}function Gd(e,i,l,r){var p=l.type.getDerivedStateFromError;if(typeof p=="function"){var g=r.value;e.payload=function(){return p(g)},e.callback=function(){Ud(i,l,r)}}var S=l.stateNode;S!==null&&typeof S.componentDidCatch=="function"&&(e.callback=function(){Ud(i,l,r),typeof p!="function"&&(On===null?On=new Set([this]):On.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})})}function jv(e,i,l,r,p){if(l.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(i=l.alternate,i!==null&&ki(i,l,p,!0),l=xt.current,l!==null){switch(l.tag){case 31:case 13:return Pt===null?va():l.alternate===null&&qe===0&&(qe=3),l.flags&=-257,l.flags|=65536,l.lanes=p,r===Kl?l.flags|=16384:(i=l.updateQueue,i===null?l.updateQueue=new Set([r]):i.add(r),iu(e,r,p)),!1;case 22:return l.flags|=65536,r===Kl?l.flags|=16384:(i=l.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([r])},l.updateQueue=i):(l=i.retryQueue,l===null?i.retryQueue=new Set([r]):l.add(r)),iu(e,r,p)),!1}throw Error(a(435,l.tag))}return iu(e,r,p),va(),!1}if(ye)return i=xt.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=p,r!==Zs&&(e=Error(a(422),{cause:r}),Uo(Ut(e,l)))):(r!==Zs&&(i=Error(a(423),{cause:r}),Uo(Ut(i,l))),e=e.current.alternate,e.flags|=65536,p&=-p,e.lanes|=p,r=Ut(r,l),p=Dr(e.stateNode,r,p),rr(e,p),qe!==4&&(qe=2)),!1;var g=Error(a(520),{cause:r});if(g=Ut(g,l),Wo===null?Wo=[g]:Wo.push(g),qe!==4&&(qe=2),i===null)return!0;r=Ut(r,l),l=i;do{switch(l.tag){case 3:return l.flags|=65536,e=p&-p,l.lanes|=e,e=Dr(l.stateNode,r,e),rr(l,e),!1;case 1:if(i=l.type,g=l.stateNode,(l.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(On===null||!On.has(g))))return l.flags|=65536,p&=-p,l.lanes|=p,p=Ld(p),Gd(p,e,l,r),rr(l,p),!1}l=l.return}while(l!==null);return!1}var Ur=Error(a(461)),Ke=!1;function lt(e,i,l,r){i.child=e===null?Vf(i,null,l,r):pi(i,e.child,l,r)}function Hd(e,i,l,r,p){l=l.render;var g=i.ref;if("ref"in r){var S={};for(var _ in r)_!=="ref"&&(S[_]=r[_])}else S=r;return ui(i),r=hr(e,i,l,S,g,p),_=mr(),e!==null&&!Ke?(gr(e,i,p),fn(e,i,p)):(ye&&_&&Qs(i),i.flags|=1,lt(e,i,r,p),i.child)}function Pd(e,i,l,r,p){if(e===null){var g=l.type;return typeof g=="function"&&!Ys(g)&&g.defaultProps===void 0&&l.compare===null?(i.tag=15,i.type=g,kd(e,i,g,r,p)):(e=Ol(l.type,null,r,i,i.mode,p),e.ref=i.ref,e.return=i,i.child=e)}if(g=e.child,!Or(e,p)){var S=g.memoizedProps;if(l=l.compare,l=l!==null?l:wo,l(S,r)&&e.ref===i.ref)return fn(e,i,p)}return i.flags|=1,e=ln(g,r),e.ref=i.ref,e.return=i,i.child=e}function kd(e,i,l,r,p){if(e!==null){var g=e.memoizedProps;if(wo(g,r)&&e.ref===i.ref)if(Ke=!1,i.pendingProps=r=g,Or(e,p))(e.flags&131072)!==0&&(Ke=!0);else return i.lanes=e.lanes,fn(e,i,p)}return Lr(e,i,l,r,p)}function Vd(e,i,l,r){var p=r.children,g=e!==null?e.memoizedState:null;if(e===null&&i.stateNode===null&&(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.mode==="hidden"){if((i.flags&128)!==0){if(g=g!==null?g.baseLanes|l:l,e!==null){for(r=i.child=e.child,p=0;r!==null;)p=p|r.lanes|r.childLanes,r=r.sibling;r=p&~g}else r=0,i.child=null;return qd(e,i,g,l,r)}if((l&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},e!==null&&Jl(i,g!==null?g.cachePool:null),g!==null?Bf(i,g):cr(),zf(i);else return r=i.lanes=536870912,qd(e,i,g!==null?g.baseLanes|l:l,l,r)}else g!==null?(Jl(i,g.cachePool),Bf(i,g),Pn(),i.memoizedState=null):(e!==null&&Jl(i,null),cr(),Pn());return lt(e,i,p,l),i.child}function Jo(e,i){return e!==null&&e.tag===22||i.stateNode!==null||(i.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.sibling}function qd(e,i,l,r,p){var g=or();return g=g===null?null:{parent:Je._currentValue,pool:g},i.memoizedState={baseLanes:l,cachePool:g},e!==null&&Jl(i,null),cr(),zf(i),e!==null&&ki(e,i,r,!0),i.childLanes=p,null}function sa(e,i){return i=ua({mode:i.mode,children:i.children},e.mode),i.ref=e.ref,e.child=i,i.return=e,i}function Od(e,i,l){return pi(i,e.child,null,l),e=sa(i,i.pendingProps),e.flags|=2,Rt(i),i.memoizedState=null,e}function e0(e,i,l){var r=i.pendingProps,p=(i.flags&128)!==0;if(i.flags&=-129,e===null){if(ye){if(r.mode==="hidden")return e=sa(i,r),i.lanes=536870912,Jo(null,e);if(dr(i),(e=Ge)?(e=jp(e,Ht),e=e!==null&&e.data==="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:$t,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},l=Af(e),l.return=i,i.child=l,it=i,Ge=null)):e=null,e===null)throw In(i);return i.lanes=536870912,null}return sa(i,r)}var g=e.memoizedState;if(g!==null){var S=g.dehydrated;if(dr(i),p)if(i.flags&256)i.flags&=-257,i=Od(e,i,l);else if(i.memoizedState!==null)i.child=e.child,i.flags|=128,i=null;else throw Error(a(558));else if(Ke||ki(e,i,l,!1),p=(l&e.childLanes)!==0,Ke||p){if(r=De,r!==null&&(S=wc(r,l),S!==0&&S!==g.retryLane))throw g.retryLane=S,li(e,S),Tt(r,e,S),Ur;va(),i=Od(e,i,l)}else e=g.treeContext,Ge=kt(S.nextSibling),it=i,ye=!0,wn=null,Ht=!1,e!==null&&Nf(i,e),i=sa(i,r),i.flags|=4096;return i}return e=ln(e.child,{mode:r.mode,children:r.children}),e.ref=i.ref,i.child=e,e.return=i,e}function ra(e,i){var l=i.ref;if(l===null)e!==null&&e.ref!==null&&(i.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(a(284));(e===null||e.ref!==l)&&(i.flags|=4194816)}}function Lr(e,i,l,r,p){return ui(i),l=hr(e,i,l,r,void 0,p),r=mr(),e!==null&&!Ke?(gr(e,i,p),fn(e,i,p)):(ye&&r&&Qs(i),i.flags|=1,lt(e,i,l,p),i.child)}function Bd(e,i,l,r,p,g){return ui(i),i.updateQueue=null,l=Jf(i,r,l,p),Ff(e),r=mr(),e!==null&&!Ke?(gr(e,i,g),fn(e,i,g)):(ye&&r&&Qs(i),i.flags|=1,lt(e,i,l,g),i.child)}function zd(e,i,l,r,p){if(ui(i),i.stateNode===null){var g=Li,S=l.contextType;typeof S=="object"&&S!==null&&(g=ot(S)),g=new l(r,g),i.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=Ir,i.stateNode=g,g._reactInternals=i,g=i.stateNode,g.props=r,g.state=i.memoizedState,g.refs={},ar(i),S=l.contextType,g.context=typeof S=="object"&&S!==null?ot(S):Li,g.state=i.memoizedState,S=l.getDerivedStateFromProps,typeof S=="function"&&(wr(i,l,S,r),g.state=i.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(S=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),S!==g.state&&Ir.enqueueReplaceState(g,g.state,null),qo(i,r,g,p),Vo(),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!0}else if(e===null){g=i.stateNode;var _=i.memoizedProps,x=mi(l,_);g.props=x;var H=g.context,O=l.contextType;S=Li,typeof O=="object"&&O!==null&&(S=ot(O));var F=l.getDerivedStateFromProps;O=typeof F=="function"||typeof g.getSnapshotBeforeUpdate=="function",_=i.pendingProps!==_,O||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(_||H!==S)&&Md(i,g,r,S),Un=!1;var k=i.memoizedState;g.state=k,qo(i,r,g,p),Vo(),H=i.memoizedState,_||k!==H||Un?(typeof F=="function"&&(wr(i,l,F,r),H=i.memoizedState),(x=Un||bd(i,l,x,r,k,H,S))?(O||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount()),typeof g.componentDidMount=="function"&&(i.flags|=4194308)):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=r,i.memoizedState=H),g.props=r,g.state=H,g.context=S,r=x):(typeof g.componentDidMount=="function"&&(i.flags|=4194308),r=!1)}else{g=i.stateNode,sr(e,i),S=i.memoizedProps,O=mi(l,S),g.props=O,F=i.pendingProps,k=g.context,H=l.contextType,x=Li,typeof H=="object"&&H!==null&&(x=ot(H)),_=l.getDerivedStateFromProps,(H=typeof _=="function"||typeof g.getSnapshotBeforeUpdate=="function")||typeof g.UNSAFE_componentWillReceiveProps!="function"&&typeof g.componentWillReceiveProps!="function"||(S!==F||k!==x)&&Md(i,g,r,x),Un=!1,k=i.memoizedState,g.state=k,qo(i,r,g,p),Vo();var q=i.memoizedState;S!==F||k!==q||Un||e!==null&&e.dependencies!==null&&zl(e.dependencies)?(typeof _=="function"&&(wr(i,l,_,r),q=i.memoizedState),(O=Un||bd(i,l,O,r,k,q,x)||e!==null&&e.dependencies!==null&&zl(e.dependencies))?(H||typeof g.UNSAFE_componentWillUpdate!="function"&&typeof g.componentWillUpdate!="function"||(typeof g.componentWillUpdate=="function"&&g.componentWillUpdate(r,q,x),typeof g.UNSAFE_componentWillUpdate=="function"&&g.UNSAFE_componentWillUpdate(r,q,x)),typeof g.componentDidUpdate=="function"&&(i.flags|=4),typeof g.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),i.memoizedProps=r,i.memoizedState=q),g.props=r,g.state=q,g.context=x,r=O):(typeof g.componentDidUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(i.flags|=4),typeof g.getSnapshotBeforeUpdate!="function"||S===e.memoizedProps&&k===e.memoizedState||(i.flags|=1024),r=!1)}return g=r,ra(e,i),r=(i.flags&128)!==0,g||r?(g=i.stateNode,l=r&&typeof l.getDerivedStateFromError!="function"?null:g.render(),i.flags|=1,e!==null&&r?(i.child=pi(i,e.child,null,p),i.child=pi(i,null,l,p)):lt(e,i,l,p),i.memoizedState=g.state,e=i.child):e=fn(e,i,p),e}function Fd(e,i,l,r){return si(),i.flags|=256,lt(e,i,l,r),i.child}var Gr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Hr(e){return{baseLanes:e,cachePool:Uf()}}function Pr(e,i,l){return e=e!==null?e.childLanes&~l:0,i&&(e|=bt),e}function Jd(e,i,l){var r=i.pendingProps,p=!1,g=(i.flags&128)!==0,S;if((S=g)||(S=e!==null&&e.memoizedState===null?!1:(ze.current&2)!==0),S&&(p=!0,i.flags&=-129),S=(i.flags&32)!==0,i.flags&=-33,e===null){if(ye){if(p?Hn(i):Pn(),(e=Ge)?(e=jp(e,Ht),e=e!==null&&e.data!=="&"?e:null,e!==null&&(i.memoizedState={dehydrated:e,treeContext:Mn!==null?{id:$t,overflow:Zt}:null,retryLane:536870912,hydrationErrors:null},l=Af(e),l.return=i,i.child=l,it=i,Ge=null)):e=null,e===null)throw In(i);return Tu(e)?i.lanes=32:i.lanes=536870912,null}var _=r.children;return r=r.fallback,p?(Pn(),p=i.mode,_=ua({mode:"hidden",children:_},p),r=ai(r,p,l,null),_.return=i,r.return=i,_.sibling=r,i.child=_,r=i.child,r.memoizedState=Hr(l),r.childLanes=Pr(e,S,l),i.memoizedState=Gr,Jo(null,r)):(Hn(i),kr(i,_))}var x=e.memoizedState;if(x!==null&&(_=x.dehydrated,_!==null)){if(g)i.flags&256?(Hn(i),i.flags&=-257,i=Vr(e,i,l)):i.memoizedState!==null?(Pn(),i.child=e.child,i.flags|=128,i=null):(Pn(),_=r.fallback,p=i.mode,r=ua({mode:"visible",children:r.children},p),_=ai(_,p,l,null),_.flags|=2,r.return=i,_.return=i,r.sibling=_,i.child=r,pi(i,e.child,null,l),r=i.child,r.memoizedState=Hr(l),r.childLanes=Pr(e,S,l),i.memoizedState=Gr,i=Jo(null,r));else if(Hn(i),Tu(_)){if(S=_.nextSibling&&_.nextSibling.dataset,S)var H=S.dgst;S=H,r=Error(a(419)),r.stack="",r.digest=S,Uo({value:r,source:null,stack:null}),i=Vr(e,i,l)}else if(Ke||ki(e,i,l,!1),S=(l&e.childLanes)!==0,Ke||S){if(S=De,S!==null&&(r=wc(S,l),r!==0&&r!==x.retryLane))throw x.retryLane=r,li(e,r),Tt(S,e,r),Ur;vu(_)||va(),i=Vr(e,i,l)}else vu(_)?(i.flags|=192,i.child=e.child,i=null):(e=x.treeContext,Ge=kt(_.nextSibling),it=i,ye=!0,wn=null,Ht=!1,e!==null&&Nf(i,e),i=kr(i,r.children),i.flags|=4096);return i}return p?(Pn(),_=r.fallback,p=i.mode,x=e.child,H=x.sibling,r=ln(x,{mode:"hidden",children:r.children}),r.subtreeFlags=x.subtreeFlags&65011712,H!==null?_=ln(H,_):(_=ai(_,p,l,null),_.flags|=2),_.return=i,r.return=i,r.sibling=_,i.child=r,Jo(null,r),r=i.child,_=e.child.memoizedState,_===null?_=Hr(l):(p=_.cachePool,p!==null?(x=Je._currentValue,p=p.parent!==x?{parent:x,pool:x}:p):p=Uf(),_={baseLanes:_.baseLanes|l,cachePool:p}),r.memoizedState=_,r.childLanes=Pr(e,S,l),i.memoizedState=Gr,Jo(e.child,r)):(Hn(i),l=e.child,e=l.sibling,l=ln(l,{mode:"visible",children:r.children}),l.return=i,l.sibling=null,e!==null&&(S=i.deletions,S===null?(i.deletions=[e],i.flags|=16):S.push(e)),i.child=l,i.memoizedState=null,l)}function kr(e,i){return i=ua({mode:"visible",children:i},e.mode),i.return=e,e.child=i}function ua(e,i){return e=At(22,e,null,i),e.lanes=0,e}function Vr(e,i,l){return pi(i,e.child,null,l),e=kr(i,i.pendingProps.children),e.flags|=2,i.memoizedState=null,e}function Yd(e,i,l){e.lanes|=i;var r=e.alternate;r!==null&&(r.lanes|=i),er(e.return,i,l)}function qr(e,i,l,r,p,g){var S=e.memoizedState;S===null?e.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:r,tail:l,tailMode:p,treeForkCount:g}:(S.isBackwards=i,S.rendering=null,S.renderingStartTime=0,S.last=r,S.tail=l,S.tailMode=p,S.treeForkCount=g)}function Kd(e,i,l){var r=i.pendingProps,p=r.revealOrder,g=r.tail;r=r.children;var S=ze.current,_=(S&2)!==0;if(_?(S=S&1|2,i.flags|=128):S&=1,W(ze,S),lt(e,i,r,l),r=ye?Do:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=i.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Yd(e,l,i);else if(e.tag===19)Yd(e,l,i);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===i)break e;for(;e.sibling===null;){if(e.return===null||e.return===i)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(p){case"forwards":for(l=i.child,p=null;l!==null;)e=l.alternate,e!==null&&Zl(e)===null&&(p=l),l=l.sibling;l=p,l===null?(p=i.child,i.child=null):(p=l.sibling,l.sibling=null),qr(i,!1,p,l,g,r);break;case"backwards":case"unstable_legacy-backwards":for(l=null,p=i.child,i.child=null;p!==null;){if(e=p.alternate,e!==null&&Zl(e)===null){i.child=p;break}e=p.sibling,p.sibling=l,l=p,p=e}qr(i,!0,l,null,g,r);break;case"together":qr(i,!1,null,null,void 0,r);break;default:i.memoizedState=null}return i.child}function fn(e,i,l){if(e!==null&&(i.dependencies=e.dependencies),qn|=i.lanes,(l&i.childLanes)===0)if(e!==null){if(ki(e,i,l,!1),(l&i.childLanes)===0)return null}else return null;if(e!==null&&i.child!==e.child)throw Error(a(153));if(i.child!==null){for(e=i.child,l=ln(e,e.pendingProps),i.child=l,l.return=i;e.sibling!==null;)e=e.sibling,l=l.sibling=ln(e,e.pendingProps),l.return=i;l.sibling=null}return i.child}function Or(e,i){return(e.lanes&i)!==0?!0:(e=e.dependencies,!!(e!==null&&zl(e)))}function t0(e,i,l){switch(i.tag){case 3:ut(i,i.stateNode.containerInfo),Dn(i,Je,e.memoizedState.cache),si();break;case 27:case 5:yo(i);break;case 4:ut(i,i.stateNode.containerInfo);break;case 10:Dn(i,i.type,i.memoizedProps.value);break;case 31:if(i.memoizedState!==null)return i.flags|=128,dr(i),null;break;case 13:var r=i.memoizedState;if(r!==null)return r.dehydrated!==null?(Hn(i),i.flags|=128,null):(l&i.child.childLanes)!==0?Jd(e,i,l):(Hn(i),e=fn(e,i,l),e!==null?e.sibling:null);Hn(i);break;case 19:var p=(e.flags&128)!==0;if(r=(l&i.childLanes)!==0,r||(ki(e,i,l,!1),r=(l&i.childLanes)!==0),p){if(r)return Kd(e,i,l);i.flags|=128}if(p=i.memoizedState,p!==null&&(p.rendering=null,p.tail=null,p.lastEffect=null),W(ze,ze.current),r)break;return null;case 22:return i.lanes=0,Vd(e,i,l,i.pendingProps);case 24:Dn(i,Je,e.memoizedState.cache)}return fn(e,i,l)}function Xd(e,i,l){if(e!==null)if(e.memoizedProps!==i.pendingProps)Ke=!0;else{if(!Or(e,l)&&(i.flags&128)===0)return Ke=!1,t0(e,i,l);Ke=(e.flags&131072)!==0}else Ke=!1,ye&&(i.flags&1048576)!==0&&Rf(i,Do,i.index);switch(i.lanes=0,i.tag){case 16:e:{var r=i.pendingProps;if(e=fi(i.elementType),i.type=e,typeof e=="function")Ys(e)?(r=mi(e,r),i.tag=1,i=zd(null,i,e,r,l)):(i.tag=0,i=Lr(null,i,e,r,l));else{if(e!=null){var p=e.$$typeof;if(p===J){i.tag=11,i=Hd(null,i,e,r,l);break e}else if(p===K){i.tag=14,i=Pd(null,i,e,r,l);break e}}throw i=Ue(e)||e,Error(a(306,i,""))}}return i;case 0:return Lr(e,i,i.type,i.pendingProps,l);case 1:return r=i.type,p=mi(r,i.pendingProps),zd(e,i,r,p,l);case 3:e:{if(ut(i,i.stateNode.containerInfo),e===null)throw Error(a(387));r=i.pendingProps;var g=i.memoizedState;p=g.element,sr(e,i),qo(i,r,null,l);var S=i.memoizedState;if(r=S.cache,Dn(i,Je,r),r!==g.cache&&tr(i,[Je],l,!0),Vo(),r=S.element,g.isDehydrated)if(g={element:r,isDehydrated:!1,cache:S.cache},i.updateQueue.baseState=g,i.memoizedState=g,i.flags&256){i=Fd(e,i,r,l);break e}else if(r!==p){p=Ut(Error(a(424)),i),Uo(p),i=Fd(e,i,r,l);break e}else{switch(e=i.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ge=kt(e.firstChild),it=i,ye=!0,wn=null,Ht=!0,l=Vf(i,null,r,l),i.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(si(),r===p){i=fn(e,i,l);break e}lt(e,i,r,l)}i=i.child}return i;case 26:return ra(e,i),e===null?(l=lh(i.type,null,i.pendingProps,null))?i.memoizedState=l:ye||(l=i.type,e=i.pendingProps,r=xa(de.current).createElement(l),r[nt]=i,r[pt]=e,at(r,l,e),je(r),i.stateNode=r):i.memoizedState=lh(i.type,e.memoizedProps,i.pendingProps,e.memoizedState),null;case 27:return yo(i),e===null&&ye&&(r=i.stateNode=nh(i.type,i.pendingProps,de.current),it=i,Ht=!0,p=Ge,Jn(i.type)?(Su=p,Ge=kt(r.firstChild)):Ge=p),lt(e,i,i.pendingProps.children,l),ra(e,i),e===null&&(i.flags|=4194304),i.child;case 5:return e===null&&ye&&((p=r=Ge)&&(r=I0(r,i.type,i.pendingProps,Ht),r!==null?(i.stateNode=r,it=i,Ge=kt(r.firstChild),Ht=!1,p=!0):p=!1),p||In(i)),yo(i),p=i.type,g=i.pendingProps,S=e!==null?e.memoizedProps:null,r=g.children,mu(p,g)?r=null:S!==null&&mu(p,S)&&(i.flags|=32),i.memoizedState!==null&&(p=hr(e,i,Yv,null,null,l),al._currentValue=p),ra(e,i),lt(e,i,r,l),i.child;case 6:return e===null&&ye&&((e=l=Ge)&&(l=D0(l,i.pendingProps,Ht),l!==null?(i.stateNode=l,it=i,Ge=null,e=!0):e=!1),e||In(i)),null;case 13:return Jd(e,i,l);case 4:return ut(i,i.stateNode.containerInfo),r=i.pendingProps,e===null?i.child=pi(i,null,r,l):lt(e,i,r,l),i.child;case 11:return Hd(e,i,i.type,i.pendingProps,l);case 7:return lt(e,i,i.pendingProps,l),i.child;case 8:return lt(e,i,i.pendingProps.children,l),i.child;case 12:return lt(e,i,i.pendingProps.children,l),i.child;case 10:return r=i.pendingProps,Dn(i,i.type,r.value),lt(e,i,r.children,l),i.child;case 9:return p=i.type._context,r=i.pendingProps.children,ui(i),p=ot(p),r=r(p),i.flags|=1,lt(e,i,r,l),i.child;case 14:return Pd(e,i,i.type,i.pendingProps,l);case 15:return kd(e,i,i.type,i.pendingProps,l);case 19:return Kd(e,i,l);case 31:return e0(e,i,l);case 22:return Vd(e,i,l,i.pendingProps);case 24:return ui(i),r=ot(Je),e===null?(p=or(),p===null&&(p=De,g=nr(),p.pooledCache=g,g.refCount++,g!==null&&(p.pooledCacheLanes|=l),p=g),i.memoizedState={parent:r,cache:p},ar(i),Dn(i,Je,p)):((e.lanes&l)!==0&&(sr(e,i),qo(i,null,null,l),Vo()),p=e.memoizedState,g=i.memoizedState,p.parent!==r?(p={parent:r,cache:r},i.memoizedState=p,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=p),Dn(i,Je,r)):(r=g.cache,Dn(i,Je,r),r!==p.cache&&tr(i,[Je],l,!0))),lt(e,i,i.pendingProps.children,l),i.child;case 29:throw i.pendingProps}throw Error(a(156,i.tag))}function dn(e){e.flags|=4}function Br(e,i,l,r,p){if((i=(e.mode&32)!==0)&&(i=!1),i){if(e.flags|=16777216,(p&335544128)===p)if(e.stateNode.complete)e.flags|=8192;else if(Ep())e.flags|=8192;else throw di=Kl,lr}else e.flags&=-16777217}function Qd(e,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!ch(i))if(Ep())e.flags|=8192;else throw di=Kl,lr}function ca(e,i){i!==null&&(e.flags|=4),e.flags&16384&&(i=e.tag!==22?Nc():536870912,e.lanes|=i,$i|=i)}function Yo(e,i){if(!ye)switch(e.tailMode){case"hidden":i=e.tail;for(var l=null;i!==null;)i.alternate!==null&&(l=i),i=i.sibling;l===null?e.tail=null:l.sibling=null;break;case"collapsed":l=e.tail;for(var r=null;l!==null;)l.alternate!==null&&(r=l),l=l.sibling;r===null?i||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function He(e){var i=e.alternate!==null&&e.alternate.child===e.child,l=0,r=0;if(i)for(var p=e.child;p!==null;)l|=p.lanes|p.childLanes,r|=p.subtreeFlags&65011712,r|=p.flags&65011712,p.return=e,p=p.sibling;else for(p=e.child;p!==null;)l|=p.lanes|p.childLanes,r|=p.subtreeFlags,r|=p.flags,p.return=e,p=p.sibling;return e.subtreeFlags|=r,e.childLanes=l,i}function n0(e,i,l){var r=i.pendingProps;switch($s(i),i.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return He(i),null;case 1:return He(i),null;case 3:return l=i.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),i.memoizedState.cache!==r&&(i.flags|=2048),rn(Je),Be(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(e===null||e.child===null)&&(Pi(i)?dn(i):e===null||e.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,Ws())),He(i),null;case 26:var p=i.type,g=i.memoizedState;return e===null?(dn(i),g!==null?(He(i),Qd(i,g)):(He(i),Br(i,p,null,r,l))):g?g!==e.memoizedState?(dn(i),He(i),Qd(i,g)):(He(i),i.flags&=-16777217):(e=e.memoizedProps,e!==r&&dn(i),He(i),Br(i,p,e,r,l)),null;case 27:if(El(i),l=de.current,p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&dn(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return He(i),null}e=ee.current,Pi(i)?bf(i):(e=nh(p,r,l),i.stateNode=e,dn(i))}return He(i),null;case 5:if(El(i),p=i.type,e!==null&&i.stateNode!=null)e.memoizedProps!==r&&dn(i);else{if(!r){if(i.stateNode===null)throw Error(a(166));return He(i),null}if(g=ee.current,Pi(i))bf(i);else{var S=xa(de.current);switch(g){case 1:g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case 2:g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;default:switch(p){case"svg":g=S.createElementNS("http://www.w3.org/2000/svg",p);break;case"math":g=S.createElementNS("http://www.w3.org/1998/Math/MathML",p);break;case"script":g=S.createElement("div"),g.innerHTML="<script><\/script>",g=g.removeChild(g.firstChild);break;case"select":g=typeof r.is=="string"?S.createElement("select",{is:r.is}):S.createElement("select"),r.multiple?g.multiple=!0:r.size&&(g.size=r.size);break;default:g=typeof r.is=="string"?S.createElement(p,{is:r.is}):S.createElement(p)}}g[nt]=i,g[pt]=r;e:for(S=i.child;S!==null;){if(S.tag===5||S.tag===6)g.appendChild(S.stateNode);else if(S.tag!==4&&S.tag!==27&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===i)break e;for(;S.sibling===null;){if(S.return===null||S.return===i)break e;S=S.return}S.sibling.return=S.return,S=S.sibling}i.stateNode=g;e:switch(at(g,p,r),p){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}r&&dn(i)}}return He(i),Br(i,i.type,e===null?null:e.memoizedProps,i.pendingProps,l),null;case 6:if(e&&i.stateNode!=null)e.memoizedProps!==r&&dn(i);else{if(typeof r!="string"&&i.stateNode===null)throw Error(a(166));if(e=de.current,Pi(i)){if(e=i.stateNode,l=i.memoizedProps,r=null,p=it,p!==null)switch(p.tag){case 27:case 5:r=p.memoizedProps}e[nt]=i,e=!!(e.nodeValue===l||r!==null&&r.suppressHydrationWarning===!0||Jp(e.nodeValue,l)),e||In(i,!0)}else e=xa(e).createTextNode(r),e[nt]=i,i.stateNode=e}return He(i),null;case 31:if(l=i.memoizedState,e===null||e.memoizedState!==null){if(r=Pi(i),l!==null){if(e===null){if(!r)throw Error(a(318));if(e=i.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(a(557));e[nt]=i}else si(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;He(i),e=!1}else l=Ws(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=l),e=!0;if(!e)return i.flags&256?(Rt(i),i):(Rt(i),null);if((i.flags&128)!==0)throw Error(a(558))}return He(i),null;case 13:if(r=i.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(p=Pi(i),r!==null&&r.dehydrated!==null){if(e===null){if(!p)throw Error(a(318));if(p=i.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(a(317));p[nt]=i}else si(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;He(i),p=!1}else p=Ws(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=p),p=!0;if(!p)return i.flags&256?(Rt(i),i):(Rt(i),null)}return Rt(i),(i.flags&128)!==0?(i.lanes=l,i):(l=r!==null,e=e!==null&&e.memoizedState!==null,l&&(r=i.child,p=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(p=r.alternate.memoizedState.cachePool.pool),g=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(g=r.memoizedState.cachePool.pool),g!==p&&(r.flags|=2048)),l!==e&&l&&(i.child.flags|=8192),ca(i,i.updateQueue),He(i),null);case 4:return Be(),e===null&&cu(i.stateNode.containerInfo),He(i),null;case 10:return rn(i.type),He(i),null;case 19:if(Y(ze),r=i.memoizedState,r===null)return He(i),null;if(p=(i.flags&128)!==0,g=r.rendering,g===null)if(p)Yo(r,!1);else{if(qe!==0||e!==null&&(e.flags&128)!==0)for(e=i.child;e!==null;){if(g=Zl(e),g!==null){for(i.flags|=128,Yo(r,!1),e=g.updateQueue,i.updateQueue=e,ca(i,e),i.subtreeFlags=0,e=l,l=i.child;l!==null;)Cf(l,e),l=l.sibling;return W(ze,ze.current&1|2),ye&&an(i,r.treeForkCount),i.child}e=e.sibling}r.tail!==null&&St()>ma&&(i.flags|=128,p=!0,Yo(r,!1),i.lanes=4194304)}else{if(!p)if(e=Zl(g),e!==null){if(i.flags|=128,p=!0,e=e.updateQueue,i.updateQueue=e,ca(i,e),Yo(r,!0),r.tail===null&&r.tailMode==="hidden"&&!g.alternate&&!ye)return He(i),null}else 2*St()-r.renderingStartTime>ma&&l!==536870912&&(i.flags|=128,p=!0,Yo(r,!1),i.lanes=4194304);r.isBackwards?(g.sibling=i.child,i.child=g):(e=r.last,e!==null?e.sibling=g:i.child=g,r.last=g)}return r.tail!==null?(e=r.tail,r.rendering=e,r.tail=e.sibling,r.renderingStartTime=St(),e.sibling=null,l=ze.current,W(ze,p?l&1|2:l&1),ye&&an(i,r.treeForkCount),e):(He(i),null);case 22:case 23:return Rt(i),fr(),r=i.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(i.flags|=8192):r&&(i.flags|=8192),r?(l&536870912)!==0&&(i.flags&128)===0&&(He(i),i.subtreeFlags&6&&(i.flags|=8192)):He(i),l=i.updateQueue,l!==null&&ca(i,l.retryQueue),l=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),r=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(r=i.memoizedState.cachePool.pool),r!==l&&(i.flags|=2048),e!==null&&Y(ci),null;case 24:return l=null,e!==null&&(l=e.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),rn(Je),He(i),null;case 25:return null;case 30:return null}throw Error(a(156,i.tag))}function i0(e,i){switch($s(i),i.tag){case 1:return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 3:return rn(Je),Be(),e=i.flags,(e&65536)!==0&&(e&128)===0?(i.flags=e&-65537|128,i):null;case 26:case 27:case 5:return El(i),null;case 31:if(i.memoizedState!==null){if(Rt(i),i.alternate===null)throw Error(a(340));si()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 13:if(Rt(i),e=i.memoizedState,e!==null&&e.dehydrated!==null){if(i.alternate===null)throw Error(a(340));si()}return e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 19:return Y(ze),null;case 4:return Be(),null;case 10:return rn(i.type),null;case 22:case 23:return Rt(i),fr(),e!==null&&Y(ci),e=i.flags,e&65536?(i.flags=e&-65537|128,i):null;case 24:return rn(Je),null;case 25:return null;default:return null}}function $d(e,i){switch($s(i),i.tag){case 3:rn(Je),Be();break;case 26:case 27:case 5:El(i);break;case 4:Be();break;case 31:i.memoizedState!==null&&Rt(i);break;case 13:Rt(i);break;case 19:Y(ze);break;case 10:rn(i.type);break;case 22:case 23:Rt(i),fr(),e!==null&&Y(ci);break;case 24:rn(Je)}}function Ko(e,i){try{var l=i.updateQueue,r=l!==null?l.lastEffect:null;if(r!==null){var p=r.next;l=p;do{if((l.tag&e)===e){r=void 0;var g=l.create,S=l.inst;r=g(),S.destroy=r}l=l.next}while(l!==p)}}catch(_){Re(i,i.return,_)}}function kn(e,i,l){try{var r=i.updateQueue,p=r!==null?r.lastEffect:null;if(p!==null){var g=p.next;r=g;do{if((r.tag&e)===e){var S=r.inst,_=S.destroy;if(_!==void 0){S.destroy=void 0,p=i;var x=l,H=_;try{H()}catch(O){Re(p,x,O)}}}r=r.next}while(r!==g)}}catch(O){Re(i,i.return,O)}}function Zd(e){var i=e.updateQueue;if(i!==null){var l=e.stateNode;try{Of(i,l)}catch(r){Re(e,e.return,r)}}}function Wd(e,i,l){l.props=mi(e.type,e.memoizedProps),l.state=e.memoizedState;try{l.componentWillUnmount()}catch(r){Re(e,i,r)}}function Xo(e,i){try{var l=e.ref;if(l!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof l=="function"?e.refCleanup=l(r):l.current=r}}catch(p){Re(e,i,p)}}function Wt(e,i){var l=e.ref,r=e.refCleanup;if(l!==null)if(typeof r=="function")try{r()}catch(p){Re(e,i,p)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(p){Re(e,i,p)}else l.current=null}function jd(e){var i=e.type,l=e.memoizedProps,r=e.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break e;case"img":l.src?r.src=l.src:l.srcSet&&(r.srcset=l.srcSet)}}catch(p){Re(e,e.return,p)}}function zr(e,i,l){try{var r=e.stateNode;x0(r,e.type,l,i),r[pt]=i}catch(p){Re(e,e.return,p)}}function ep(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Jn(e.type)||e.tag===4}function Fr(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||ep(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Jn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Jr(e,i,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(e,i):(i=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,i.appendChild(e),l=l._reactRootContainer,l!=null||i.onclick!==null||(i.onclick=nn));else if(r!==4&&(r===27&&Jn(e.type)&&(l=e.stateNode,i=null),e=e.child,e!==null))for(Jr(e,i,l),e=e.sibling;e!==null;)Jr(e,i,l),e=e.sibling}function fa(e,i,l){var r=e.tag;if(r===5||r===6)e=e.stateNode,i?l.insertBefore(e,i):l.appendChild(e);else if(r!==4&&(r===27&&Jn(e.type)&&(l=e.stateNode),e=e.child,e!==null))for(fa(e,i,l),e=e.sibling;e!==null;)fa(e,i,l),e=e.sibling}function tp(e){var i=e.stateNode,l=e.memoizedProps;try{for(var r=e.type,p=i.attributes;p.length;)i.removeAttributeNode(p[0]);at(i,r,l),i[nt]=e,i[pt]=l}catch(g){Re(e,e.return,g)}}var pn=!1,Xe=!1,Yr=!1,np=typeof WeakSet=="function"?WeakSet:Set,et=null;function o0(e,i){if(e=e.containerInfo,pu=Da,e=hf(e),Vs(e)){if("selectionStart"in e)var l={start:e.selectionStart,end:e.selectionEnd};else e:{l=(l=e.ownerDocument)&&l.defaultView||window;var r=l.getSelection&&l.getSelection();if(r&&r.rangeCount!==0){l=r.anchorNode;var p=r.anchorOffset,g=r.focusNode;r=r.focusOffset;try{l.nodeType,g.nodeType}catch{l=null;break e}var S=0,_=-1,x=-1,H=0,O=0,F=e,k=null;t:for(;;){for(var q;F!==l||p!==0&&F.nodeType!==3||(_=S+p),F!==g||r!==0&&F.nodeType!==3||(x=S+r),F.nodeType===3&&(S+=F.nodeValue.length),(q=F.firstChild)!==null;)k=F,F=q;for(;;){if(F===e)break t;if(k===l&&++H===p&&(_=S),k===g&&++O===r&&(x=S),(q=F.nextSibling)!==null)break;F=k,k=F.parentNode}F=q}l=_===-1||x===-1?null:{start:_,end:x}}else l=null}l=l||{start:0,end:0}}else l=null;for(hu={focusedElem:e,selectionRange:l},Da=!1,et=i;et!==null;)if(i=et,e=i.child,(i.subtreeFlags&1028)!==0&&e!==null)e.return=i,et=e;else for(;et!==null;){switch(i=et,g=i.alternate,e=i.flags,i.tag){case 0:if((e&4)!==0&&(e=i.updateQueue,e=e!==null?e.events:null,e!==null))for(l=0;l<e.length;l++)p=e[l],p.ref.impl=p.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&g!==null){e=void 0,l=i,p=g.memoizedProps,g=g.memoizedState,r=l.stateNode;try{var j=mi(l.type,p);e=r.getSnapshotBeforeUpdate(j,g),r.__reactInternalSnapshotBeforeUpdate=e}catch(le){Re(l,l.return,le)}}break;case 3:if((e&1024)!==0){if(e=i.stateNode.containerInfo,l=e.nodeType,l===9)yu(e);else if(l===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(a(163))}if(e=i.sibling,e!==null){e.return=i.return,et=e;break}et=i.return}}function ip(e,i,l){var r=l.flags;switch(l.tag){case 0:case 11:case 15:mn(e,l),r&4&&Ko(5,l);break;case 1:if(mn(e,l),r&4)if(e=l.stateNode,i===null)try{e.componentDidMount()}catch(S){Re(l,l.return,S)}else{var p=mi(l.type,i.memoizedProps);i=i.memoizedState;try{e.componentDidUpdate(p,i,e.__reactInternalSnapshotBeforeUpdate)}catch(S){Re(l,l.return,S)}}r&64&&Zd(l),r&512&&Xo(l,l.return);break;case 3:if(mn(e,l),r&64&&(e=l.updateQueue,e!==null)){if(i=null,l.child!==null)switch(l.child.tag){case 27:case 5:i=l.child.stateNode;break;case 1:i=l.child.stateNode}try{Of(e,i)}catch(S){Re(l,l.return,S)}}break;case 27:i===null&&r&4&&tp(l);case 26:case 5:mn(e,l),i===null&&r&4&&jd(l),r&512&&Xo(l,l.return);break;case 12:mn(e,l);break;case 31:mn(e,l),r&4&&ap(e,l);break;case 13:mn(e,l),r&4&&sp(e,l),r&64&&(e=l.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(l=p0.bind(null,l),U0(e,l))));break;case 22:if(r=l.memoizedState!==null||pn,!r){i=i!==null&&i.memoizedState!==null||Xe,p=pn;var g=Xe;pn=r,(Xe=i)&&!g?gn(e,l,(l.subtreeFlags&8772)!==0):mn(e,l),pn=p,Xe=g}break;case 30:break;default:mn(e,l)}}function op(e){var i=e.alternate;i!==null&&(e.alternate=null,op(i)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(i=e.stateNode,i!==null&&_s(i)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Pe=null,mt=!1;function hn(e,i,l){for(l=l.child;l!==null;)lp(e,i,l),l=l.sibling}function lp(e,i,l){if(Et&&typeof Et.onCommitFiberUnmount=="function")try{Et.onCommitFiberUnmount(vo,l)}catch{}switch(l.tag){case 26:Xe||Wt(l,i),hn(e,i,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Xe||Wt(l,i);var r=Pe,p=mt;Jn(l.type)&&(Pe=l.stateNode,mt=!1),hn(e,i,l),il(l.stateNode),Pe=r,mt=p;break;case 5:Xe||Wt(l,i);case 6:if(r=Pe,p=mt,Pe=null,hn(e,i,l),Pe=r,mt=p,Pe!==null)if(mt)try{(Pe.nodeType===9?Pe.body:Pe.nodeName==="HTML"?Pe.ownerDocument.body:Pe).removeChild(l.stateNode)}catch(g){Re(l,i,g)}else try{Pe.removeChild(l.stateNode)}catch(g){Re(l,i,g)}break;case 18:Pe!==null&&(mt?(e=Pe,Zp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,l.stateNode),oo(e)):Zp(Pe,l.stateNode));break;case 4:r=Pe,p=mt,Pe=l.stateNode.containerInfo,mt=!0,hn(e,i,l),Pe=r,mt=p;break;case 0:case 11:case 14:case 15:kn(2,l,i),Xe||kn(4,l,i),hn(e,i,l);break;case 1:Xe||(Wt(l,i),r=l.stateNode,typeof r.componentWillUnmount=="function"&&Wd(l,i,r)),hn(e,i,l);break;case 21:hn(e,i,l);break;case 22:Xe=(r=Xe)||l.memoizedState!==null,hn(e,i,l),Xe=r;break;default:hn(e,i,l)}}function ap(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{oo(e)}catch(l){Re(i,i.return,l)}}}function sp(e,i){if(i.memoizedState===null&&(e=i.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{oo(e)}catch(l){Re(i,i.return,l)}}function l0(e){switch(e.tag){case 31:case 13:case 19:var i=e.stateNode;return i===null&&(i=e.stateNode=new np),i;case 22:return e=e.stateNode,i=e._retryCache,i===null&&(i=e._retryCache=new np),i;default:throw Error(a(435,e.tag))}}function da(e,i){var l=l0(e);i.forEach(function(r){if(!l.has(r)){l.add(r);var p=h0.bind(null,e,r);r.then(p,p)}})}function gt(e,i){var l=i.deletions;if(l!==null)for(var r=0;r<l.length;r++){var p=l[r],g=e,S=i,_=S;e:for(;_!==null;){switch(_.tag){case 27:if(Jn(_.type)){Pe=_.stateNode,mt=!1;break e}break;case 5:Pe=_.stateNode,mt=!1;break e;case 3:case 4:Pe=_.stateNode.containerInfo,mt=!0;break e}_=_.return}if(Pe===null)throw Error(a(160));lp(g,S,p),Pe=null,mt=!1,g=p.alternate,g!==null&&(g.return=null),p.return=null}if(i.subtreeFlags&13886)for(i=i.child;i!==null;)rp(i,e),i=i.sibling}var Ft=null;function rp(e,i){var l=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:gt(i,e),yt(e),r&4&&(kn(3,e,e.return),Ko(3,e),kn(5,e,e.return));break;case 1:gt(i,e),yt(e),r&512&&(Xe||l===null||Wt(l,l.return)),r&64&&pn&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(l=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=l===null?r:l.concat(r))));break;case 26:var p=Ft;if(gt(i,e),yt(e),r&512&&(Xe||l===null||Wt(l,l.return)),r&4){var g=l!==null?l.memoizedState:null;if(r=e.memoizedState,l===null)if(r===null)if(e.stateNode===null){e:{r=e.type,l=e.memoizedProps,p=p.ownerDocument||p;t:switch(r){case"title":g=p.getElementsByTagName("title")[0],(!g||g[Eo]||g[nt]||g.namespaceURI==="http://www.w3.org/2000/svg"||g.hasAttribute("itemprop"))&&(g=p.createElement(r),p.head.insertBefore(g,p.querySelector("head > title"))),at(g,r,l),g[nt]=e,je(g),r=g;break e;case"link":var S=rh("link","href",p).get(r+(l.href||""));if(S){for(var _=0;_<S.length;_++)if(g=S[_],g.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&g.getAttribute("rel")===(l.rel==null?null:l.rel)&&g.getAttribute("title")===(l.title==null?null:l.title)&&g.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){S.splice(_,1);break t}}g=p.createElement(r),at(g,r,l),p.head.appendChild(g);break;case"meta":if(S=rh("meta","content",p).get(r+(l.content||""))){for(_=0;_<S.length;_++)if(g=S[_],g.getAttribute("content")===(l.content==null?null:""+l.content)&&g.getAttribute("name")===(l.name==null?null:l.name)&&g.getAttribute("property")===(l.property==null?null:l.property)&&g.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&g.getAttribute("charset")===(l.charSet==null?null:l.charSet)){S.splice(_,1);break t}}g=p.createElement(r),at(g,r,l),p.head.appendChild(g);break;default:throw Error(a(468,r))}g[nt]=e,je(g),r=g}e.stateNode=r}else uh(p,e.type,e.stateNode);else e.stateNode=sh(p,r,e.memoizedProps);else g!==r?(g===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):g.count--,r===null?uh(p,e.type,e.stateNode):sh(p,r,e.memoizedProps)):r===null&&e.stateNode!==null&&zr(e,e.memoizedProps,l.memoizedProps)}break;case 27:gt(i,e),yt(e),r&512&&(Xe||l===null||Wt(l,l.return)),l!==null&&r&4&&zr(e,e.memoizedProps,l.memoizedProps);break;case 5:if(gt(i,e),yt(e),r&512&&(Xe||l===null||Wt(l,l.return)),e.flags&32){p=e.stateNode;try{Ni(p,"")}catch(j){Re(e,e.return,j)}}r&4&&e.stateNode!=null&&(p=e.memoizedProps,zr(e,p,l!==null?l.memoizedProps:p)),r&1024&&(Yr=!0);break;case 6:if(gt(i,e),yt(e),r&4){if(e.stateNode===null)throw Error(a(162));r=e.memoizedProps,l=e.stateNode;try{l.nodeValue=r}catch(j){Re(e,e.return,j)}}break;case 3:if(ba=null,p=Ft,Ft=Ra(i.containerInfo),gt(i,e),Ft=p,yt(e),r&4&&l!==null&&l.memoizedState.isDehydrated)try{oo(i.containerInfo)}catch(j){Re(e,e.return,j)}Yr&&(Yr=!1,up(e));break;case 4:r=Ft,Ft=Ra(e.stateNode.containerInfo),gt(i,e),yt(e),Ft=r;break;case 12:gt(i,e),yt(e);break;case 31:gt(i,e),yt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,da(e,r)));break;case 13:gt(i,e),yt(e),e.child.flags&8192&&e.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(ha=St()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,da(e,r)));break;case 22:p=e.memoizedState!==null;var x=l!==null&&l.memoizedState!==null,H=pn,O=Xe;if(pn=H||p,Xe=O||x,gt(i,e),Xe=O,pn=H,yt(e),r&8192)e:for(i=e.stateNode,i._visibility=p?i._visibility&-2:i._visibility|1,p&&(l===null||x||pn||Xe||gi(e)),l=null,i=e;;){if(i.tag===5||i.tag===26){if(l===null){x=l=i;try{if(g=x.stateNode,p)S=g.style,typeof S.setProperty=="function"?S.setProperty("display","none","important"):S.display="none";else{_=x.stateNode;var F=x.memoizedProps.style,k=F!=null&&F.hasOwnProperty("display")?F.display:null;_.style.display=k==null||typeof k=="boolean"?"":(""+k).trim()}}catch(j){Re(x,x.return,j)}}}else if(i.tag===6){if(l===null){x=i;try{x.stateNode.nodeValue=p?"":x.memoizedProps}catch(j){Re(x,x.return,j)}}}else if(i.tag===18){if(l===null){x=i;try{var q=x.stateNode;p?Wp(q,!0):Wp(x.stateNode,!1)}catch(j){Re(x,x.return,j)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;l===i&&(l=null),i=i.return}l===i&&(l=null),i.sibling.return=i.return,i=i.sibling}r&4&&(r=e.updateQueue,r!==null&&(l=r.retryQueue,l!==null&&(r.retryQueue=null,da(e,l))));break;case 19:gt(i,e),yt(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,da(e,r)));break;case 30:break;case 21:break;default:gt(i,e),yt(e)}}function yt(e){var i=e.flags;if(i&2){try{for(var l,r=e.return;r!==null;){if(ep(r)){l=r;break}r=r.return}if(l==null)throw Error(a(160));switch(l.tag){case 27:var p=l.stateNode,g=Fr(e);fa(e,g,p);break;case 5:var S=l.stateNode;l.flags&32&&(Ni(S,""),l.flags&=-33);var _=Fr(e);fa(e,_,S);break;case 3:case 4:var x=l.stateNode.containerInfo,H=Fr(e);Jr(e,H,x);break;default:throw Error(a(161))}}catch(O){Re(e,e.return,O)}e.flags&=-3}i&4096&&(e.flags&=-4097)}function up(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var i=e;up(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),e=e.sibling}}function mn(e,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)ip(e,i.alternate,i),i=i.sibling}function gi(e){for(e=e.child;e!==null;){var i=e;switch(i.tag){case 0:case 11:case 14:case 15:kn(4,i,i.return),gi(i);break;case 1:Wt(i,i.return);var l=i.stateNode;typeof l.componentWillUnmount=="function"&&Wd(i,i.return,l),gi(i);break;case 27:il(i.stateNode);case 26:case 5:Wt(i,i.return),gi(i);break;case 22:i.memoizedState===null&&gi(i);break;case 30:gi(i);break;default:gi(i)}e=e.sibling}}function gn(e,i,l){for(l=l&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var r=i.alternate,p=e,g=i,S=g.flags;switch(g.tag){case 0:case 11:case 15:gn(p,g,l),Ko(4,g);break;case 1:if(gn(p,g,l),r=g,p=r.stateNode,typeof p.componentDidMount=="function")try{p.componentDidMount()}catch(H){Re(r,r.return,H)}if(r=g,p=r.updateQueue,p!==null){var _=r.stateNode;try{var x=p.shared.hiddenCallbacks;if(x!==null)for(p.shared.hiddenCallbacks=null,p=0;p<x.length;p++)qf(x[p],_)}catch(H){Re(r,r.return,H)}}l&&S&64&&Zd(g),Xo(g,g.return);break;case 27:tp(g);case 26:case 5:gn(p,g,l),l&&r===null&&S&4&&jd(g),Xo(g,g.return);break;case 12:gn(p,g,l);break;case 31:gn(p,g,l),l&&S&4&&ap(p,g);break;case 13:gn(p,g,l),l&&S&4&&sp(p,g);break;case 22:g.memoizedState===null&&gn(p,g,l),Xo(g,g.return);break;case 30:break;default:gn(p,g,l)}i=i.sibling}}function Kr(e,i){var l=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(l=e.memoizedState.cachePool.pool),e=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(e=i.memoizedState.cachePool.pool),e!==l&&(e!=null&&e.refCount++,l!=null&&Lo(l))}function Xr(e,i){e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e))}function Jt(e,i,l,r){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)cp(e,i,l,r),i=i.sibling}function cp(e,i,l,r){var p=i.flags;switch(i.tag){case 0:case 11:case 15:Jt(e,i,l,r),p&2048&&Ko(9,i);break;case 1:Jt(e,i,l,r);break;case 3:Jt(e,i,l,r),p&2048&&(e=null,i.alternate!==null&&(e=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==e&&(i.refCount++,e!=null&&Lo(e)));break;case 12:if(p&2048){Jt(e,i,l,r),e=i.stateNode;try{var g=i.memoizedProps,S=g.id,_=g.onPostCommit;typeof _=="function"&&_(S,i.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(x){Re(i,i.return,x)}}else Jt(e,i,l,r);break;case 31:Jt(e,i,l,r);break;case 13:Jt(e,i,l,r);break;case 23:break;case 22:g=i.stateNode,S=i.alternate,i.memoizedState!==null?g._visibility&2?Jt(e,i,l,r):Qo(e,i):g._visibility&2?Jt(e,i,l,r):(g._visibility|=2,Ki(e,i,l,r,(i.subtreeFlags&10256)!==0||!1)),p&2048&&Kr(S,i);break;case 24:Jt(e,i,l,r),p&2048&&Xr(i.alternate,i);break;default:Jt(e,i,l,r)}}function Ki(e,i,l,r,p){for(p=p&&((i.subtreeFlags&10256)!==0||!1),i=i.child;i!==null;){var g=e,S=i,_=l,x=r,H=S.flags;switch(S.tag){case 0:case 11:case 15:Ki(g,S,_,x,p),Ko(8,S);break;case 23:break;case 22:var O=S.stateNode;S.memoizedState!==null?O._visibility&2?Ki(g,S,_,x,p):Qo(g,S):(O._visibility|=2,Ki(g,S,_,x,p)),p&&H&2048&&Kr(S.alternate,S);break;case 24:Ki(g,S,_,x,p),p&&H&2048&&Xr(S.alternate,S);break;default:Ki(g,S,_,x,p)}i=i.sibling}}function Qo(e,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var l=e,r=i,p=r.flags;switch(r.tag){case 22:Qo(l,r),p&2048&&Kr(r.alternate,r);break;case 24:Qo(l,r),p&2048&&Xr(r.alternate,r);break;default:Qo(l,r)}i=i.sibling}}var $o=8192;function Xi(e,i,l){if(e.subtreeFlags&$o)for(e=e.child;e!==null;)fp(e,i,l),e=e.sibling}function fp(e,i,l){switch(e.tag){case 26:Xi(e,i,l),e.flags&$o&&e.memoizedState!==null&&J0(l,Ft,e.memoizedState,e.memoizedProps);break;case 5:Xi(e,i,l);break;case 3:case 4:var r=Ft;Ft=Ra(e.stateNode.containerInfo),Xi(e,i,l),Ft=r;break;case 22:e.memoizedState===null&&(r=e.alternate,r!==null&&r.memoizedState!==null?(r=$o,$o=16777216,Xi(e,i,l),$o=r):Xi(e,i,l));break;default:Xi(e,i,l)}}function dp(e){var i=e.alternate;if(i!==null&&(e=i.child,e!==null)){i.child=null;do i=e.sibling,e.sibling=null,e=i;while(e!==null)}}function Zo(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];et=r,hp(r,e)}dp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)pp(e),e=e.sibling}function pp(e){switch(e.tag){case 0:case 11:case 15:Zo(e),e.flags&2048&&kn(9,e,e.return);break;case 3:Zo(e);break;case 12:Zo(e);break;case 22:var i=e.stateNode;e.memoizedState!==null&&i._visibility&2&&(e.return===null||e.return.tag!==13)?(i._visibility&=-3,pa(e)):Zo(e);break;default:Zo(e)}}function pa(e){var i=e.deletions;if((e.flags&16)!==0){if(i!==null)for(var l=0;l<i.length;l++){var r=i[l];et=r,hp(r,e)}dp(e)}for(e=e.child;e!==null;){switch(i=e,i.tag){case 0:case 11:case 15:kn(8,i,i.return),pa(i);break;case 22:l=i.stateNode,l._visibility&2&&(l._visibility&=-3,pa(i));break;default:pa(i)}e=e.sibling}}function hp(e,i){for(;et!==null;){var l=et;switch(l.tag){case 0:case 11:case 15:kn(8,l,i);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var r=l.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:Lo(l.memoizedState.cache)}if(r=l.child,r!==null)r.return=l,et=r;else e:for(l=e;et!==null;){r=et;var p=r.sibling,g=r.return;if(op(r),r===l){et=null;break e}if(p!==null){p.return=g,et=p;break e}et=g}}}var a0={getCacheForType:function(e){var i=ot(Je),l=i.data.get(e);return l===void 0&&(l=e(),i.data.set(e,l)),l},cacheSignal:function(){return ot(Je).controller.signal}},s0=typeof WeakMap=="function"?WeakMap:Map,Ce=0,De=null,pe=null,me=0,xe=0,Nt=null,Vn=!1,Qi=!1,Qr=!1,yn=0,qe=0,qn=0,yi=0,$r=0,bt=0,$i=0,Wo=null,vt=null,Zr=!1,ha=0,mp=0,ma=1/0,ga=null,On=null,$e=0,Bn=null,Zi=null,vn=0,Wr=0,jr=null,gp=null,jo=0,eu=null;function Mt(){return(Ce&2)!==0&&me!==0?me&-me:B.T!==null?au():Ic()}function yp(){if(bt===0)if((me&536870912)===0||ye){var e=Al;Al<<=1,(Al&3932160)===0&&(Al=262144),bt=e}else bt=536870912;return e=xt.current,e!==null&&(e.flags|=32),bt}function Tt(e,i,l){(e===De&&(xe===2||xe===9)||e.cancelPendingCommit!==null)&&(Wi(e,0),zn(e,me,bt,!1)),So(e,l),((Ce&2)===0||e!==De)&&(e===De&&((Ce&2)===0&&(yi|=l),qe===4&&zn(e,me,bt,!1)),jt(e))}function vp(e,i,l){if((Ce&6)!==0)throw Error(a(327));var r=!l&&(i&127)===0&&(i&e.expiredLanes)===0||To(e,i),p=r?c0(e,i):nu(e,i,!0),g=r;do{if(p===0){Qi&&!r&&zn(e,i,0,!1);break}else{if(l=e.current.alternate,g&&!r0(l)){p=nu(e,i,!1),g=!1;continue}if(p===2){if(g=i,e.errorRecoveryDisabledLanes&g)var S=0;else S=e.pendingLanes&-536870913,S=S!==0?S:S&536870912?536870912:0;if(S!==0){i=S;e:{var _=e;p=Wo;var x=_.current.memoizedState.isDehydrated;if(x&&(Wi(_,S).flags|=256),S=nu(_,S,!1),S!==2){if(Qr&&!x){_.errorRecoveryDisabledLanes|=g,yi|=g,p=4;break e}g=vt,vt=p,g!==null&&(vt===null?vt=g:vt.push.apply(vt,g))}p=S}if(g=!1,p!==2)continue}}if(p===1){Wi(e,0),zn(e,i,0,!0);break}e:{switch(r=e,g=p,g){case 0:case 1:throw Error(a(345));case 4:if((i&4194048)!==i)break;case 6:zn(r,i,bt,!Vn);break e;case 2:vt=null;break;case 3:case 5:break;default:throw Error(a(329))}if((i&62914560)===i&&(p=ha+300-St(),10<p)){if(zn(r,i,bt,!Vn),Rl(r,0,!0)!==0)break e;vn=i,r.timeoutHandle=Qp(Tp.bind(null,r,l,vt,ga,Zr,i,bt,yi,$i,Vn,g,"Throttled",-0,0),p);break e}Tp(r,l,vt,ga,Zr,i,bt,yi,$i,Vn,g,null,-0,0)}}break}while(!0);jt(e)}function Tp(e,i,l,r,p,g,S,_,x,H,O,F,k,q){if(e.timeoutHandle=-1,F=i.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:nn},fp(i,g,F);var j=(g&62914560)===g?ha-St():(g&4194048)===g?mp-St():0;if(j=Y0(F,j),j!==null){vn=g,e.cancelPendingCommit=j(Np.bind(null,e,i,g,l,r,p,S,_,x,O,F,null,k,q)),zn(e,g,S,!H);return}}Np(e,i,g,l,r,p,S,_,x)}function r0(e){for(var i=e;;){var l=i.tag;if((l===0||l===11||l===15)&&i.flags&16384&&(l=i.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var r=0;r<l.length;r++){var p=l[r],g=p.getSnapshot;p=p.value;try{if(!Ct(g(),p))return!1}catch{return!1}}if(l=i.child,i.subtreeFlags&16384&&l!==null)l.return=i,i=l;else{if(i===e)break;for(;i.sibling===null;){if(i.return===null||i.return===e)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function zn(e,i,l,r){i&=~$r,i&=~yi,e.suspendedLanes|=i,e.pingedLanes&=~i,r&&(e.warmLanes|=i),r=e.expirationTimes;for(var p=i;0<p;){var g=31-_t(p),S=1<<g;r[g]=-1,p&=~S}l!==0&&bc(e,l,i)}function ya(){return(Ce&6)===0?(el(0),!1):!0}function tu(){if(pe!==null){if(xe===0)var e=pe.return;else e=pe,sn=ri=null,yr(e),Bi=null,Ho=0,e=pe;for(;e!==null;)$d(e.alternate,e),e=e.return;pe=null}}function Wi(e,i){var l=e.timeoutHandle;l!==-1&&(e.timeoutHandle=-1,b0(l)),l=e.cancelPendingCommit,l!==null&&(e.cancelPendingCommit=null,l()),vn=0,tu(),De=e,pe=l=ln(e.current,null),me=i,xe=0,Nt=null,Vn=!1,Qi=To(e,i),Qr=!1,$i=bt=$r=yi=qn=qe=0,vt=Wo=null,Zr=!1,(i&8)!==0&&(i|=i&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=i;0<r;){var p=31-_t(r),g=1<<p;i|=e[p],r&=~g}return yn=i,kl(),l}function Sp(e,i){ce=null,B.H=Fo,i===Oi||i===Yl?(i=Hf(),xe=3):i===lr?(i=Hf(),xe=4):xe=i===Ur?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,Nt=i,pe===null&&(qe=1,aa(e,Ut(i,e.current)))}function Ep(){var e=xt.current;return e===null?!0:(me&4194048)===me?Pt===null:(me&62914560)===me||(me&536870912)!==0?e===Pt:!1}function _p(){var e=B.H;return B.H=Fo,e===null?Fo:e}function Cp(){var e=B.A;return B.A=a0,e}function va(){qe=4,Vn||(me&4194048)!==me&&xt.current!==null||(Qi=!0),(qn&134217727)===0&&(yi&134217727)===0||De===null||zn(De,me,bt,!1)}function nu(e,i,l){var r=Ce;Ce|=2;var p=_p(),g=Cp();(De!==e||me!==i)&&(ga=null,Wi(e,i)),i=!1;var S=qe;e:do try{if(xe!==0&&pe!==null){var _=pe,x=Nt;switch(xe){case 8:tu(),S=6;break e;case 3:case 2:case 9:case 6:xt.current===null&&(i=!0);var H=xe;if(xe=0,Nt=null,ji(e,_,x,H),l&&Qi){S=0;break e}break;default:H=xe,xe=0,Nt=null,ji(e,_,x,H)}}u0(),S=qe;break}catch(O){Sp(e,O)}while(!0);return i&&e.shellSuspendCounter++,sn=ri=null,Ce=r,B.H=p,B.A=g,pe===null&&(De=null,me=0,kl()),S}function u0(){for(;pe!==null;)Ap(pe)}function c0(e,i){var l=Ce;Ce|=2;var r=_p(),p=Cp();De!==e||me!==i?(ga=null,ma=St()+500,Wi(e,i)):Qi=To(e,i);e:do try{if(xe!==0&&pe!==null){i=pe;var g=Nt;t:switch(xe){case 1:xe=0,Nt=null,ji(e,i,g,1);break;case 2:case 9:if(Lf(g)){xe=0,Nt=null,xp(i);break}i=function(){xe!==2&&xe!==9||De!==e||(xe=7),jt(e)},g.then(i,i);break e;case 3:xe=7;break e;case 4:xe=5;break e;case 7:Lf(g)?(xe=0,Nt=null,xp(i)):(xe=0,Nt=null,ji(e,i,g,7));break;case 5:var S=null;switch(pe.tag){case 26:S=pe.memoizedState;case 5:case 27:var _=pe;if(S?ch(S):_.stateNode.complete){xe=0,Nt=null;var x=_.sibling;if(x!==null)pe=x;else{var H=_.return;H!==null?(pe=H,Ta(H)):pe=null}break t}}xe=0,Nt=null,ji(e,i,g,5);break;case 6:xe=0,Nt=null,ji(e,i,g,6);break;case 8:tu(),qe=6;break e;default:throw Error(a(462))}}f0();break}catch(O){Sp(e,O)}while(!0);return sn=ri=null,B.H=r,B.A=p,Ce=l,pe!==null?0:(De=null,me=0,kl(),qe)}function f0(){for(;pe!==null&&!Ly();)Ap(pe)}function Ap(e){var i=Xd(e.alternate,e,yn);e.memoizedProps=e.pendingProps,i===null?Ta(e):pe=i}function xp(e){var i=e,l=i.alternate;switch(i.tag){case 15:case 0:i=Bd(l,i,i.pendingProps,i.type,void 0,me);break;case 11:i=Bd(l,i,i.pendingProps,i.type.render,i.ref,me);break;case 5:yr(i);default:$d(l,i),i=pe=Cf(i,yn),i=Xd(l,i,yn)}e.memoizedProps=e.pendingProps,i===null?Ta(e):pe=i}function ji(e,i,l,r){sn=ri=null,yr(i),Bi=null,Ho=0;var p=i.return;try{if(jv(e,p,i,l,me)){qe=1,aa(e,Ut(l,e.current)),pe=null;return}}catch(g){if(p!==null)throw pe=p,g;qe=1,aa(e,Ut(l,e.current)),pe=null;return}i.flags&32768?(ye||r===1?e=!0:Qi||(me&536870912)!==0?e=!1:(Vn=e=!0,(r===2||r===9||r===3||r===6)&&(r=xt.current,r!==null&&r.tag===13&&(r.flags|=16384))),Rp(i,e)):Ta(i)}function Ta(e){var i=e;do{if((i.flags&32768)!==0){Rp(i,Vn);return}e=i.return;var l=n0(i.alternate,i,yn);if(l!==null){pe=l;return}if(i=i.sibling,i!==null){pe=i;return}pe=i=e}while(i!==null);qe===0&&(qe=5)}function Rp(e,i){do{var l=i0(e.alternate,e);if(l!==null){l.flags&=32767,pe=l;return}if(l=e.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!i&&(e=e.sibling,e!==null)){pe=e;return}pe=e=l}while(e!==null);qe=6,pe=null}function Np(e,i,l,r,p,g,S,_,x){e.cancelPendingCommit=null;do Sa();while($e!==0);if((Ce&6)!==0)throw Error(a(327));if(i!==null){if(i===e.current)throw Error(a(177));if(g=i.lanes|i.childLanes,g|=Fs,Fy(e,l,g,S,_,x),e===De&&(pe=De=null,me=0),Zi=i,Bn=e,vn=l,Wr=g,jr=p,gp=r,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,m0(_l,function(){return Dp(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||r){r=B.T,B.T=null,p=X.p,X.p=2,S=Ce,Ce|=4;try{o0(e,i,l)}finally{Ce=S,X.p=p,B.T=r}}$e=1,bp(),Mp(),wp()}}function bp(){if($e===1){$e=0;var e=Bn,i=Zi,l=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||l){l=B.T,B.T=null;var r=X.p;X.p=2;var p=Ce;Ce|=4;try{rp(i,e);var g=hu,S=hf(e.containerInfo),_=g.focusedElem,x=g.selectionRange;if(S!==_&&_&&_.ownerDocument&&pf(_.ownerDocument.documentElement,_)){if(x!==null&&Vs(_)){var H=x.start,O=x.end;if(O===void 0&&(O=H),"selectionStart"in _)_.selectionStart=H,_.selectionEnd=Math.min(O,_.value.length);else{var F=_.ownerDocument||document,k=F&&F.defaultView||window;if(k.getSelection){var q=k.getSelection(),j=_.textContent.length,le=Math.min(x.start,j),we=x.end===void 0?le:Math.min(x.end,j);!q.extend&&le>we&&(S=we,we=le,le=S);var U=df(_,le),M=df(_,we);if(U&&M&&(q.rangeCount!==1||q.anchorNode!==U.node||q.anchorOffset!==U.offset||q.focusNode!==M.node||q.focusOffset!==M.offset)){var L=F.createRange();L.setStart(U.node,U.offset),q.removeAllRanges(),le>we?(q.addRange(L),q.extend(M.node,M.offset)):(L.setEnd(M.node,M.offset),q.addRange(L))}}}}for(F=[],q=_;q=q.parentNode;)q.nodeType===1&&F.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<F.length;_++){var z=F[_];z.element.scrollLeft=z.left,z.element.scrollTop=z.top}}Da=!!pu,hu=pu=null}finally{Ce=p,X.p=r,B.T=l}}e.current=i,$e=2}}function Mp(){if($e===2){$e=0;var e=Bn,i=Zi,l=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||l){l=B.T,B.T=null;var r=X.p;X.p=2;var p=Ce;Ce|=4;try{ip(e,i.alternate,i)}finally{Ce=p,X.p=r,B.T=l}}$e=3}}function wp(){if($e===4||$e===3){$e=0,Gy();var e=Bn,i=Zi,l=vn,r=gp;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?$e=5:($e=0,Zi=Bn=null,Ip(e,e.pendingLanes));var p=e.pendingLanes;if(p===0&&(On=null),Ss(l),i=i.stateNode,Et&&typeof Et.onCommitFiberRoot=="function")try{Et.onCommitFiberRoot(vo,i,void 0,(i.current.flags&128)===128)}catch{}if(r!==null){i=B.T,p=X.p,X.p=2,B.T=null;try{for(var g=e.onRecoverableError,S=0;S<r.length;S++){var _=r[S];g(_.value,{componentStack:_.stack})}}finally{B.T=i,X.p=p}}(vn&3)!==0&&Sa(),jt(e),p=e.pendingLanes,(l&261930)!==0&&(p&42)!==0?e===eu?jo++:(jo=0,eu=e):jo=0,el(0)}}function Ip(e,i){(e.pooledCacheLanes&=i)===0&&(i=e.pooledCache,i!=null&&(e.pooledCache=null,Lo(i)))}function Sa(){return bp(),Mp(),wp(),Dp()}function Dp(){if($e!==5)return!1;var e=Bn,i=Wr;Wr=0;var l=Ss(vn),r=B.T,p=X.p;try{X.p=32>l?32:l,B.T=null,l=jr,jr=null;var g=Bn,S=vn;if($e=0,Zi=Bn=null,vn=0,(Ce&6)!==0)throw Error(a(331));var _=Ce;if(Ce|=4,pp(g.current),cp(g,g.current,S,l),Ce=_,el(0,!1),Et&&typeof Et.onPostCommitFiberRoot=="function")try{Et.onPostCommitFiberRoot(vo,g)}catch{}return!0}finally{X.p=p,B.T=r,Ip(e,i)}}function Up(e,i,l){i=Ut(l,i),i=Dr(e.stateNode,i,2),e=Gn(e,i,2),e!==null&&(So(e,2),jt(e))}function Re(e,i,l){if(e.tag===3)Up(e,e,l);else for(;i!==null;){if(i.tag===3){Up(i,e,l);break}else if(i.tag===1){var r=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(On===null||!On.has(r))){e=Ut(l,e),l=Ld(2),r=Gn(i,l,2),r!==null&&(Gd(l,r,i,e),So(r,2),jt(r));break}}i=i.return}}function iu(e,i,l){var r=e.pingCache;if(r===null){r=e.pingCache=new s0;var p=new Set;r.set(i,p)}else p=r.get(i),p===void 0&&(p=new Set,r.set(i,p));p.has(l)||(Qr=!0,p.add(l),e=d0.bind(null,e,i,l),i.then(e,e))}function d0(e,i,l){var r=e.pingCache;r!==null&&r.delete(i),e.pingedLanes|=e.suspendedLanes&l,e.warmLanes&=~l,De===e&&(me&l)===l&&(qe===4||qe===3&&(me&62914560)===me&&300>St()-ha?(Ce&2)===0&&Wi(e,0):$r|=l,$i===me&&($i=0)),jt(e)}function Lp(e,i){i===0&&(i=Nc()),e=li(e,i),e!==null&&(So(e,i),jt(e))}function p0(e){var i=e.memoizedState,l=0;i!==null&&(l=i.retryLane),Lp(e,l)}function h0(e,i){var l=0;switch(e.tag){case 31:case 13:var r=e.stateNode,p=e.memoizedState;p!==null&&(l=p.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(a(314))}r!==null&&r.delete(i),Lp(e,l)}function m0(e,i){return gs(e,i)}var Ea=null,eo=null,ou=!1,_a=!1,lu=!1,Fn=0;function jt(e){e!==eo&&e.next===null&&(eo===null?Ea=eo=e:eo=eo.next=e),_a=!0,ou||(ou=!0,y0())}function el(e,i){if(!lu&&_a){lu=!0;do for(var l=!1,r=Ea;r!==null;){if(e!==0){var p=r.pendingLanes;if(p===0)var g=0;else{var S=r.suspendedLanes,_=r.pingedLanes;g=(1<<31-_t(42|e)+1)-1,g&=p&~(S&~_),g=g&201326741?g&201326741|1:g?g|2:0}g!==0&&(l=!0,kp(r,g))}else g=me,g=Rl(r,r===De?g:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(g&3)===0||To(r,g)||(l=!0,kp(r,g));r=r.next}while(l);lu=!1}}function g0(){Gp()}function Gp(){_a=ou=!1;var e=0;Fn!==0&&N0()&&(e=Fn);for(var i=St(),l=null,r=Ea;r!==null;){var p=r.next,g=Hp(r,i);g===0?(r.next=null,l===null?Ea=p:l.next=p,p===null&&(eo=l)):(l=r,(e!==0||(g&3)!==0)&&(_a=!0)),r=p}$e!==0&&$e!==5||el(e),Fn!==0&&(Fn=0)}function Hp(e,i){for(var l=e.suspendedLanes,r=e.pingedLanes,p=e.expirationTimes,g=e.pendingLanes&-62914561;0<g;){var S=31-_t(g),_=1<<S,x=p[S];x===-1?((_&l)===0||(_&r)!==0)&&(p[S]=zy(_,i)):x<=i&&(e.expiredLanes|=_),g&=~_}if(i=De,l=me,l=Rl(e,e===i?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,l===0||e===i&&(xe===2||xe===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&ys(r),e.callbackNode=null,e.callbackPriority=0;if((l&3)===0||To(e,l)){if(i=l&-l,i===e.callbackPriority)return i;switch(r!==null&&ys(r),Ss(l)){case 2:case 8:l=xc;break;case 32:l=_l;break;case 268435456:l=Rc;break;default:l=_l}return r=Pp.bind(null,e),l=gs(l,r),e.callbackPriority=i,e.callbackNode=l,i}return r!==null&&r!==null&&ys(r),e.callbackPriority=2,e.callbackNode=null,2}function Pp(e,i){if($e!==0&&$e!==5)return e.callbackNode=null,e.callbackPriority=0,null;var l=e.callbackNode;if(Sa()&&e.callbackNode!==l)return null;var r=me;return r=Rl(e,e===De?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(vp(e,r,i),Hp(e,St()),e.callbackNode!=null&&e.callbackNode===l?Pp.bind(null,e):null)}function kp(e,i){if(Sa())return null;vp(e,i,!0)}function y0(){M0(function(){(Ce&6)!==0?gs(Ac,g0):Gp()})}function au(){if(Fn===0){var e=Vi;e===0&&(e=Cl,Cl<<=1,(Cl&261888)===0&&(Cl=256)),Fn=e}return Fn}function Vp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:wl(""+e)}function qp(e,i){var l=i.ownerDocument.createElement("input");return l.name=i.name,l.value=i.value,e.id&&l.setAttribute("form",e.id),i.parentNode.insertBefore(l,i),e=new FormData(e),l.parentNode.removeChild(l),e}function v0(e,i,l,r,p){if(i==="submit"&&l&&l.stateNode===p){var g=Vp((p[pt]||null).action),S=r.submitter;S&&(i=(i=S[pt]||null)?Vp(i.formAction):S.getAttribute("formAction"),i!==null&&(g=i,S=null));var _=new Ll("action","action",null,r,p);e.push({event:_,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(Fn!==0){var x=S?qp(p,S):new FormData(p);Rr(l,{pending:!0,data:x,method:p.method,action:g},null,x)}}else typeof g=="function"&&(_.preventDefault(),x=S?qp(p,S):new FormData(p),Rr(l,{pending:!0,data:x,method:p.method,action:g},g,x))},currentTarget:p}]})}}for(var su=0;su<zs.length;su++){var ru=zs[su],T0=ru.toLowerCase(),S0=ru[0].toUpperCase()+ru.slice(1);zt(T0,"on"+S0)}zt(yf,"onAnimationEnd"),zt(vf,"onAnimationIteration"),zt(Tf,"onAnimationStart"),zt("dblclick","onDoubleClick"),zt("focusin","onFocus"),zt("focusout","onBlur"),zt(Hv,"onTransitionRun"),zt(Pv,"onTransitionStart"),zt(kv,"onTransitionCancel"),zt(Sf,"onTransitionEnd"),xi("onMouseEnter",["mouseout","mouseover"]),xi("onMouseLeave",["mouseout","mouseover"]),xi("onPointerEnter",["pointerout","pointerover"]),xi("onPointerLeave",["pointerout","pointerover"]),ti("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ti("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ti("onBeforeInput",["compositionend","keypress","textInput","paste"]),ti("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ti("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var tl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),E0=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(tl));function Op(e,i){i=(i&4)!==0;for(var l=0;l<e.length;l++){var r=e[l],p=r.event;r=r.listeners;e:{var g=void 0;if(i)for(var S=r.length-1;0<=S;S--){var _=r[S],x=_.instance,H=_.currentTarget;if(_=_.listener,x!==g&&p.isPropagationStopped())break e;g=_,p.currentTarget=H;try{g(p)}catch(O){Pl(O)}p.currentTarget=null,g=x}else for(S=0;S<r.length;S++){if(_=r[S],x=_.instance,H=_.currentTarget,_=_.listener,x!==g&&p.isPropagationStopped())break e;g=_,p.currentTarget=H;try{g(p)}catch(O){Pl(O)}p.currentTarget=null,g=x}}}}function he(e,i){var l=i[Es];l===void 0&&(l=i[Es]=new Set);var r=e+"__bubble";l.has(r)||(Bp(i,e,2,!1),l.add(r))}function uu(e,i,l){var r=0;i&&(r|=4),Bp(l,e,r,i)}var Ca="_reactListening"+Math.random().toString(36).slice(2);function cu(e){if(!e[Ca]){e[Ca]=!0,Lc.forEach(function(l){l!=="selectionchange"&&(E0.has(l)||uu(l,!1,e),uu(l,!0,e))});var i=e.nodeType===9?e:e.ownerDocument;i===null||i[Ca]||(i[Ca]=!0,uu("selectionchange",!1,i))}}function Bp(e,i,l,r){switch(yh(i)){case 2:var p=Q0;break;case 8:p=$0;break;default:p=xu}l=p.bind(null,i,l,e),p=void 0,!ws||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(p=!0),r?p!==void 0?e.addEventListener(i,l,{capture:!0,passive:p}):e.addEventListener(i,l,!0):p!==void 0?e.addEventListener(i,l,{passive:p}):e.addEventListener(i,l,!1)}function fu(e,i,l,r,p){var g=r;if((i&1)===0&&(i&2)===0&&r!==null)e:for(;;){if(r===null)return;var S=r.tag;if(S===3||S===4){var _=r.stateNode.containerInfo;if(_===p)break;if(S===4)for(S=r.return;S!==null;){var x=S.tag;if((x===3||x===4)&&S.stateNode.containerInfo===p)return;S=S.return}for(;_!==null;){if(S=_i(_),S===null)return;if(x=S.tag,x===5||x===6||x===26||x===27){r=g=S;continue e}_=_.parentNode}}r=r.return}Yc(function(){var H=g,O=bs(l),F=[];e:{var k=Ef.get(e);if(k!==void 0){var q=Ll,j=e;switch(e){case"keypress":if(Dl(l)===0)break e;case"keydown":case"keyup":q=hv;break;case"focusin":j="focus",q=Ls;break;case"focusout":j="blur",q=Ls;break;case"beforeblur":case"afterblur":q=Ls;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=Qc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=nv;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=yv;break;case yf:case vf:case Tf:q=lv;break;case Sf:q=Tv;break;case"scroll":case"scrollend":q=ev;break;case"wheel":q=Ev;break;case"copy":case"cut":case"paste":q=sv;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=Zc;break;case"toggle":case"beforetoggle":q=Cv}var le=(i&4)!==0,we=!le&&(e==="scroll"||e==="scrollend"),U=le?k!==null?k+"Capture":null:k;le=[];for(var M=H,L;M!==null;){var z=M;if(L=z.stateNode,z=z.tag,z!==5&&z!==26&&z!==27||L===null||U===null||(z=Co(M,U),z!=null&&le.push(nl(M,z,L))),we)break;M=M.return}0<le.length&&(k=new q(k,j,null,l,O),F.push({event:k,listeners:le}))}}if((i&7)===0){e:{if(k=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",k&&l!==Ns&&(j=l.relatedTarget||l.fromElement)&&(_i(j)||j[Ei]))break e;if((q||k)&&(k=O.window===O?O:(k=O.ownerDocument)?k.defaultView||k.parentWindow:window,q?(j=l.relatedTarget||l.toElement,q=H,j=j?_i(j):null,j!==null&&(we=c(j),le=j.tag,j!==we||le!==5&&le!==27&&le!==6)&&(j=null)):(q=null,j=H),q!==j)){if(le=Qc,z="onMouseLeave",U="onMouseEnter",M="mouse",(e==="pointerout"||e==="pointerover")&&(le=Zc,z="onPointerLeave",U="onPointerEnter",M="pointer"),we=q==null?k:_o(q),L=j==null?k:_o(j),k=new le(z,M+"leave",q,l,O),k.target=we,k.relatedTarget=L,z=null,_i(O)===H&&(le=new le(U,M+"enter",j,l,O),le.target=L,le.relatedTarget=we,z=le),we=z,q&&j)t:{for(le=_0,U=q,M=j,L=0,z=U;z;z=le(z))L++;z=0;for(var oe=M;oe;oe=le(oe))z++;for(;0<L-z;)U=le(U),L--;for(;0<z-L;)M=le(M),z--;for(;L--;){if(U===M||M!==null&&U===M.alternate){le=U;break t}U=le(U),M=le(M)}le=null}else le=null;q!==null&&zp(F,k,q,le,!1),j!==null&&we!==null&&zp(F,we,j,le,!0)}}e:{if(k=H?_o(H):window,q=k.nodeName&&k.nodeName.toLowerCase(),q==="select"||q==="input"&&k.type==="file")var Te=af;else if(of(k))if(sf)Te=Uv;else{Te=Iv;var ne=wv}else q=k.nodeName,!q||q.toLowerCase()!=="input"||k.type!=="checkbox"&&k.type!=="radio"?H&&Rs(H.elementType)&&(Te=af):Te=Dv;if(Te&&(Te=Te(e,H))){lf(F,Te,l,O);break e}ne&&ne(e,k,H),e==="focusout"&&H&&k.type==="number"&&H.memoizedProps.value!=null&&xs(k,"number",k.value)}switch(ne=H?_o(H):window,e){case"focusin":(of(ne)||ne.contentEditable==="true")&&(Ii=ne,qs=H,Io=null);break;case"focusout":Io=qs=Ii=null;break;case"mousedown":Os=!0;break;case"contextmenu":case"mouseup":case"dragend":Os=!1,mf(F,l,O);break;case"selectionchange":if(Gv)break;case"keydown":case"keyup":mf(F,l,O)}var fe;if(Hs)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else wi?tf(e,l)&&(ge="onCompositionEnd"):e==="keydown"&&l.keyCode===229&&(ge="onCompositionStart");ge&&(Wc&&l.locale!=="ko"&&(wi||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&wi&&(fe=Kc()):(bn=O,Is="value"in bn?bn.value:bn.textContent,wi=!0)),ne=Aa(H,ge),0<ne.length&&(ge=new $c(ge,e,null,l,O),F.push({event:ge,listeners:ne}),fe?ge.data=fe:(fe=nf(l),fe!==null&&(ge.data=fe)))),(fe=xv?Rv(e,l):Nv(e,l))&&(ge=Aa(H,"onBeforeInput"),0<ge.length&&(ne=new $c("onBeforeInput","beforeinput",null,l,O),F.push({event:ne,listeners:ge}),ne.data=fe)),v0(F,e,H,l,O)}Op(F,i)})}function nl(e,i,l){return{instance:e,listener:i,currentTarget:l}}function Aa(e,i){for(var l=i+"Capture",r=[];e!==null;){var p=e,g=p.stateNode;if(p=p.tag,p!==5&&p!==26&&p!==27||g===null||(p=Co(e,l),p!=null&&r.unshift(nl(e,p,g)),p=Co(e,i),p!=null&&r.push(nl(e,p,g))),e.tag===3)return r;e=e.return}return[]}function _0(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function zp(e,i,l,r,p){for(var g=i._reactName,S=[];l!==null&&l!==r;){var _=l,x=_.alternate,H=_.stateNode;if(_=_.tag,x!==null&&x===r)break;_!==5&&_!==26&&_!==27||H===null||(x=H,p?(H=Co(l,g),H!=null&&S.unshift(nl(l,H,x))):p||(H=Co(l,g),H!=null&&S.push(nl(l,H,x)))),l=l.return}S.length!==0&&e.push({event:i,listeners:S})}var C0=/\r\n?/g,A0=/\u0000|\uFFFD/g;function Fp(e){return(typeof e=="string"?e:""+e).replace(C0,`
`).replace(A0,"")}function Jp(e,i){return i=Fp(i),Fp(e)===i}function Me(e,i,l,r,p,g){switch(l){case"children":typeof r=="string"?i==="body"||i==="textarea"&&r===""||Ni(e,r):(typeof r=="number"||typeof r=="bigint")&&i!=="body"&&Ni(e,""+r);break;case"className":bl(e,"class",r);break;case"tabIndex":bl(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":bl(e,l,r);break;case"style":Fc(e,r,g);break;case"data":if(i!=="object"){bl(e,"data",r);break}case"src":case"href":if(r===""&&(i!=="a"||l!=="href")){e.removeAttribute(l);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=wl(""+r),e.setAttribute(l,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof g=="function"&&(l==="formAction"?(i!=="input"&&Me(e,i,"name",p.name,p,null),Me(e,i,"formEncType",p.formEncType,p,null),Me(e,i,"formMethod",p.formMethod,p,null),Me(e,i,"formTarget",p.formTarget,p,null)):(Me(e,i,"encType",p.encType,p,null),Me(e,i,"method",p.method,p,null),Me(e,i,"target",p.target,p,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(l);break}r=wl(""+r),e.setAttribute(l,r);break;case"onClick":r!=null&&(e.onclick=nn);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}l=wl(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""+r):e.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,""):e.removeAttribute(l);break;case"capture":case"download":r===!0?e.setAttribute(l,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(l,r):e.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(l,r):e.removeAttribute(l);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(l):e.setAttribute(l,r);break;case"popover":he("beforetoggle",e),he("toggle",e),Nl(e,"popover",r);break;case"xlinkActuate":tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":tn(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":tn(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":tn(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":tn(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":Nl(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Wy.get(l)||l,Nl(e,l,r))}}function du(e,i,l,r,p,g){switch(l){case"style":Fc(e,r,g);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(a(61));if(l=r.__html,l!=null){if(p.children!=null)throw Error(a(60));e.innerHTML=l}}break;case"children":typeof r=="string"?Ni(e,r):(typeof r=="number"||typeof r=="bigint")&&Ni(e,""+r);break;case"onScroll":r!=null&&he("scroll",e);break;case"onScrollEnd":r!=null&&he("scrollend",e);break;case"onClick":r!=null&&(e.onclick=nn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Gc.hasOwnProperty(l))e:{if(l[0]==="o"&&l[1]==="n"&&(p=l.endsWith("Capture"),i=l.slice(2,p?l.length-7:void 0),g=e[pt]||null,g=g!=null?g[l]:null,typeof g=="function"&&e.removeEventListener(i,g,p),typeof r=="function")){typeof g!="function"&&g!==null&&(l in e?e[l]=null:e.hasAttribute(l)&&e.removeAttribute(l)),e.addEventListener(i,r,p);break e}l in e?e[l]=r:r===!0?e.setAttribute(l,""):Nl(e,l,r)}}}function at(e,i,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":he("error",e),he("load",e);var r=!1,p=!1,g;for(g in l)if(l.hasOwnProperty(g)){var S=l[g];if(S!=null)switch(g){case"src":r=!0;break;case"srcSet":p=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Me(e,i,g,S,l,null)}}p&&Me(e,i,"srcSet",l.srcSet,l,null),r&&Me(e,i,"src",l.src,l,null);return;case"input":he("invalid",e);var _=g=S=p=null,x=null,H=null;for(r in l)if(l.hasOwnProperty(r)){var O=l[r];if(O!=null)switch(r){case"name":p=O;break;case"type":S=O;break;case"checked":x=O;break;case"defaultChecked":H=O;break;case"value":g=O;break;case"defaultValue":_=O;break;case"children":case"dangerouslySetInnerHTML":if(O!=null)throw Error(a(137,i));break;default:Me(e,i,r,O,l,null)}}qc(e,g,_,x,H,S,p,!1);return;case"select":he("invalid",e),r=S=g=null;for(p in l)if(l.hasOwnProperty(p)&&(_=l[p],_!=null))switch(p){case"value":g=_;break;case"defaultValue":S=_;break;case"multiple":r=_;default:Me(e,i,p,_,l,null)}i=g,l=S,e.multiple=!!r,i!=null?Ri(e,!!r,i,!1):l!=null&&Ri(e,!!r,l,!0);return;case"textarea":he("invalid",e),g=p=r=null;for(S in l)if(l.hasOwnProperty(S)&&(_=l[S],_!=null))switch(S){case"value":r=_;break;case"defaultValue":p=_;break;case"children":g=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(a(91));break;default:Me(e,i,S,_,l,null)}Bc(e,r,p,g);return;case"option":for(x in l)if(l.hasOwnProperty(x)&&(r=l[x],r!=null))switch(x){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Me(e,i,x,r,l,null)}return;case"dialog":he("beforetoggle",e),he("toggle",e),he("cancel",e),he("close",e);break;case"iframe":case"object":he("load",e);break;case"video":case"audio":for(r=0;r<tl.length;r++)he(tl[r],e);break;case"image":he("error",e),he("load",e);break;case"details":he("toggle",e);break;case"embed":case"source":case"link":he("error",e),he("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(H in l)if(l.hasOwnProperty(H)&&(r=l[H],r!=null))switch(H){case"children":case"dangerouslySetInnerHTML":throw Error(a(137,i));default:Me(e,i,H,r,l,null)}return;default:if(Rs(i)){for(O in l)l.hasOwnProperty(O)&&(r=l[O],r!==void 0&&du(e,i,O,r,l,void 0));return}}for(_ in l)l.hasOwnProperty(_)&&(r=l[_],r!=null&&Me(e,i,_,r,l,null))}function x0(e,i,l,r){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var p=null,g=null,S=null,_=null,x=null,H=null,O=null;for(q in l){var F=l[q];if(l.hasOwnProperty(q)&&F!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":x=F;default:r.hasOwnProperty(q)||Me(e,i,q,null,r,F)}}for(var k in r){var q=r[k];if(F=l[k],r.hasOwnProperty(k)&&(q!=null||F!=null))switch(k){case"type":g=q;break;case"name":p=q;break;case"checked":H=q;break;case"defaultChecked":O=q;break;case"value":S=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(a(137,i));break;default:q!==F&&Me(e,i,k,q,r,F)}}As(e,S,_,x,H,O,g,p);return;case"select":q=S=_=k=null;for(g in l)if(x=l[g],l.hasOwnProperty(g)&&x!=null)switch(g){case"value":break;case"multiple":q=x;default:r.hasOwnProperty(g)||Me(e,i,g,null,r,x)}for(p in r)if(g=r[p],x=l[p],r.hasOwnProperty(p)&&(g!=null||x!=null))switch(p){case"value":k=g;break;case"defaultValue":_=g;break;case"multiple":S=g;default:g!==x&&Me(e,i,p,g,r,x)}i=_,l=S,r=q,k!=null?Ri(e,!!l,k,!1):!!r!=!!l&&(i!=null?Ri(e,!!l,i,!0):Ri(e,!!l,l?[]:"",!1));return;case"textarea":q=k=null;for(_ in l)if(p=l[_],l.hasOwnProperty(_)&&p!=null&&!r.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Me(e,i,_,null,r,p)}for(S in r)if(p=r[S],g=l[S],r.hasOwnProperty(S)&&(p!=null||g!=null))switch(S){case"value":k=p;break;case"defaultValue":q=p;break;case"children":break;case"dangerouslySetInnerHTML":if(p!=null)throw Error(a(91));break;default:p!==g&&Me(e,i,S,p,r,g)}Oc(e,k,q);return;case"option":for(var j in l)if(k=l[j],l.hasOwnProperty(j)&&k!=null&&!r.hasOwnProperty(j))switch(j){case"selected":e.selected=!1;break;default:Me(e,i,j,null,r,k)}for(x in r)if(k=r[x],q=l[x],r.hasOwnProperty(x)&&k!==q&&(k!=null||q!=null))switch(x){case"selected":e.selected=k&&typeof k!="function"&&typeof k!="symbol";break;default:Me(e,i,x,k,r,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var le in l)k=l[le],l.hasOwnProperty(le)&&k!=null&&!r.hasOwnProperty(le)&&Me(e,i,le,null,r,k);for(H in r)if(k=r[H],q=l[H],r.hasOwnProperty(H)&&k!==q&&(k!=null||q!=null))switch(H){case"children":case"dangerouslySetInnerHTML":if(k!=null)throw Error(a(137,i));break;default:Me(e,i,H,k,r,q)}return;default:if(Rs(i)){for(var we in l)k=l[we],l.hasOwnProperty(we)&&k!==void 0&&!r.hasOwnProperty(we)&&du(e,i,we,void 0,r,k);for(O in r)k=r[O],q=l[O],!r.hasOwnProperty(O)||k===q||k===void 0&&q===void 0||du(e,i,O,k,r,q);return}}for(var U in l)k=l[U],l.hasOwnProperty(U)&&k!=null&&!r.hasOwnProperty(U)&&Me(e,i,U,null,r,k);for(F in r)k=r[F],q=l[F],!r.hasOwnProperty(F)||k===q||k==null&&q==null||Me(e,i,F,k,r,q)}function Yp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function R0(){if(typeof performance.getEntriesByType=="function"){for(var e=0,i=0,l=performance.getEntriesByType("resource"),r=0;r<l.length;r++){var p=l[r],g=p.transferSize,S=p.initiatorType,_=p.duration;if(g&&_&&Yp(S)){for(S=0,_=p.responseEnd,r+=1;r<l.length;r++){var x=l[r],H=x.startTime;if(H>_)break;var O=x.transferSize,F=x.initiatorType;O&&Yp(F)&&(x=x.responseEnd,S+=O*(x<_?1:(_-H)/(x-H)))}if(--r,i+=8*(g+S)/(p.duration/1e3),e++,10<e)break}}if(0<e)return i/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var pu=null,hu=null;function xa(e){return e.nodeType===9?e:e.ownerDocument}function Kp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Xp(e,i){if(e===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&i==="foreignObject"?0:e}function mu(e,i){return e==="textarea"||e==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var gu=null;function N0(){var e=window.event;return e&&e.type==="popstate"?e===gu?!1:(gu=e,!0):(gu=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,b0=typeof clearTimeout=="function"?clearTimeout:void 0,$p=typeof Promise=="function"?Promise:void 0,M0=typeof queueMicrotask=="function"?queueMicrotask:typeof $p<"u"?function(e){return $p.resolve(null).then(e).catch(w0)}:Qp;function w0(e){setTimeout(function(){throw e})}function Jn(e){return e==="head"}function Zp(e,i){var l=i,r=0;do{var p=l.nextSibling;if(e.removeChild(l),p&&p.nodeType===8)if(l=p.data,l==="/$"||l==="/&"){if(r===0){e.removeChild(p),oo(i);return}r--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")r++;else if(l==="html")il(e.ownerDocument.documentElement);else if(l==="head"){l=e.ownerDocument.head,il(l);for(var g=l.firstChild;g;){var S=g.nextSibling,_=g.nodeName;g[Eo]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&g.rel.toLowerCase()==="stylesheet"||l.removeChild(g),g=S}}else l==="body"&&il(e.ownerDocument.body);l=p}while(l);oo(i)}function Wp(e,i){var l=e;e=0;do{var r=l.nextSibling;if(l.nodeType===1?i?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(i?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),r&&r.nodeType===8)if(l=r.data,l==="/$"){if(e===0)break;e--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||e++;l=r}while(l)}function yu(e){var i=e.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var l=i;switch(i=i.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":yu(l),_s(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}e.removeChild(l)}}function I0(e,i,l,r){for(;e.nodeType===1;){var p=l;if(e.nodeName.toLowerCase()!==i.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Eo])switch(i){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(g=e.getAttribute("rel"),g==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(g!==p.rel||e.getAttribute("href")!==(p.href==null||p.href===""?null:p.href)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin)||e.getAttribute("title")!==(p.title==null?null:p.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(g=e.getAttribute("src"),(g!==(p.src==null?null:p.src)||e.getAttribute("type")!==(p.type==null?null:p.type)||e.getAttribute("crossorigin")!==(p.crossOrigin==null?null:p.crossOrigin))&&g&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(i==="input"&&e.type==="hidden"){var g=p.name==null?null:""+p.name;if(p.type==="hidden"&&e.getAttribute("name")===g)return e}else return e;if(e=kt(e.nextSibling),e===null)break}return null}function D0(e,i,l){if(i==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!l||(e=kt(e.nextSibling),e===null))return null;return e}function jp(e,i){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!i||(e=kt(e.nextSibling),e===null))return null;return e}function vu(e){return e.data==="$?"||e.data==="$~"}function Tu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function U0(e,i){var l=e.ownerDocument;if(e.data==="$~")e._reactRetry=i;else if(e.data!=="$?"||l.readyState!=="loading")i();else{var r=function(){i(),l.removeEventListener("DOMContentLoaded",r)};l.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function kt(e){for(;e!=null;e=e.nextSibling){var i=e.nodeType;if(i===1||i===3)break;if(i===8){if(i=e.data,i==="$"||i==="$!"||i==="$?"||i==="$~"||i==="&"||i==="F!"||i==="F")break;if(i==="/$"||i==="/&")return null}}return e}var Su=null;function eh(e){e=e.nextSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="/$"||l==="/&"){if(i===0)return kt(e.nextSibling);i--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||i++}e=e.nextSibling}return null}function th(e){e=e.previousSibling;for(var i=0;e;){if(e.nodeType===8){var l=e.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(i===0)return e;i--}else l!=="/$"&&l!=="/&"||i++}e=e.previousSibling}return null}function nh(e,i,l){switch(i=xa(l),e){case"html":if(e=i.documentElement,!e)throw Error(a(452));return e;case"head":if(e=i.head,!e)throw Error(a(453));return e;case"body":if(e=i.body,!e)throw Error(a(454));return e;default:throw Error(a(451))}}function il(e){for(var i=e.attributes;i.length;)e.removeAttributeNode(i[0]);_s(e)}var Vt=new Map,ih=new Set;function Ra(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Tn=X.d;X.d={f:L0,r:G0,D:H0,C:P0,L:k0,m:V0,X:O0,S:q0,M:B0};function L0(){var e=Tn.f(),i=ya();return e||i}function G0(e){var i=Ci(e);i!==null&&i.tag===5&&i.type==="form"?Sd(i):Tn.r(e)}var to=typeof document>"u"?null:document;function oh(e,i,l){var r=to;if(r&&typeof i=="string"&&i){var p=It(i);p='link[rel="'+e+'"][href="'+p+'"]',typeof l=="string"&&(p+='[crossorigin="'+l+'"]'),ih.has(p)||(ih.add(p),e={rel:e,crossOrigin:l,href:i},r.querySelector(p)===null&&(i=r.createElement("link"),at(i,"link",e),je(i),r.head.appendChild(i)))}}function H0(e){Tn.D(e),oh("dns-prefetch",e,null)}function P0(e,i){Tn.C(e,i),oh("preconnect",e,i)}function k0(e,i,l){Tn.L(e,i,l);var r=to;if(r&&e&&i){var p='link[rel="preload"][as="'+It(i)+'"]';i==="image"&&l&&l.imageSrcSet?(p+='[imagesrcset="'+It(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(p+='[imagesizes="'+It(l.imageSizes)+'"]')):p+='[href="'+It(e)+'"]';var g=p;switch(i){case"style":g=no(e);break;case"script":g=io(e)}Vt.has(g)||(e=T({rel:"preload",href:i==="image"&&l&&l.imageSrcSet?void 0:e,as:i},l),Vt.set(g,e),r.querySelector(p)!==null||i==="style"&&r.querySelector(ol(g))||i==="script"&&r.querySelector(ll(g))||(i=r.createElement("link"),at(i,"link",e),je(i),r.head.appendChild(i)))}}function V0(e,i){Tn.m(e,i);var l=to;if(l&&e){var r=i&&typeof i.as=="string"?i.as:"script",p='link[rel="modulepreload"][as="'+It(r)+'"][href="'+It(e)+'"]',g=p;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":g=io(e)}if(!Vt.has(g)&&(e=T({rel:"modulepreload",href:e},i),Vt.set(g,e),l.querySelector(p)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(ll(g)))return}r=l.createElement("link"),at(r,"link",e),je(r),l.head.appendChild(r)}}}function q0(e,i,l){Tn.S(e,i,l);var r=to;if(r&&e){var p=Ai(r).hoistableStyles,g=no(e);i=i||"default";var S=p.get(g);if(!S){var _={loading:0,preload:null};if(S=r.querySelector(ol(g)))_.loading=5;else{e=T({rel:"stylesheet",href:e,"data-precedence":i},l),(l=Vt.get(g))&&Eu(e,l);var x=S=r.createElement("link");je(x),at(x,"link",e),x._p=new Promise(function(H,O){x.onload=H,x.onerror=O}),x.addEventListener("load",function(){_.loading|=1}),x.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Na(S,i,r)}S={type:"stylesheet",instance:S,count:1,state:_},p.set(g,S)}}}function O0(e,i){Tn.X(e,i);var l=to;if(l&&e){var r=Ai(l).hoistableScripts,p=io(e),g=r.get(p);g||(g=l.querySelector(ll(p)),g||(e=T({src:e,async:!0},i),(i=Vt.get(p))&&_u(e,i),g=l.createElement("script"),je(g),at(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(p,g))}}function B0(e,i){Tn.M(e,i);var l=to;if(l&&e){var r=Ai(l).hoistableScripts,p=io(e),g=r.get(p);g||(g=l.querySelector(ll(p)),g||(e=T({src:e,async:!0,type:"module"},i),(i=Vt.get(p))&&_u(e,i),g=l.createElement("script"),je(g),at(g,"link",e),l.head.appendChild(g)),g={type:"script",instance:g,count:1,state:null},r.set(p,g))}}function lh(e,i,l,r){var p=(p=de.current)?Ra(p):null;if(!p)throw Error(a(446));switch(e){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(i=no(l.href),l=Ai(p).hoistableStyles,r=l.get(i),r||(r={type:"style",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){e=no(l.href);var g=Ai(p).hoistableStyles,S=g.get(e);if(S||(p=p.ownerDocument||p,S={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},g.set(e,S),(g=p.querySelector(ol(e)))&&!g._p&&(S.instance=g,S.state.loading=5),Vt.has(e)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Vt.set(e,l),g||z0(p,e,l,S.state))),i&&r===null)throw Error(a(528,""));return S}if(i&&r!==null)throw Error(a(529,""));return null;case"script":return i=l.async,l=l.src,typeof l=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=io(l),l=Ai(p).hoistableScripts,r=l.get(i),r||(r={type:"script",instance:null,count:0,state:null},l.set(i,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(a(444,e))}}function no(e){return'href="'+It(e)+'"'}function ol(e){return'link[rel="stylesheet"]['+e+"]"}function ah(e){return T({},e,{"data-precedence":e.precedence,precedence:null})}function z0(e,i,l,r){e.querySelector('link[rel="preload"][as="style"]['+i+"]")?r.loading=1:(i=e.createElement("link"),r.preload=i,i.addEventListener("load",function(){return r.loading|=1}),i.addEventListener("error",function(){return r.loading|=2}),at(i,"link",l),je(i),e.head.appendChild(i))}function io(e){return'[src="'+It(e)+'"]'}function ll(e){return"script[async]"+e}function sh(e,i,l){if(i.count++,i.instance===null)switch(i.type){case"style":var r=e.querySelector('style[data-href~="'+It(l.href)+'"]');if(r)return i.instance=r,je(r),r;var p=T({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),je(r),at(r,"style",p),Na(r,l.precedence,e),i.instance=r;case"stylesheet":p=no(l.href);var g=e.querySelector(ol(p));if(g)return i.state.loading|=4,i.instance=g,je(g),g;r=ah(l),(p=Vt.get(p))&&Eu(r,p),g=(e.ownerDocument||e).createElement("link"),je(g);var S=g;return S._p=new Promise(function(_,x){S.onload=_,S.onerror=x}),at(g,"link",r),i.state.loading|=4,Na(g,l.precedence,e),i.instance=g;case"script":return g=io(l.src),(p=e.querySelector(ll(g)))?(i.instance=p,je(p),p):(r=l,(p=Vt.get(g))&&(r=T({},l),_u(r,p)),e=e.ownerDocument||e,p=e.createElement("script"),je(p),at(p,"link",r),e.head.appendChild(p),i.instance=p);case"void":return null;default:throw Error(a(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(r=i.instance,i.state.loading|=4,Na(r,l.precedence,e));return i.instance}function Na(e,i,l){for(var r=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),p=r.length?r[r.length-1]:null,g=p,S=0;S<r.length;S++){var _=r[S];if(_.dataset.precedence===i)g=_;else if(g!==p)break}g?g.parentNode.insertBefore(e,g.nextSibling):(i=l.nodeType===9?l.head:l,i.insertBefore(e,i.firstChild))}function Eu(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.title==null&&(e.title=i.title)}function _u(e,i){e.crossOrigin==null&&(e.crossOrigin=i.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=i.referrerPolicy),e.integrity==null&&(e.integrity=i.integrity)}var ba=null;function rh(e,i,l){if(ba===null){var r=new Map,p=ba=new Map;p.set(l,r)}else p=ba,r=p.get(l),r||(r=new Map,p.set(l,r));if(r.has(e))return r;for(r.set(e,null),l=l.getElementsByTagName(e),p=0;p<l.length;p++){var g=l[p];if(!(g[Eo]||g[nt]||e==="link"&&g.getAttribute("rel")==="stylesheet")&&g.namespaceURI!=="http://www.w3.org/2000/svg"){var S=g.getAttribute(i)||"";S=e+S;var _=r.get(S);_?_.push(g):r.set(S,[g])}}return r}function uh(e,i,l){e=e.ownerDocument||e,e.head.insertBefore(l,i==="title"?e.querySelector("head > title"):null)}function F0(e,i,l){if(l===1||i.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return e=i.disabled,typeof i.precedence=="string"&&e==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function ch(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function J0(e,i,l,r){if(l.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var p=no(r.href),g=i.querySelector(ol(p));if(g){i=g._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(e.count++,e=Ma.bind(e),i.then(e,e)),l.state.loading|=4,l.instance=g,je(g);return}g=i.ownerDocument||i,r=ah(r),(p=Vt.get(p))&&Eu(r,p),g=g.createElement("link"),je(g);var S=g;S._p=new Promise(function(_,x){S.onload=_,S.onerror=x}),at(g,"link",r),l.instance=g}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(l,i),(i=l.state.preload)&&(l.state.loading&3)===0&&(e.count++,l=Ma.bind(e),i.addEventListener("load",l),i.addEventListener("error",l))}}var Cu=0;function Y0(e,i){return e.stylesheets&&e.count===0&&Ia(e,e.stylesheets),0<e.count||0<e.imgCount?function(l){var r=setTimeout(function(){if(e.stylesheets&&Ia(e,e.stylesheets),e.unsuspend){var g=e.unsuspend;e.unsuspend=null,g()}},6e4+i);0<e.imgBytes&&Cu===0&&(Cu=62500*R0());var p=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Ia(e,e.stylesheets),e.unsuspend)){var g=e.unsuspend;e.unsuspend=null,g()}},(e.imgBytes>Cu?50:800)+i);return e.unsuspend=l,function(){e.unsuspend=null,clearTimeout(r),clearTimeout(p)}}:null}function Ma(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Ia(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var wa=null;function Ia(e,i){e.stylesheets=null,e.unsuspend!==null&&(e.count++,wa=new Map,i.forEach(K0,e),wa=null,Ma.call(e))}function K0(e,i){if(!(i.state.loading&4)){var l=wa.get(e);if(l)var r=l.get(null);else{l=new Map,wa.set(e,l);for(var p=e.querySelectorAll("link[data-precedence],style[data-precedence]"),g=0;g<p.length;g++){var S=p[g];(S.nodeName==="LINK"||S.getAttribute("media")!=="not all")&&(l.set(S.dataset.precedence,S),r=S)}r&&l.set(null,r)}p=i.instance,S=p.getAttribute("data-precedence"),g=l.get(S)||r,g===r&&l.set(null,p),l.set(S,p),this.count++,r=Ma.bind(this),p.addEventListener("load",r),p.addEventListener("error",r),g?g.parentNode.insertBefore(p,g.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(p,e.firstChild)),i.state.loading|=4}}var al={$$typeof:D,Provider:null,Consumer:null,_currentValue:ie,_currentValue2:ie,_threadCount:0};function X0(e,i,l,r,p,g,S,_,x){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vs(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vs(0),this.hiddenUpdates=vs(null),this.identifierPrefix=r,this.onUncaughtError=p,this.onCaughtError=g,this.onRecoverableError=S,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=x,this.incompleteTransitions=new Map}function fh(e,i,l,r,p,g,S,_,x,H,O,F){return e=new X0(e,i,l,S,x,H,O,F,_),i=1,g===!0&&(i|=24),g=At(3,null,null,i),e.current=g,g.stateNode=e,i=nr(),i.refCount++,e.pooledCache=i,i.refCount++,g.memoizedState={element:r,isDehydrated:l,cache:i},ar(g),e}function dh(e){return e?(e=Li,e):Li}function ph(e,i,l,r,p,g){p=dh(p),r.context===null?r.context=p:r.pendingContext=p,r=Ln(i),r.payload={element:l},g=g===void 0?null:g,g!==null&&(r.callback=g),l=Gn(e,r,i),l!==null&&(Tt(l,e,i),ko(l,e,i))}function hh(e,i){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var l=e.retryLane;e.retryLane=l!==0&&l<i?l:i}}function Au(e,i){hh(e,i),(e=e.alternate)&&hh(e,i)}function mh(e){if(e.tag===13||e.tag===31){var i=li(e,67108864);i!==null&&Tt(i,e,67108864),Au(e,67108864)}}function gh(e){if(e.tag===13||e.tag===31){var i=Mt();i=Ts(i);var l=li(e,i);l!==null&&Tt(l,e,i),Au(e,i)}}var Da=!0;function Q0(e,i,l,r){var p=B.T;B.T=null;var g=X.p;try{X.p=2,xu(e,i,l,r)}finally{X.p=g,B.T=p}}function $0(e,i,l,r){var p=B.T;B.T=null;var g=X.p;try{X.p=8,xu(e,i,l,r)}finally{X.p=g,B.T=p}}function xu(e,i,l,r){if(Da){var p=Ru(r);if(p===null)fu(e,i,r,Ua,l),vh(e,r);else if(W0(p,e,i,l,r))r.stopPropagation();else if(vh(e,r),i&4&&-1<Z0.indexOf(e)){for(;p!==null;){var g=Ci(p);if(g!==null)switch(g.tag){case 3:if(g=g.stateNode,g.current.memoizedState.isDehydrated){var S=ei(g.pendingLanes);if(S!==0){var _=g;for(_.pendingLanes|=2,_.entangledLanes|=2;S;){var x=1<<31-_t(S);_.entanglements[1]|=x,S&=~x}jt(g),(Ce&6)===0&&(ma=St()+500,el(0))}}break;case 31:case 13:_=li(g,2),_!==null&&Tt(_,g,2),ya(),Au(g,2)}if(g=Ru(r),g===null&&fu(e,i,r,Ua,l),g===p)break;p=g}p!==null&&r.stopPropagation()}else fu(e,i,r,null,l)}}function Ru(e){return e=bs(e),Nu(e)}var Ua=null;function Nu(e){if(Ua=null,e=_i(e),e!==null){var i=c(e);if(i===null)e=null;else{var l=i.tag;if(l===13){if(e=d(i),e!==null)return e;e=null}else if(l===31){if(e=h(i),e!==null)return e;e=null}else if(l===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;e=null}else i!==e&&(e=null)}}return Ua=e,null}function yh(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hy()){case Ac:return 2;case xc:return 8;case _l:case Py:return 32;case Rc:return 268435456;default:return 32}default:return 32}}var bu=!1,Yn=null,Kn=null,Xn=null,sl=new Map,rl=new Map,Qn=[],Z0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function vh(e,i){switch(e){case"focusin":case"focusout":Yn=null;break;case"dragenter":case"dragleave":Kn=null;break;case"mouseover":case"mouseout":Xn=null;break;case"pointerover":case"pointerout":sl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":rl.delete(i.pointerId)}}function ul(e,i,l,r,p,g){return e===null||e.nativeEvent!==g?(e={blockedOn:i,domEventName:l,eventSystemFlags:r,nativeEvent:g,targetContainers:[p]},i!==null&&(i=Ci(i),i!==null&&mh(i)),e):(e.eventSystemFlags|=r,i=e.targetContainers,p!==null&&i.indexOf(p)===-1&&i.push(p),e)}function W0(e,i,l,r,p){switch(i){case"focusin":return Yn=ul(Yn,e,i,l,r,p),!0;case"dragenter":return Kn=ul(Kn,e,i,l,r,p),!0;case"mouseover":return Xn=ul(Xn,e,i,l,r,p),!0;case"pointerover":var g=p.pointerId;return sl.set(g,ul(sl.get(g)||null,e,i,l,r,p)),!0;case"gotpointercapture":return g=p.pointerId,rl.set(g,ul(rl.get(g)||null,e,i,l,r,p)),!0}return!1}function Th(e){var i=_i(e.target);if(i!==null){var l=c(i);if(l!==null){if(i=l.tag,i===13){if(i=d(l),i!==null){e.blockedOn=i,Dc(e.priority,function(){gh(l)});return}}else if(i===31){if(i=h(l),i!==null){e.blockedOn=i,Dc(e.priority,function(){gh(l)});return}}else if(i===3&&l.stateNode.current.memoizedState.isDehydrated){e.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}e.blockedOn=null}function La(e){if(e.blockedOn!==null)return!1;for(var i=e.targetContainers;0<i.length;){var l=Ru(e.nativeEvent);if(l===null){l=e.nativeEvent;var r=new l.constructor(l.type,l);Ns=r,l.target.dispatchEvent(r),Ns=null}else return i=Ci(l),i!==null&&mh(i),e.blockedOn=l,!1;i.shift()}return!0}function Sh(e,i,l){La(e)&&l.delete(i)}function j0(){bu=!1,Yn!==null&&La(Yn)&&(Yn=null),Kn!==null&&La(Kn)&&(Kn=null),Xn!==null&&La(Xn)&&(Xn=null),sl.forEach(Sh),rl.forEach(Sh)}function Ga(e,i){e.blockedOn===i&&(e.blockedOn=null,bu||(bu=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,j0)))}var Ha=null;function Eh(e){Ha!==e&&(Ha=e,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Ha===e&&(Ha=null);for(var i=0;i<e.length;i+=3){var l=e[i],r=e[i+1],p=e[i+2];if(typeof r!="function"){if(Nu(r||l)===null)continue;break}var g=Ci(l);g!==null&&(e.splice(i,3),i-=3,Rr(g,{pending:!0,data:p,method:l.method,action:r},r,p))}}))}function oo(e){function i(x){return Ga(x,e)}Yn!==null&&Ga(Yn,e),Kn!==null&&Ga(Kn,e),Xn!==null&&Ga(Xn,e),sl.forEach(i),rl.forEach(i);for(var l=0;l<Qn.length;l++){var r=Qn[l];r.blockedOn===e&&(r.blockedOn=null)}for(;0<Qn.length&&(l=Qn[0],l.blockedOn===null);)Th(l),l.blockedOn===null&&Qn.shift();if(l=(e.ownerDocument||e).$$reactFormReplay,l!=null)for(r=0;r<l.length;r+=3){var p=l[r],g=l[r+1],S=p[pt]||null;if(typeof g=="function")S||Eh(l);else if(S){var _=null;if(g&&g.hasAttribute("formAction")){if(p=g,S=g[pt]||null)_=S.formAction;else if(Nu(p)!==null)continue}else _=S.action;typeof _=="function"?l[r+1]=_:(l.splice(r,3),r-=3),Eh(l)}}}function _h(){function e(g){g.canIntercept&&g.info==="react-transition"&&g.intercept({handler:function(){return new Promise(function(S){return p=S})},focusReset:"manual",scroll:"manual"})}function i(){p!==null&&(p(),p=null),r||setTimeout(l,20)}function l(){if(!r&&!navigation.transition){var g=navigation.currentEntry;g&&g.url!=null&&navigation.navigate(g.url,{state:g.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var r=!1,p=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",i),navigation.addEventListener("navigateerror",i),setTimeout(l,100),function(){r=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",i),navigation.removeEventListener("navigateerror",i),p!==null&&(p(),p=null)}}}function Mu(e){this._internalRoot=e}Pa.prototype.render=Mu.prototype.render=function(e){var i=this._internalRoot;if(i===null)throw Error(a(409));var l=i.current,r=Mt();ph(l,r,e,i,null,null)},Pa.prototype.unmount=Mu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var i=e.containerInfo;ph(e.current,2,null,e,null,null),ya(),i[Ei]=null}};function Pa(e){this._internalRoot=e}Pa.prototype.unstable_scheduleHydration=function(e){if(e){var i=Ic();e={blockedOn:null,target:e,priority:i};for(var l=0;l<Qn.length&&i!==0&&i<Qn[l].priority;l++);Qn.splice(l,0,e),l===0&&Th(e)}};var Ch=t.version;if(Ch!=="19.2.4")throw Error(a(527,Ch,"19.2.4"));X.findDOMNode=function(e){var i=e._reactInternals;if(i===void 0)throw typeof e.render=="function"?Error(a(188)):(e=Object.keys(e).join(","),Error(a(268,e)));return e=m(i),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var eT={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:B,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ka=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ka.isDisabled&&ka.supportsFiber)try{vo=ka.inject(eT),Et=ka}catch{}}return fl.createRoot=function(e,i){if(!s(e))throw Error(a(299));var l=!1,r="",p=wd,g=Id,S=Dd;return i!=null&&(i.unstable_strictMode===!0&&(l=!0),i.identifierPrefix!==void 0&&(r=i.identifierPrefix),i.onUncaughtError!==void 0&&(p=i.onUncaughtError),i.onCaughtError!==void 0&&(g=i.onCaughtError),i.onRecoverableError!==void 0&&(S=i.onRecoverableError)),i=fh(e,1,!1,null,null,l,r,null,p,g,S,_h),e[Ei]=i.current,cu(e),new Mu(i)},fl.hydrateRoot=function(e,i,l){if(!s(e))throw Error(a(299));var r=!1,p="",g=wd,S=Id,_=Dd,x=null;return l!=null&&(l.unstable_strictMode===!0&&(r=!0),l.identifierPrefix!==void 0&&(p=l.identifierPrefix),l.onUncaughtError!==void 0&&(g=l.onUncaughtError),l.onCaughtError!==void 0&&(S=l.onCaughtError),l.onRecoverableError!==void 0&&(_=l.onRecoverableError),l.formState!==void 0&&(x=l.formState)),i=fh(e,1,!0,i,l??null,r,p,x,g,S,_,_h),i.context=dh(null),l=i.current,r=Mt(),r=Ts(r),p=Ln(r),p.callback=null,Gn(l,p,r),l=r,i.current.lanes=l,So(i,l),jt(i),e[Ei]=i.current,cu(e),new Pa(i)},fl.version="19.2.4",fl}var Uh;function cT(){if(Uh)return Iu.exports;Uh=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Iu.exports=uT(),Iu.exports}var fT=cT(),P=ac();/**
 * react-router v7.13.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Lh="popstate";function dT(n={}){function t(s,c){let{pathname:d="/",search:h="",hash:y=""}=fo(s.location.hash.substring(1));return!d.startsWith("/")&&!d.startsWith(".")&&(d="/"+d),Fu("",{pathname:d,search:h,hash:y},c.state&&c.state.usr||null,c.state&&c.state.key||"default")}function o(s,c){let d=s.document.querySelector("base"),h="";if(d&&d.getAttribute("href")){let y=s.location.href,m=y.indexOf("#");h=m===-1?y:y.slice(0,m)}return h+"#"+(typeof c=="string"?c:yl(c))}function a(s,c){Xt(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(c)})`)}return hT(t,o,a,n)}function Ze(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function Xt(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function pT(){return Math.random().toString(36).substring(2,10)}function Gh(n,t){return{usr:n.state,key:n.key,idx:t}}function Fu(n,t,o=null,a){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof t=="string"?fo(t):t,state:o,key:t&&t.key||a||pT()}}function yl({pathname:n="/",search:t="",hash:o=""}){return t&&t!=="?"&&(n+=t.charAt(0)==="?"?t:"?"+t),o&&o!=="#"&&(n+=o.charAt(0)==="#"?o:"#"+o),n}function fo(n){let t={};if(n){let o=n.indexOf("#");o>=0&&(t.hash=n.substring(o),n=n.substring(0,o));let a=n.indexOf("?");a>=0&&(t.search=n.substring(a),n=n.substring(0,a)),n&&(t.pathname=n)}return t}function hT(n,t,o,a={}){let{window:s=document.defaultView,v5Compat:c=!1}=a,d=s.history,h="POP",y=null,m=v();m==null&&(m=0,d.replaceState({...d.state,idx:m},""));function v(){return(d.state||{idx:null}).idx}function T(){h="POP";let b=v(),G=b==null?null:b-m;m=b,y&&y({action:h,location:N.location,delta:G})}function E(b,G){h="PUSH";let I=Fu(N.location,b,G);o&&o(I,b),m=v()+1;let D=Gh(I,m),J=N.createHref(I);try{d.pushState(D,"",J)}catch(V){if(V instanceof DOMException&&V.name==="DataCloneError")throw V;s.location.assign(J)}c&&y&&y({action:h,location:N.location,delta:1})}function C(b,G){h="REPLACE";let I=Fu(N.location,b,G);o&&o(I,b),m=v();let D=Gh(I,m),J=N.createHref(I);d.replaceState(D,"",J),c&&y&&y({action:h,location:N.location,delta:0})}function R(b){return mT(b)}let N={get action(){return h},get location(){return n(s,d)},listen(b){if(y)throw new Error("A history only accepts one active listener");return s.addEventListener(Lh,T),y=b,()=>{s.removeEventListener(Lh,T),y=null}},createHref(b){return t(s,b)},createURL:R,encodeLocation(b){let G=R(b);return{pathname:G.pathname,search:G.search,hash:G.hash}},push:E,replace:C,go(b){return d.go(b)}};return N}function mT(n,t=!1){let o="http://localhost";typeof window<"u"&&(o=window.location.origin!=="null"?window.location.origin:window.location.href),Ze(o,"No window.location.(origin|href) available to create URL");let a=typeof n=="string"?n:yl(n);return a=a.replace(/ $/,"%20"),!t&&a.startsWith("//")&&(a=o+a),new URL(a,o)}function Sg(n,t,o="/"){return gT(n,t,o,!1)}function gT(n,t,o,a){let s=typeof t=="string"?fo(t):t,c=En(s.pathname||"/",o);if(c==null)return null;let d=Eg(n);yT(d);let h=null;for(let y=0;h==null&&y<d.length;++y){let m=bT(c);h=RT(d[y],m,a)}return h}function Eg(n,t=[],o=[],a="",s=!1){let c=(d,h,y=s,m)=>{let v={relativePath:m===void 0?d.path||"":m,caseSensitive:d.caseSensitive===!0,childrenIndex:h,route:d};if(v.relativePath.startsWith("/")){if(!v.relativePath.startsWith(a)&&y)return;Ze(v.relativePath.startsWith(a),`Absolute route path "${v.relativePath}" nested under path "${a}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),v.relativePath=v.relativePath.slice(a.length)}let T=Sn([a,v.relativePath]),E=o.concat(v);d.children&&d.children.length>0&&(Ze(d.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${T}".`),Eg(d.children,t,E,T,y)),!(d.path==null&&!d.index)&&t.push({path:T,score:AT(T,d.index),routesMeta:E})};return n.forEach((d,h)=>{var y;if(d.path===""||!((y=d.path)!=null&&y.includes("?")))c(d,h);else for(let m of _g(d.path))c(d,h,!0,m)}),t}function _g(n){let t=n.split("/");if(t.length===0)return[];let[o,...a]=t,s=o.endsWith("?"),c=o.replace(/\?$/,"");if(a.length===0)return s?[c,""]:[c];let d=_g(a.join("/")),h=[];return h.push(...d.map(y=>y===""?c:[c,y].join("/"))),s&&h.push(...d),h.map(y=>n.startsWith("/")&&y===""?"/":y)}function yT(n){n.sort((t,o)=>t.score!==o.score?o.score-t.score:xT(t.routesMeta.map(a=>a.childrenIndex),o.routesMeta.map(a=>a.childrenIndex)))}var vT=/^:[\w-]+$/,TT=3,ST=2,ET=1,_T=10,CT=-2,Hh=n=>n==="*";function AT(n,t){let o=n.split("/"),a=o.length;return o.some(Hh)&&(a+=CT),t&&(a+=ST),o.filter(s=>!Hh(s)).reduce((s,c)=>s+(vT.test(c)?TT:c===""?ET:_T),a)}function xT(n,t){return n.length===t.length&&n.slice(0,-1).every((a,s)=>a===t[s])?n[n.length-1]-t[t.length-1]:0}function RT(n,t,o=!1){let{routesMeta:a}=n,s={},c="/",d=[];for(let h=0;h<a.length;++h){let y=a[h],m=h===a.length-1,v=c==="/"?t:t.slice(c.length)||"/",T=Qa({path:y.relativePath,caseSensitive:y.caseSensitive,end:m},v),E=y.route;if(!T&&m&&o&&!a[a.length-1].route.index&&(T=Qa({path:y.relativePath,caseSensitive:y.caseSensitive,end:!1},v)),!T)return null;Object.assign(s,T.params),d.push({params:s,pathname:Sn([c,T.pathname]),pathnameBase:DT(Sn([c,T.pathnameBase])),route:E}),T.pathnameBase!=="/"&&(c=Sn([c,T.pathnameBase]))}return d}function Qa(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[o,a]=NT(n.path,n.caseSensitive,n.end),s=t.match(o);if(!s)return null;let c=s[0],d=c.replace(/(.)\/+$/,"$1"),h=s.slice(1);return{params:a.reduce((m,{paramName:v,isOptional:T},E)=>{if(v==="*"){let R=h[E]||"";d=c.slice(0,c.length-R.length).replace(/(.)\/+$/,"$1")}const C=h[E];return T&&!C?m[v]=void 0:m[v]=(C||"").replace(/%2F/g,"/"),m},{}),pathname:c,pathnameBase:d,pattern:n}}function NT(n,t=!1,o=!0){Xt(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let a=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(d,h,y)=>(a.push({paramName:h,isOptional:y!=null}),y?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(a.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):o?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),a]}function bT(n){try{return n.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return Xt(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${t}).`),n}}function En(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let o=t.endsWith("/")?t.length-1:t.length,a=n.charAt(o);return a&&a!=="/"?null:n.slice(o)||"/"}var MT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function wT(n,t="/"){let{pathname:o,search:a="",hash:s=""}=typeof n=="string"?fo(n):n,c;return o?(o=o.replace(/\/\/+/g,"/"),o.startsWith("/")?c=Ph(o.substring(1),"/"):c=Ph(o,t)):c=t,{pathname:c,search:UT(a),hash:LT(s)}}function Ph(n,t){let o=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?o.length>1&&o.pop():s!=="."&&o.push(s)}),o.length>1?o.join("/"):"/"}function Hu(n,t,o,a){return`Cannot include a '${n}' character in a manually specified \`to.${t}\` field [${JSON.stringify(a)}].  Please separate it out to the \`to.${o}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function IT(n){return n.filter((t,o)=>o===0||t.route.path&&t.route.path.length>0)}function Cg(n){let t=IT(n);return t.map((o,a)=>a===t.length-1?o.pathname:o.pathnameBase)}function Ag(n,t,o,a=!1){let s;typeof n=="string"?s=fo(n):(s={...n},Ze(!s.pathname||!s.pathname.includes("?"),Hu("?","pathname","search",s)),Ze(!s.pathname||!s.pathname.includes("#"),Hu("#","pathname","hash",s)),Ze(!s.search||!s.search.includes("#"),Hu("#","search","hash",s)));let c=n===""||s.pathname==="",d=c?"/":s.pathname,h;if(d==null)h=o;else{let T=t.length-1;if(!a&&d.startsWith("..")){let E=d.split("/");for(;E[0]==="..";)E.shift(),T-=1;s.pathname=E.join("/")}h=T>=0?t[T]:"/"}let y=wT(s,h),m=d&&d!=="/"&&d.endsWith("/"),v=(c||d===".")&&o.endsWith("/");return!y.pathname.endsWith("/")&&(m||v)&&(y.pathname+="/"),y}var Sn=n=>n.join("/").replace(/\/\/+/g,"/"),DT=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),UT=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,LT=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,GT=class{constructor(n,t,o,a=!1){this.status=n,this.statusText=t||"",this.internal=a,o instanceof Error?(this.data=o.toString(),this.error=o):this.data=o}};function HT(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function PT(n){return n.map(t=>t.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var xg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function Rg(n,t){let o=n;if(typeof o!="string"||!MT.test(o))return{absoluteURL:void 0,isExternal:!1,to:o};let a=o,s=!1;if(xg)try{let c=new URL(window.location.href),d=o.startsWith("//")?new URL(c.protocol+o):new URL(o),h=En(d.pathname,t);d.origin===c.origin&&h!=null?o=h+d.search+d.hash:s=!0}catch{Xt(!1,`<Link to="${o}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:a,isExternal:s,to:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Ng=["POST","PUT","PATCH","DELETE"];new Set(Ng);var kT=["GET",...Ng];new Set(kT);var po=P.createContext(null);po.displayName="DataRouter";var is=P.createContext(null);is.displayName="DataRouterState";var VT=P.createContext(!1),bg=P.createContext({isTransitioning:!1});bg.displayName="ViewTransition";var qT=P.createContext(new Map);qT.displayName="Fetchers";var OT=P.createContext(null);OT.displayName="Await";var Bt=P.createContext(null);Bt.displayName="Navigation";var os=P.createContext(null);os.displayName="Location";var Cn=P.createContext({outlet:null,matches:[],isDataRoute:!1});Cn.displayName="Route";var sc=P.createContext(null);sc.displayName="RouteError";var Mg="REACT_ROUTER_ERROR",BT="REDIRECT",zT="ROUTE_ERROR_RESPONSE";function FT(n){if(n.startsWith(`${Mg}:${BT}:{`))try{let t=JSON.parse(n.slice(28));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.location=="string"&&typeof t.reloadDocument=="boolean"&&typeof t.replace=="boolean")return t}catch{}}function JT(n){if(n.startsWith(`${Mg}:${zT}:{`))try{let t=JSON.parse(n.slice(40));if(typeof t=="object"&&t&&typeof t.status=="number"&&typeof t.statusText=="string")return new GT(t.status,t.statusText,t.data)}catch{}}function YT(n,{relative:t}={}){Ze(Tl(),"useHref() may be used only in the context of a <Router> component.");let{basename:o,navigator:a}=P.useContext(Bt),{hash:s,pathname:c,search:d}=Sl(n,{relative:t}),h=c;return o!=="/"&&(h=c==="/"?o:Sn([o,c])),a.createHref({pathname:h,search:d,hash:s})}function Tl(){return P.useContext(os)!=null}function Ti(){return Ze(Tl(),"useLocation() may be used only in the context of a <Router> component."),P.useContext(os).location}var wg="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function Ig(n){P.useContext(Bt).static||P.useLayoutEffect(n)}function KT(){let{isDataRoute:n}=P.useContext(Cn);return n?aS():XT()}function XT(){Ze(Tl(),"useNavigate() may be used only in the context of a <Router> component.");let n=P.useContext(po),{basename:t,navigator:o}=P.useContext(Bt),{matches:a}=P.useContext(Cn),{pathname:s}=Ti(),c=JSON.stringify(Cg(a)),d=P.useRef(!1);return Ig(()=>{d.current=!0}),P.useCallback((y,m={})=>{if(Xt(d.current,wg),!d.current)return;if(typeof y=="number"){o.go(y);return}let v=Ag(y,JSON.parse(c),s,m.relative==="path");n==null&&t!=="/"&&(v.pathname=v.pathname==="/"?t:Sn([t,v.pathname])),(m.replace?o.replace:o.push)(v,m.state,m)},[t,o,c,s,n])}P.createContext(null);function Sl(n,{relative:t}={}){let{matches:o}=P.useContext(Cn),{pathname:a}=Ti(),s=JSON.stringify(Cg(o));return P.useMemo(()=>Ag(n,JSON.parse(s),a,t==="path"),[n,s,a,t])}function QT(n,t,o,a,s){Ze(Tl(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:c}=P.useContext(Bt),{matches:d}=P.useContext(Cn),h=d[d.length-1],y=h?h.params:{},m=h?h.pathname:"/",v=h?h.pathnameBase:"/",T=h&&h.route;{let I=T&&T.path||"";Ug(m,!T||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${m}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let E=Ti(),C;C=E;let R=C.pathname||"/",N=R;if(v!=="/"){let I=v.replace(/^\//,"").split("/");N="/"+R.replace(/^\//,"").split("/").slice(I.length).join("/")}let b=Sg(n,{pathname:N});return Xt(T||b!=null,`No routes matched location "${C.pathname}${C.search}${C.hash}" `),Xt(b==null||b[b.length-1].route.element!==void 0||b[b.length-1].route.Component!==void 0||b[b.length-1].route.lazy!==void 0,`Matched leaf route at location "${C.pathname}${C.search}${C.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`),eS(b&&b.map(I=>Object.assign({},I,{params:Object.assign({},y,I.params),pathname:Sn([v,c.encodeLocation?c.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?v:Sn([v,c.encodeLocation?c.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),d,o,a,s)}function $T(){let n=lS(),t=HT(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),o=n instanceof Error?n.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a},c={padding:"2px 4px",backgroundColor:a},d=null;return console.error("Error handled by React Router default ErrorBoundary:",n),d=P.createElement(P.Fragment,null,P.createElement("p",null," Hey developer "),P.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",P.createElement("code",{style:c},"ErrorBoundary")," or"," ",P.createElement("code",{style:c},"errorElement")," prop on your route.")),P.createElement(P.Fragment,null,P.createElement("h2",null,"Unexpected Application Error!"),P.createElement("h3",{style:{fontStyle:"italic"}},t),o?P.createElement("pre",{style:s},o):null,d)}var ZT=P.createElement($T,null),Dg=class extends P.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,t){return t.location!==n.location||t.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:t.error,location:t.location,revalidation:n.revalidation||t.revalidation}}componentDidCatch(n,t){this.props.onError?this.props.onError(n,t):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const o=JT(n.digest);o&&(n=o)}let t=n!==void 0?P.createElement(Cn.Provider,{value:this.props.routeContext},P.createElement(sc.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?P.createElement(WT,{error:n},t):t}};Dg.contextType=VT;var Pu=new WeakMap;function WT({children:n,error:t}){let{basename:o}=P.useContext(Bt);if(typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){let a=FT(t.digest);if(a){let s=Pu.get(t);if(s)throw s;let c=Rg(a.location,o);if(xg&&!Pu.get(t))if(c.isExternal||a.reloadDocument)window.location.href=c.absoluteURL||c.to;else{const d=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(c.to,{replace:a.replace}));throw Pu.set(t,d),d}return P.createElement("meta",{httpEquiv:"refresh",content:`0;url=${c.absoluteURL||c.to}`})}}return n}function jT({routeContext:n,match:t,children:o}){let a=P.useContext(po);return a&&a.static&&a.staticContext&&(t.route.errorElement||t.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=t.route.id),P.createElement(Cn.Provider,{value:n},o)}function eS(n,t=[],o=null,a=null,s=null){if(n==null){if(!o)return null;if(o.errors)n=o.matches;else if(t.length===0&&!o.initialized&&o.matches.length>0)n=o.matches;else return null}let c=n,d=o==null?void 0:o.errors;if(d!=null){let v=c.findIndex(T=>T.route.id&&(d==null?void 0:d[T.route.id])!==void 0);Ze(v>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(d).join(",")}`),c=c.slice(0,Math.min(c.length,v+1))}let h=!1,y=-1;if(o)for(let v=0;v<c.length;v++){let T=c[v];if((T.route.HydrateFallback||T.route.hydrateFallbackElement)&&(y=v),T.route.id){let{loaderData:E,errors:C}=o,R=T.route.loader&&!E.hasOwnProperty(T.route.id)&&(!C||C[T.route.id]===void 0);if(T.route.lazy||R){h=!0,y>=0?c=c.slice(0,y+1):c=[c[0]];break}}}let m=o&&a?(v,T)=>{var E,C;a(v,{location:o.location,params:((C=(E=o.matches)==null?void 0:E[0])==null?void 0:C.params)??{},unstable_pattern:PT(o.matches),errorInfo:T})}:void 0;return c.reduceRight((v,T,E)=>{let C,R=!1,N=null,b=null;o&&(C=d&&T.route.id?d[T.route.id]:void 0,N=T.route.errorElement||ZT,h&&(y<0&&E===0?(Ug("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),R=!0,b=null):y===E&&(R=!0,b=T.route.hydrateFallbackElement||null)));let G=t.concat(c.slice(0,E+1)),I=()=>{let D;return C?D=N:R?D=b:T.route.Component?D=P.createElement(T.route.Component,null):T.route.element?D=T.route.element:D=v,P.createElement(jT,{match:T,routeContext:{outlet:v,matches:G,isDataRoute:o!=null},children:D})};return o&&(T.route.ErrorBoundary||T.route.errorElement||E===0)?P.createElement(Dg,{location:o.location,revalidation:o.revalidation,component:N,error:C,children:I(),routeContext:{outlet:null,matches:G,isDataRoute:!0},onError:m}):I()},null)}function rc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function tS(n){let t=P.useContext(po);return Ze(t,rc(n)),t}function nS(n){let t=P.useContext(is);return Ze(t,rc(n)),t}function iS(n){let t=P.useContext(Cn);return Ze(t,rc(n)),t}function uc(n){let t=iS(n),o=t.matches[t.matches.length-1];return Ze(o.route.id,`${n} can only be used on routes that contain a unique "id"`),o.route.id}function oS(){return uc("useRouteId")}function lS(){var a;let n=P.useContext(sc),t=nS("useRouteError"),o=uc("useRouteError");return n!==void 0?n:(a=t.errors)==null?void 0:a[o]}function aS(){let{router:n}=tS("useNavigate"),t=uc("useNavigate"),o=P.useRef(!1);return Ig(()=>{o.current=!0}),P.useCallback(async(s,c={})=>{Xt(o.current,wg),o.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:t,...c}))},[n,t])}var kh={};function Ug(n,t,o){!t&&!kh[n]&&(kh[n]=!0,Xt(!1,o))}P.memo(sS);function sS({routes:n,future:t,state:o,onError:a}){return QT(n,void 0,o,a,t)}function rS({basename:n="/",children:t=null,location:o,navigationType:a="POP",navigator:s,static:c=!1,unstable_useTransitions:d}){Ze(!Tl(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=n.replace(/^\/*/,"/"),y=P.useMemo(()=>({basename:h,navigator:s,static:c,unstable_useTransitions:d,future:{}}),[h,s,c,d]);typeof o=="string"&&(o=fo(o));let{pathname:m="/",search:v="",hash:T="",state:E=null,key:C="default"}=o,R=P.useMemo(()=>{let N=En(m,h);return N==null?null:{location:{pathname:N,search:v,hash:T,state:E,key:C},navigationType:a}},[h,m,v,T,E,C,a]);return Xt(R!=null,`<Router basename="${h}"> is not able to match the URL "${m}${v}${T}" because it does not start with the basename, so the <Router> won't render anything.`),R==null?null:P.createElement(Bt.Provider,{value:y},P.createElement(os.Provider,{children:t,value:R}))}var Ja="get",Ya="application/x-www-form-urlencoded";function ls(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function uS(n){return ls(n)&&n.tagName.toLowerCase()==="button"}function cS(n){return ls(n)&&n.tagName.toLowerCase()==="form"}function fS(n){return ls(n)&&n.tagName.toLowerCase()==="input"}function dS(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function pS(n,t){return n.button===0&&(!t||t==="_self")&&!dS(n)}var Va=null;function hS(){if(Va===null)try{new FormData(document.createElement("form"),0),Va=!1}catch{Va=!0}return Va}var mS=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ku(n){return n!=null&&!mS.has(n)?(Xt(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Ya}"`),null):n}function gS(n,t){let o,a,s,c,d;if(cS(n)){let h=n.getAttribute("action");a=h?En(h,t):null,o=n.getAttribute("method")||Ja,s=ku(n.getAttribute("enctype"))||Ya,c=new FormData(n)}else if(uS(n)||fS(n)&&(n.type==="submit"||n.type==="image")){let h=n.form;if(h==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let y=n.getAttribute("formaction")||h.getAttribute("action");if(a=y?En(y,t):null,o=n.getAttribute("formmethod")||h.getAttribute("method")||Ja,s=ku(n.getAttribute("formenctype"))||ku(h.getAttribute("enctype"))||Ya,c=new FormData(h,n),!hS()){let{name:m,type:v,value:T}=n;if(v==="image"){let E=m?`${m}.`:"";c.append(`${E}x`,"0"),c.append(`${E}y`,"0")}else m&&c.append(m,T)}}else{if(ls(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');o=Ja,a=null,s=Ya,d=n}return c&&s==="text/plain"&&(d=c,c=void 0),{action:a,method:o.toLowerCase(),encType:s,formData:c,body:d}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function cc(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function yS(n,t,o,a){let s=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return o?s.pathname.endsWith("/")?s.pathname=`${s.pathname}_.${a}`:s.pathname=`${s.pathname}.${a}`:s.pathname==="/"?s.pathname=`_root.${a}`:t&&En(s.pathname,t)==="/"?s.pathname=`${t.replace(/\/$/,"")}/_root.${a}`:s.pathname=`${s.pathname.replace(/\/$/,"")}.${a}`,s}async function vS(n,t){if(n.id in t)return t[n.id];try{let o=await import(n.module);return t[n.id]=o,o}catch(o){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(o),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function TS(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function SS(n,t,o){let a=await Promise.all(n.map(async s=>{let c=t.routes[s.route.id];if(c){let d=await vS(c,o);return d.links?d.links():[]}return[]}));return AS(a.flat(1).filter(TS).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Vh(n,t,o,a,s,c){let d=(y,m)=>o[m]?y.route.id!==o[m].route.id:!0,h=(y,m)=>{var v;return o[m].pathname!==y.pathname||((v=o[m].route.path)==null?void 0:v.endsWith("*"))&&o[m].params["*"]!==y.params["*"]};return c==="assets"?t.filter((y,m)=>d(y,m)||h(y,m)):c==="data"?t.filter((y,m)=>{var T;let v=a.routes[y.route.id];if(!v||!v.hasLoader)return!1;if(d(y,m)||h(y,m))return!0;if(y.route.shouldRevalidate){let E=y.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((T=o[0])==null?void 0:T.params)||{},nextUrl:new URL(n,window.origin),nextParams:y.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function ES(n,t,{includeHydrateFallback:o}={}){return _S(n.map(a=>{let s=t.routes[a.route.id];if(!s)return[];let c=[s.module];return s.clientActionModule&&(c=c.concat(s.clientActionModule)),s.clientLoaderModule&&(c=c.concat(s.clientLoaderModule)),o&&s.hydrateFallbackModule&&(c=c.concat(s.hydrateFallbackModule)),s.imports&&(c=c.concat(s.imports)),c}).flat(1))}function _S(n){return[...new Set(n)]}function CS(n){let t={},o=Object.keys(n).sort();for(let a of o)t[a]=n[a];return t}function AS(n,t){let o=new Set;return new Set(t),n.reduce((a,s)=>{let c=JSON.stringify(CS(s));return o.has(c)||(o.add(c),a.push({key:c,link:s})),a},[])}function Lg(){let n=P.useContext(po);return cc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function xS(){let n=P.useContext(is);return cc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var fc=P.createContext(void 0);fc.displayName="FrameworkContext";function Gg(){let n=P.useContext(fc);return cc(n,"You must render this element inside a <HydratedRouter> element"),n}function RS(n,t){let o=P.useContext(fc),[a,s]=P.useState(!1),[c,d]=P.useState(!1),{onFocus:h,onBlur:y,onMouseEnter:m,onMouseLeave:v,onTouchStart:T}=t,E=P.useRef(null);P.useEffect(()=>{if(n==="render"&&d(!0),n==="viewport"){let N=G=>{G.forEach(I=>{d(I.isIntersecting)})},b=new IntersectionObserver(N,{threshold:.5});return E.current&&b.observe(E.current),()=>{b.disconnect()}}},[n]),P.useEffect(()=>{if(a){let N=setTimeout(()=>{d(!0)},100);return()=>{clearTimeout(N)}}},[a]);let C=()=>{s(!0)},R=()=>{s(!1),d(!1)};return o?n!=="intent"?[c,E,{}]:[c,E,{onFocus:dl(h,C),onBlur:dl(y,R),onMouseEnter:dl(m,C),onMouseLeave:dl(v,R),onTouchStart:dl(T,C)}]:[!1,E,{}]}function dl(n,t){return o=>{n&&n(o),o.defaultPrevented||t(o)}}function NS({page:n,...t}){let{router:o}=Lg(),a=P.useMemo(()=>Sg(o.routes,n,o.basename),[o.routes,n,o.basename]);return a?P.createElement(MS,{page:n,matches:a,...t}):null}function bS(n){let{manifest:t,routeModules:o}=Gg(),[a,s]=P.useState([]);return P.useEffect(()=>{let c=!1;return SS(n,t,o).then(d=>{c||s(d)}),()=>{c=!0}},[n,t,o]),a}function MS({page:n,matches:t,...o}){let a=Ti(),{future:s,manifest:c,routeModules:d}=Gg(),{basename:h}=Lg(),{loaderData:y,matches:m}=xS(),v=P.useMemo(()=>Vh(n,t,m,c,a,"data"),[n,t,m,c,a]),T=P.useMemo(()=>Vh(n,t,m,c,a,"assets"),[n,t,m,c,a]),E=P.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let N=new Set,b=!1;if(t.forEach(I=>{var J;let D=c.routes[I.route.id];!D||!D.hasLoader||(!v.some(V=>V.route.id===I.route.id)&&I.route.id in y&&((J=d[I.route.id])!=null&&J.shouldRevalidate)||D.hasClientLoader?b=!0:N.add(I.route.id))}),N.size===0)return[];let G=yS(n,h,s.unstable_trailingSlashAwareDataRequests,"data");return b&&N.size>0&&G.searchParams.set("_routes",t.filter(I=>N.has(I.route.id)).map(I=>I.route.id).join(",")),[G.pathname+G.search]},[h,s.unstable_trailingSlashAwareDataRequests,y,a,c,v,t,n,d]),C=P.useMemo(()=>ES(T,c),[T,c]),R=bS(T);return P.createElement(P.Fragment,null,E.map(N=>P.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...o})),C.map(N=>P.createElement("link",{key:N,rel:"modulepreload",href:N,...o})),R.map(({key:N,link:b})=>P.createElement("link",{key:N,nonce:o.nonce,...b,crossOrigin:b.crossOrigin??o.crossOrigin})))}function wS(...n){return t=>{n.forEach(o=>{typeof o=="function"?o(t):o!=null&&(o.current=t)})}}var IS=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{IS&&(window.__reactRouterVersion="7.13.0")}catch{}function DS({basename:n,children:t,unstable_useTransitions:o,window:a}){let s=P.useRef();s.current==null&&(s.current=dT({window:a,v5Compat:!0}));let c=s.current,[d,h]=P.useState({action:c.action,location:c.location}),y=P.useCallback(m=>{o===!1?h(m):P.startTransition(()=>h(m))},[o]);return P.useLayoutEffect(()=>c.listen(y),[c,y]),P.createElement(rS,{basename:n,children:t,location:d.location,navigationType:d.action,navigator:c,unstable_useTransitions:o})}var Hg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Pg=P.forwardRef(function({onClick:t,discover:o="render",prefetch:a="none",relative:s,reloadDocument:c,replace:d,state:h,target:y,to:m,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:E,...C},R){let{basename:N,unstable_useTransitions:b}=P.useContext(Bt),G=typeof m=="string"&&Hg.test(m),I=Rg(m,N);m=I.to;let D=YT(m,{relative:s}),[J,V,Z]=RS(a,C),K=HS(m,{replace:d,state:h,target:y,preventScrollReset:v,relative:s,viewTransition:T,unstable_defaultShouldRevalidate:E,unstable_useTransitions:b});function te(ae){t&&t(ae),ae.defaultPrevented||K(ae)}let Q=P.createElement("a",{...C,...Z,href:I.absoluteURL||D,onClick:I.isExternal||c?t:te,ref:wS(R,V),target:y,"data-discover":!G&&o==="render"?"true":void 0});return J&&!G?P.createElement(P.Fragment,null,Q,P.createElement(NS,{page:D})):Q});Pg.displayName="Link";var US=P.forwardRef(function({"aria-current":t="page",caseSensitive:o=!1,className:a="",end:s=!1,style:c,to:d,viewTransition:h,children:y,...m},v){let T=Sl(d,{relative:m.relative}),E=Ti(),C=P.useContext(is),{navigator:R,basename:N}=P.useContext(Bt),b=C!=null&&OS(T)&&h===!0,G=R.encodeLocation?R.encodeLocation(T).pathname:T.pathname,I=E.pathname,D=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;o||(I=I.toLowerCase(),D=D?D.toLowerCase():null,G=G.toLowerCase()),D&&N&&(D=En(D,N)||D);const J=G!=="/"&&G.endsWith("/")?G.length-1:G.length;let V=I===G||!s&&I.startsWith(G)&&I.charAt(J)==="/",Z=D!=null&&(D===G||!s&&D.startsWith(G)&&D.charAt(G.length)==="/"),K={isActive:V,isPending:Z,isTransitioning:b},te=V?t:void 0,Q;typeof a=="function"?Q=a(K):Q=[a,V?"active":null,Z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let ae=typeof c=="function"?c(K):c;return P.createElement(Pg,{...m,"aria-current":te,className:Q,ref:v,style:ae,to:d,viewTransition:h},typeof y=="function"?y(K):y)});US.displayName="NavLink";var LS=P.forwardRef(({discover:n="render",fetcherKey:t,navigate:o,reloadDocument:a,replace:s,state:c,method:d=Ja,action:h,onSubmit:y,relative:m,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:E,...C},R)=>{let{unstable_useTransitions:N}=P.useContext(Bt),b=VS(),G=qS(h,{relative:m}),I=d.toLowerCase()==="get"?"get":"post",D=typeof h=="string"&&Hg.test(h),J=V=>{if(y&&y(V),V.defaultPrevented)return;V.preventDefault();let Z=V.nativeEvent.submitter,K=(Z==null?void 0:Z.getAttribute("formmethod"))||d,te=()=>b(Z||V.currentTarget,{fetcherKey:t,method:K,navigate:o,replace:s,state:c,relative:m,preventScrollReset:v,viewTransition:T,unstable_defaultShouldRevalidate:E});N&&o!==!1?P.startTransition(()=>te()):te()};return P.createElement("form",{ref:R,method:I,action:G,onSubmit:a?y:J,...C,"data-discover":!D&&n==="render"?"true":void 0})});LS.displayName="Form";function GS(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function kg(n){let t=P.useContext(po);return Ze(t,GS(n)),t}function HS(n,{target:t,replace:o,state:a,preventScrollReset:s,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h,unstable_useTransitions:y}={}){let m=KT(),v=Ti(),T=Sl(n,{relative:c});return P.useCallback(E=>{if(pS(E,t)){E.preventDefault();let C=o!==void 0?o:yl(v)===yl(T),R=()=>m(n,{replace:C,state:a,preventScrollReset:s,relative:c,viewTransition:d,unstable_defaultShouldRevalidate:h});y?P.startTransition(()=>R()):R()}},[v,m,T,o,a,t,n,s,c,d,h,y])}var PS=0,kS=()=>`__${String(++PS)}__`;function VS(){let{router:n}=kg("useSubmit"),{basename:t}=P.useContext(Bt),o=oS(),a=n.fetch,s=n.navigate;return P.useCallback(async(c,d={})=>{let{action:h,method:y,encType:m,formData:v,body:T}=gS(c,t);if(d.navigate===!1){let E=d.fetcherKey||kS();await a(E,o,d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:T,formMethod:d.method||y,formEncType:d.encType||m,flushSync:d.flushSync})}else await s(d.action||h,{unstable_defaultShouldRevalidate:d.unstable_defaultShouldRevalidate,preventScrollReset:d.preventScrollReset,formData:v,body:T,formMethod:d.method||y,formEncType:d.encType||m,replace:d.replace,state:d.state,fromRouteId:o,flushSync:d.flushSync,viewTransition:d.viewTransition})},[a,s,t,o])}function qS(n,{relative:t}={}){let{basename:o}=P.useContext(Bt),a=P.useContext(Cn);Ze(a,"useFormAction must be used inside a RouteContext");let[s]=a.matches.slice(-1),c={...Sl(n||".",{relative:t})},d=Ti();if(n==null){c.search=d.search;let h=new URLSearchParams(c.search),y=h.getAll("index");if(y.some(v=>v==="")){h.delete("index"),y.filter(T=>T).forEach(T=>h.append("index",T));let v=h.toString();c.search=v?`?${v}`:""}}return(!n||n===".")&&s.route.index&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),o!=="/"&&(c.pathname=c.pathname==="/"?o:Sn([o,c.pathname])),yl(c)}function OS(n,{relative:t}={}){let o=P.useContext(bg);Ze(o!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:a}=kg("useViewTransitionState"),s=Sl(n,{relative:t});if(!o.isTransitioning)return!1;let c=En(o.currentLocation.pathname,a)||o.currentLocation.pathname,d=En(o.nextLocation.pathname,a)||o.nextLocation.pathname;return Qa(s.pathname,d)!=null||Qa(s.pathname,c)!=null}var Oe=(n=>(n.STUDENT="STUDENT",n.PARENT="PARENT",n.INDEPENDENT="INDEPENDENT",n))(Oe||{}),Qe=(n=>(n.BRONZE="BRONZE",n.SILVER="SILVER",n.GOLD="GOLD",n.DIAMOND="DIAMOND",n))(Qe||{});const ro={[Qe.BRONZE]:0,[Qe.SILVER]:500,[Qe.GOLD]:1500,[Qe.DIAMOND]:3500},Vg=n=>n>=ro[Qe.DIAMOND]?{rank:Qe.DIAMOND,label:"",color:"text-cyan-500",bg:"bg-cyan-50"}:n>=ro[Qe.GOLD]?{rank:Qe.GOLD,label:"",color:"text-yellow-500",bg:"bg-yellow-50"}:n>=ro[Qe.SILVER]?{rank:Qe.SILVER,label:"",color:"text-gray-400",bg:"bg-gray-50"}:{rank:Qe.BRONZE,label:"",color:"text-orange-600",bg:"bg-orange-50"},gl={Plus:()=>A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 4v16m8-8H4"})}),Delete:()=>A.jsx("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-4v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),Trophy:()=>A.jsx("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:A.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4M7.835 4.697a3.42 3.42 0 001.946-.806 3.42 3.42 0 014.438 0 3.42 3.42 0 001.946.806 3.42 3.42 0 013.138 3.138 3.42 3.42 0 00.806 1.946 3.42 3.42 0 010 4.438 3.42 3.42 0 00-.806 1.946 3.42 3.42 0 01-3.138 3.138 3.42 3.42 0 00-1.946.806 3.42 3.42 0 01-4.438 0 3.42 3.42 0 00-1.946-.806 3.42 3.42 0 01-3.138-3.138 3.42 3.42 0 00-.806-1.946 3.42 3.42 0 010-4.438 3.42 3.42 0 00.806-1.946 3.42 3.42 0 013.138-3.138z"})})},BS=({user:n,currentUserRole:t,tasksCount:o,rewardsCount:a,onNavigate:s})=>{const c=Vg(n.points),d=t===Oe.PARENT,h=()=>{const y=Object.values(Qe),m=y.indexOf(n.rank);if(m===y.length-1)return 100;const v=y[m+1],T=ro[n.rank],E=ro[v],C=(n.points-T)/(E-T)*100;return Math.min(Math.max(C,0),100)};return A.jsxs("div",{className:"space-y-6 animate-fadeIn",children:[A.jsxs("div",{className:"bg-white rounded-3xl p-6 shadow-xl border border-white/50 backdrop-blur-sm",children:[A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsx("span",{className:"text-sm font-bold text-gray-500",children:d?`  ${n.name}`:"   "}),A.jsx("span",{className:`text-xs font-black uppercase tracking-wider px-2 py-1 rounded bg-gray-100 ${c.color}`,children:c.label})]}),A.jsx("div",{className:"h-4 w-full bg-gray-100 rounded-full overflow-hidden mb-2",children:A.jsx("div",{className:`h-full transition-all duration-1000 ease-out rounded-full ${c.rank===Qe.BRONZE?"bg-orange-600":c.rank===Qe.SILVER?"bg-gray-400":c.rank===Qe.GOLD?"bg-yellow-500":"bg-cyan-500"}`,style:{width:`${h()}%`}})}),A.jsxs("div",{className:"flex justify-between text-[10px] text-gray-400 font-bold",children:[A.jsxs("span",{children:[n.points," "]}),A.jsx("span",{children:n.rank===Qe.DIAMOND?" !":`${ro[Object.values(Qe)[Object.values(Qe).indexOf(n.rank)+1]]}   `})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("button",{onClick:()=>s("tasks"),className:"bg-white p-5 rounded-3xl shadow-lg border border-transparent hover:border-blue-200 transition-all flex flex-col items-center group",children:[A.jsx("div",{className:"w-12 h-12 bg-blue-50 rounded-2xl flex items-center justify-center text-blue-500 mb-2 group-hover:scale-110 transition-transform",children:""}),A.jsx("span",{className:"font-bold text-gray-700",children:d?" ":""})]}),A.jsxs("button",{onClick:()=>s("rewards"),className:"bg-white p-5 rounded-3xl shadow-lg border border-transparent hover:border-green-200 transition-all flex flex-col items-center group",children:[A.jsx("div",{className:"w-12 h-12 bg-green-50 rounded-2xl flex items-center justify-center text-green-500 mb-2 group-hover:scale-110 transition-transform",children:""}),A.jsx("span",{className:"font-bold text-gray-700",children:d?" ":""})]}),d?null:A.jsxs("button",{onClick:()=>s("tools"),className:"bg-white p-5 rounded-3xl shadow-lg border border-transparent hover:border-purple-200 transition-all flex flex-col items-center group",children:[A.jsx("div",{className:"w-12 h-12 bg-purple-50 rounded-2xl flex items-center justify-center text-purple-500 mb-2 group-hover:scale-110 transition-transform",children:""}),A.jsx("span",{className:"font-bold text-gray-700",children:""})]}),A.jsxs("button",{onClick:()=>s("tools"),className:`bg-white p-5 rounded-3xl shadow-lg border border-transparent hover:border-orange-200 transition-all flex flex-col items-center group ${d?"col-span-2":""}`,children:[A.jsx("div",{className:"w-12 h-12 bg-orange-50 rounded-2xl flex items-center justify-center text-orange-500 mb-2 group-hover:scale-110 transition-transform",children:""}),A.jsx("span",{className:"font-bold text-gray-700",children:d?"  ":" "})]})]}),A.jsxs("div",{className:"bg-gradient-to-br from-blue-600 to-indigo-700 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[A.jsxs("div",{className:"relative z-10 text-right",children:[A.jsx("h3",{className:"text-xl font-black mb-2",children:"  "}),A.jsx("p",{className:"text-sm text-blue-100 opacity-90 leading-relaxed italic font-bold",children:d?"       .    !":"       .      !"})]}),A.jsx("div",{className:"absolute -right-10 -bottom-10 w-40 h-40 bg-white/10 rounded-full blur-3xl"})]})]})},zS="https://rhytybqqyswrybrhffob.supabase.co",qh="sb_publishable_IgXoSNU7XWatrCGr26M9jA_GIQpF_ri",en=async(n,t={})=>{try{const o=await fetch(`${zS}/rest/v1/${n}`,{...t,headers:{apikey:qh,Authorization:`Bearer ${qh}`,"Content-Type":"application/json",...t.headers}});if(!o.ok)throw new Error(`HTTP ${o.status}: ${o.statusText}`);return o.status===204?null:o.json()}catch(o){throw console.error("  :",o),o}},FS=()=>{const n="ABCDEFGHJKLMNPQRSTUVWXYZ23456789";let t="";for(let o=0;o<6;o++)t+=n[Math.floor(Math.random()*n.length)];return t},Le={saveUser:async n=>{try{const t={id:n.id,name:n.name,phone:n.phone,password:n.password,role:n.role,points:n.points||0,rank:n.rank||"bronze",theme:n.theme||"system",link_code:n.linkCode||FS(),linked_student_id:n.linkedStudentId||null};await en("users",{method:"POST",headers:{Prefer:"resolution=merge-duplicates","Content-Type":"application/json"},body:JSON.stringify(t)}),localStorage.setItem(`user_${n.id}`,JSON.stringify(n)),console.log("   ")}catch(t){console.error("     :",t),localStorage.setItem(`user_${n.id}`,JSON.stringify(n))}},getUser:async n=>{try{const o=await en(`users?id=eq.${n}`);if(o&&o[0]){const a=o[0];return localStorage.setItem(`user_${n}`,JSON.stringify(a)),a}}catch(o){console.log("    :",o)}const t=localStorage.getItem(`user_${n}`);return t?JSON.parse(t):null},findUserByPhone:async n=>{try{const t=await en(`users?phone=eq.${n}`);return t&&t[0]?t[0]:null}catch(t){return console.error("   :",t),null}},findUserByLinkCode:async n=>{try{const t=await en(`users?link_code=eq.${n.toUpperCase()}`);return t&&t[0]?t[0]:null}catch(t){return console.error("    :",t),null}},saveTask:async n=>{try{console.log("   ..."),console.log("- :",n.studentId),console.log("- :",n.title);const t={id:n.id,title:n.title,points:n.points,category:n.category,completed:n.completed||!1,student_id:n.studentId};console.log("   Supabase..."),await en("tasks",{method:"POST",headers:{Prefer:"return=representation","Content-Type":"application/json"},body:JSON.stringify(t)}),console.log("     ");const o=`tasks_local_${n.studentId}`,a=JSON.parse(localStorage.getItem(o)||"[]");return a.push(n),localStorage.setItem(o,JSON.stringify(a)),!0}catch(t){console.error("   :",t.message);const o=`tasks_local_${n.studentId}`,a=JSON.parse(localStorage.getItem(o)||"[]");return a.push(n),localStorage.setItem(o,JSON.stringify(a)),alert(`    "${n.title}"  .   .`),!1}},getTasks:async n=>{try{if(!n)return console.warn("   studentId"),[];console.log("   :",n);const t=await en(`tasks?student_id=eq.${n}&order=created_at.desc`);if(console.log("    :",(t==null?void 0:t.length)||0),t&&t.length>0)return localStorage.setItem(`tasks_cache_${n}`,JSON.stringify(t)),t.map(o=>({id:o.id,title:o.title,points:o.points,category:o.category,completed:o.completed,studentId:o.student_id}));throw new Error("    ")}catch(t){console.error("     :",t.message);const o=`tasks_cache_${n}`,a=`tasks_local_${n}`,s=localStorage.getItem(o);if(s)return console.log("   cache:",JSON.parse(s).length),JSON.parse(s);const c=localStorage.getItem(a);return c?(console.log("   :",JSON.parse(c).length),JSON.parse(c)):[]}},updateTask:async(n,t)=>{try{await en(`tasks?id=eq.${n}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),console.log("   ")}catch(o){throw console.error("   :",o.message),o}},deleteTask:async n=>{try{await en(`tasks?id=eq.${n}`,{method:"DELETE"}),console.log("   ")}catch(t){throw console.error("   :",t.message),t}},saveReward:async n=>{try{const t={id:n.id,title:n.title,cost:n.cost,is_redeemed:n.isRedeemed||!1,student_id:n.studentId};await en("rewards",{method:"POST",headers:{Prefer:"resolution=merge-duplicates","Content-Type":"application/json"},body:JSON.stringify(t)}),console.log("   ")}catch(t){throw console.error("   :",t),t}},getRewards:async n=>{try{return(await en(`rewards?student_id=eq.${n}&order=created_at.desc`)||[]).map(o=>({id:o.id,title:o.title,cost:o.cost,isRedeemed:o.is_redeemed,studentId:o.student_id}))}catch(t){return console.error("   :",t),[]}}},JS=({onLogin:n})=>{const[t,o]=P.useState("welcome"),[a,s]=P.useState(!1),[c,d]=P.useState({name:"",phone:"",password:""}),[h,y]=P.useState(""),m=async()=>{if(y(""),t==="welcome"){o("auth");return}if(t==="auth"){if(!c.phone||!c.password){y("    ");return}if(a){const T=await Le.findUserByPhone(c.phone);T?c.password===T.password?n(T):y("      "):y("          ")}else{if(!c.name){y("  ");return}if(c.password.length<4){y("   ");return}if(await Le.findUserByPhone(c.phone)){y("      ");return}o("role")}}},v=async T=>{const E=Math.random().toString(36).substr(2,6).toUpperCase(),C={id:Math.random().toString(36).substr(2,9),name:c.name,phone:c.phone,password:c.password,role:T,points:0,rank:Qe.BRONZE,linkCode:E,linkedStudentId:void 0};await n(C)};return A.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-600 to-indigo-800 flex flex-col items-center justify-center p-6 text-white text-center",children:A.jsxs("div",{className:"max-w-sm w-full space-y-8 animate-fadeIn",children:[t==="welcome"&&A.jsxs("div",{className:"space-y-6",children:[A.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-md rounded-[2rem] mx-auto flex items-center justify-center shadow-2xl border border-white/10 overflow-hidden",children:A.jsx("img",{src:"https://github.com/abdelrahmanabdelzaher17-stack/Ir_Student/blob/main/logo.png",alt:" ",className:"w-full h-full object-contain p-2"})}),A.jsxs("div",{children:[A.jsx("h1",{className:"text-4xl font-black tracking-tight mb-2 text-white drop-shadow-lg",children:" "}),A.jsx("p",{className:"text-blue-100 text-lg opacity-80 font-bold",children:"     "})]}),A.jsxs("div",{className:"space-y-3 pt-4",children:[A.jsx("button",{onClick:()=>{s(!1),o("auth")},className:"w-full bg-white text-blue-700 py-4 rounded-2xl font-black text-xl shadow-xl hover:bg-blue-50 transition-all active:scale-95",children:"  "}),A.jsx("button",{onClick:()=>{s(!0),o("auth")},className:"w-full bg-blue-500/20 text-white border-2 border-white/20 py-4 rounded-2xl font-black text-xl hover:bg-white/10 transition-all active:scale-95",children:" "})]})]}),t==="auth"&&A.jsxs("div",{className:"space-y-4 text-right animate-slideDown",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("h2",{className:"text-3xl font-black",children:a?" ":" "}),A.jsx("p",{className:"text-blue-200 text-xs mt-1 font-bold",children:a?"  ":"    "})]}),A.jsxs("div",{className:"space-y-4",children:[!a&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold mb-1 mr-2 opacity-70",children:" "}),A.jsx("input",{type:"text",className:"w-full p-4 rounded-2xl bg-white/10 border border-white/20 focus:outline-none focus:bg-white/20 transition-all text-white placeholder-blue-300/50",placeholder:" ",value:c.name,onChange:T=>d({...c,name:T.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold mb-1 mr-2 opacity-70",children:" "}),A.jsx("input",{type:"tel",className:"w-full p-4 rounded-2xl bg-white/10 border border-white/20 focus:outline-none focus:bg-white/20 transition-all text-white placeholder-blue-300/50",placeholder:"01xxxxxxxxx",value:c.phone,onChange:T=>d({...c,phone:T.target.value})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-xs font-bold mb-1 mr-2 opacity-70",children:" "}),A.jsx("input",{type:"password",className:"w-full p-4 rounded-2xl bg-white/10 border border-white/20 focus:outline-none focus:bg-white/20 transition-all text-white placeholder-blue-300/50",placeholder:"",value:c.password,onChange:T=>d({...c,password:T.target.value})})]})]}),!a&&A.jsx("div",{className:"bg-red-500/20 border border-red-500/30 p-3 rounded-xl mt-4",children:A.jsx("p",{className:"text-[10px] text-red-200 font-bold leading-relaxed text-center",children:"  :     .            ."})}),h&&A.jsx("p",{className:"text-red-300 text-xs text-center font-black animate-pulse bg-red-500/10 py-2 rounded-lg",children:h}),A.jsx("button",{onClick:m,className:"w-full bg-white text-blue-700 py-4 rounded-2xl font-black text-xl mt-4 shadow-xl active:scale-95 transition-all",children:a?" ":""}),A.jsx("button",{onClick:()=>{s(!a),y("")},className:"w-full text-blue-200 text-sm font-bold mt-2 hover:text-white transition-colors",children:a?"    ":"    "}),A.jsx("button",{onClick:()=>o("welcome"),className:"w-full text-white/50 text-xs font-bold mt-4 hover:text-white",children:" "})]}),t==="role"&&A.jsxs("div",{className:"space-y-4 animate-slideDown",children:[A.jsxs("div",{className:"text-center mb-6",children:[A.jsx("h2",{className:"text-3xl font-black",children:"  "}),A.jsx("p",{className:"text-blue-200 text-xs mt-1 font-bold",children:"     "})]}),A.jsx(Vu,{title:"",desc:"      ",icon:"",onClick:()=>v(Oe.STUDENT)}),A.jsx(Vu,{title:" ",desc:"      ",icon:"",onClick:()=>v(Oe.PARENT)}),A.jsx(Vu,{title:"",desc:"     ",icon:"",onClick:()=>v(Oe.INDEPENDENT)}),A.jsx("button",{onClick:()=>o("auth"),className:"w-full text-white/50 text-xs font-bold mt-4 hover:text-white",children:"  "})]})]})})},Vu=({title:n,desc:t,icon:o,onClick:a})=>A.jsxs("button",{onClick:a,className:"w-full bg-white/10 border border-white/20 p-5 rounded-3xl text-right flex gap-4 items-center hover:bg-white/20 transition-all group active:scale-95",children:[A.jsx("div",{className:"w-14 h-14 bg-white/20 rounded-2xl flex items-center justify-center text-3xl group-hover:scale-110 transition-transform",children:o}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h3",{className:"font-black text-lg",children:n}),A.jsx("p",{className:"text-[10px] text-blue-100 opacity-60 leading-tight",children:t})]})]}),YS=({role:n,studentId:t,onComplete:o})=>{const[a,s]=P.useState([]),[c,d]=P.useState(!0),[h,y]=P.useState(!1),[m,v]=P.useState({title:"",points:10,category:"study"}),[T,E]=P.useState(null);P.useEffect(()=>{(async()=>{if(!t){console.warn("   studentId   "),d(!1);return}console.log("    studentId:",t),d(!0);try{const D=await Le.getTasks(t);console.log("   :",(D==null?void 0:D.length)||0),s(D||[])}catch(D){console.error("   :",D.message),E({text:"  ",type:"error"})}finally{d(!1)}})()},[t]);const C=(I,D)=>{E({text:I,type:D}),setTimeout(()=>E(null),3e3)},R=async()=>{if(!m.title.trim()){C("   ","error");return}if(!t){C("    !","error");return}console.log("     studentId:",t),d(!0);const I={id:Date.now().toString(36)+Math.random().toString(36).substr(2,4),title:m.title,points:m.points,category:m.category,completed:!1,studentId:t};try{await Le.saveTask(I),console.log("     :",I.title),s(D=>[I,...D]),C(`    "${I.title}" `,"success"),v({title:"",points:10,category:"study"}),y(!1)}catch(D){console.error("   :",D.message),C("  .    .","error")}finally{d(!1)}},N=async I=>{if(n===Oe.PARENT){C("        .","error");return}const D=a.find(J=>J.id===I);if(D&&!D.completed)try{await Le.updateTask(I,{completed:!0}),o(D.points),s(J=>J.map(V=>V.id===I?{...V,completed:!0}:V)),C(` !  ${D.points} `,"success")}catch(J){console.error("   :",J.message),C("  ","error")}},b=async(I,D)=>{I.preventDefault(),I.stopPropagation();const J=a.find(Z=>Z.id===D);if(!(!J||!window.confirm(`    "${J.title}"    `)))try{console.log("  :",D),await Le.deleteTask(D),s(Z=>Z.filter(K=>K.id!==D)),console.log("    "),C(`   "${J.title}"`,"success")}catch(Z){console.error("    :",Z.message),C("    ","error")}},G=n===Oe.PARENT||n===Oe.INDEPENDENT;return A.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[T&&A.jsx("div",{className:`p-3 rounded-2xl text-sm font-bold animate-slideDown ${T.type==="success"?"bg-green-50 text-green-700 border border-green-200":"bg-red-50 text-red-700 border border-red-200"}`,children:T.text}),A.jsxs("div",{className:"flex justify-between items-center mb-4",children:[A.jsxs("div",{children:[A.jsx("h2",{className:"text-xl font-black text-gray-800",children:" "}),n===Oe.PARENT&&A.jsxs("p",{className:"text-[9px] text-blue-500 font-bold italic",children:["       (ID: ",t||" ",")"]})]}),G&&A.jsx("button",{onClick:()=>y(!h),disabled:c,className:`p-2 rounded-full shadow-lg transition-transform active:scale-90 ${c?"bg-gray-400":"bg-blue-600 text-white"}`,children:A.jsx(gl.Plus,{})})]}),h&&A.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-xl border animate-slideDown",children:[A.jsx("input",{type:"text",placeholder:" ...",className:"w-full p-3 border rounded-2xl mb-3 focus:outline-none focus:ring-2 focus:ring-blue-400 font-bold",value:m.title,onChange:I=>v({...m,title:I.target.value}),disabled:c}),A.jsxs("div",{className:"flex gap-2 mb-3 text-xs",children:[A.jsx("input",{type:"number",className:"w-20 p-2 border rounded-xl font-bold text-center",value:m.points,onChange:I=>v({...m,points:parseInt(I.target.value)||0}),disabled:c}),A.jsxs("select",{className:"flex-1 p-2 border rounded-xl font-bold",value:m.category,onChange:I=>v({...m,category:I.target.value}),disabled:c,children:[A.jsx("option",{value:"study",children:" "}),A.jsx("option",{value:"worship",children:" "}),A.jsx("option",{value:"habit",children:" "})]})]}),A.jsx("button",{onClick:R,disabled:c||!t,className:`w-full py-3 rounded-xl font-black shadow-lg flex items-center justify-center gap-2 ${c||!t?"bg-gray-400 text-gray-200":"bg-blue-600 text-white hover:bg-blue-700"}`,children:c?A.jsxs(A.Fragment,{children:[A.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"})," ..."]}):"   "})]}),c&&a.length===0?A.jsxs("div",{className:"flex flex-col items-center py-10 opacity-30",children:[A.jsx("div",{className:"w-10 h-10 border-4 border-blue-500 border-t-transparent rounded-full animate-spin"}),A.jsx("p",{className:"text-[10px] font-bold mt-2",children:"  ..."})]}):A.jsx("div",{className:"space-y-3",children:a.length===0?A.jsxs("div",{className:"text-center py-10 opacity-40 bg-white rounded-3xl border border-dashed",children:[A.jsx("p",{className:"font-bold text-gray-400",children:"   "}),G&&A.jsx("p",{className:"text-[10px] text-gray-300 mt-2",children:"   +   "})]}):a.map(I=>A.jsxs("div",{className:`bg-white p-4 rounded-3xl flex items-center gap-4 shadow-sm border transition-all group ${I.completed?"bg-gray-50 border-gray-100 opacity-70":"hover:border-blue-200 hover:shadow-md"}`,children:[A.jsxs("div",{onClick:()=>N(I.id),className:"flex flex-1 items-center gap-4 cursor-pointer",children:[A.jsx("div",{className:`w-8 h-8 rounded-full border-2 flex items-center justify-center transition-all ${I.completed?"bg-green-500 border-green-500 shadow-sm":"border-gray-200 group-hover:border-blue-400"}`,children:I.completed?A.jsx("span",{className:"text-white text-sm",children:""}):A.jsx("span",{className:"text-gray-300 group-hover:text-blue-300",children:""})}),A.jsxs("div",{className:"flex-1",children:[A.jsx("h4",{className:`font-bold text-sm ${I.completed?"line-through text-gray-400":"text-gray-700"}`,children:I.title}),A.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[A.jsx("span",{className:`text-[10px] font-black uppercase px-2 py-0.5 rounded-full ${I.category==="study"?"bg-blue-100 text-blue-600":I.category==="worship"?"bg-green-100 text-green-600":"bg-purple-100 text-purple-600"}`,children:I.category==="study"?"":I.category==="worship"?"":""}),A.jsxs("span",{className:"text-[10px] font-black text-yellow-600",children:[" ",I.points," "]})]})]})]}),G&&!I.completed&&A.jsx("button",{type:"button",onClick:D=>b(D,I.id),className:"p-2 text-red-300 hover:text-red-600 hover:bg-red-50 rounded-xl transition-colors",title:" ",disabled:c,children:A.jsx(gl.Delete,{})})]},I.id))})]})},KS=({role:n,points:t,studentId:o,onClaim:a})=>{const[s,c]=P.useState([]),[d,h]=P.useState(!0),[y,m]=P.useState(!1),[v,T]=P.useState({title:"",cost:100}),[E,C]=P.useState(1);P.useEffect(()=>{(async()=>{if(o){h(!0);const[J,V]=await Promise.all([Le.getRewards(o),Le.getCurrentDayInWeek(o)]);c(J),C(V),h(!1)}})()},[o]);const R=async()=>{if(!v.title)return;h(!0);const D={id:Math.random().toString(36).substr(2,9),title:v.title,cost:v.cost,isRedeemed:!1,studentId:o};await Le.saveReward(D),c([...s,D]),T({title:"",cost:100}),m(!1),h(!1)},N=async D=>{const J=s.find(V=>V.id===D);if(E<7&&n===Oe.STUDENT){alert("!       ");return}J&&t>=J.cost&&!J.isRedeemed&&confirm(` "${J.title}"`)&&(await a(J.cost,J.title),await Le.updateReward(D,{isRedeemed:!0}),c(s.map(V=>V.id===D?{...V,isRedeemed:!0}:V)))},b=async D=>{h(!0),await Le.deleteReward(D),c(s.filter(J=>J.id!==D)),h(!1)},G=n===Oe.PARENT||n===Oe.INDEPENDENT,I=E>=7;return A.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[A.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-sm border border-yellow-100",children:[A.jsxs("div",{className:"flex justify-between items-center mb-2",children:[A.jsxs("span",{className:"text-[10px] font-black text-gray-500 uppercase tracking-widest",children:[" ",E,"  7"]}),A.jsx("span",{className:`text-[8px] font-black px-2 py-1 rounded-full ${I?"bg-green-500 text-white":"bg-gray-100 text-gray-400"}`,children:I?"  ":"  "})]}),A.jsx("div",{className:"h-1.5 w-full bg-gray-100 rounded-full overflow-hidden",children:A.jsx("div",{className:`h-full transition-all duration-1000 ${I?"bg-green-500":"bg-yellow-400"}`,style:{width:`${E/7*100}%`}})})]}),A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h2",{className:"text-xl font-black text-gray-800",children:" "}),G&&A.jsx("button",{onClick:()=>m(!y),className:"p-2 bg-green-600 text-white rounded-full shadow-lg",children:A.jsx(gl.Plus,{})})]}),y&&A.jsxs("div",{className:"bg-white p-4 rounded-3xl shadow-xl border animate-slideDown",children:[A.jsx("input",{type:"text",placeholder:" ...",className:"w-full p-3 border rounded-2xl mb-3 font-bold",value:v.title,onChange:D=>T({...v,title:D.target.value})}),A.jsx("input",{type:"number",className:"w-full p-2 border rounded-xl font-bold mb-3",value:v.cost,onChange:D=>T({...v,cost:parseInt(D.target.value)||0})}),A.jsx("button",{onClick:R,className:"w-full py-3 bg-green-600 text-white rounded-xl font-black shadow-lg",children:"   "})]}),d?A.jsx("div",{className:"text-center py-10 opacity-20 font-bold text-xs",children:" ..."}):A.jsx("div",{className:"space-y-3",children:s.map(D=>A.jsxs("div",{className:`bg-white p-4 rounded-3xl border ${D.isRedeemed?"opacity-50":""}`,children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsx(gl.Trophy,{}),A.jsx("h4",{className:"font-bold text-sm",children:D.title})]}),G&&!D.isRedeemed&&A.jsx("button",{onClick:()=>b(D.id),className:"text-red-200",children:A.jsx(gl.Delete,{})})]}),A.jsxs("div",{className:"flex justify-between items-center mt-3",children:[A.jsxs("span",{className:"text-xs font-black text-yellow-600",children:[" ",D.cost]}),n===Oe.STUDENT&&!D.isRedeemed&&A.jsx("button",{disabled:t<D.cost||!I,onClick:()=>N(D.id),className:`px-6 py-1.5 rounded-xl font-black text-xs ${t>=D.cost&&I?"bg-yellow-400":"bg-gray-100 text-gray-400"}`,children:I?"":" "}),D.isRedeemed&&A.jsx("span",{className:"text-[10px] font-black text-green-500",children:"  "})]})]},D.id))})]})};var XS={};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let QS,$S;function ZS(){return{geminiUrl:QS,vertexUrl:$S}}function WS(n,t,o,a){var s,c;if(!(n!=null&&n.baseUrl)){const d=ZS();return t?(s=d.vertexUrl)!==null&&s!==void 0?s:o:(c=d.geminiUrl)!==null&&c!==void 0?c:a}return n.baseUrl}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class An{}function $(n,t){const o=/\{([^}]+)\}/g;return n.replace(o,(a,s)=>{if(Object.prototype.hasOwnProperty.call(t,s)){const c=t[s];return c!=null?String(c):""}else throw new Error(`Key '${s}' not found in valueMap.`)})}function f(n,t,o){for(let c=0;c<t.length-1;c++){const d=t[c];if(d.endsWith("[]")){const h=d.slice(0,-2);if(!(h in n))if(Array.isArray(o))n[h]=Array.from({length:o.length},()=>({}));else throw new Error(`Value must be a list given an array path ${d}`);if(Array.isArray(n[h])){const y=n[h];if(Array.isArray(o))for(let m=0;m<y.length;m++){const v=y[m];f(v,t.slice(c+1),o[m])}else for(const m of y)f(m,t.slice(c+1),o)}return}else if(d.endsWith("[0]")){const h=d.slice(0,-3);h in n||(n[h]=[{}]);const y=n[h];f(y[0],t.slice(c+1),o);return}(!n[d]||typeof n[d]!="object")&&(n[d]={}),n=n[d]}const a=t[t.length-1],s=n[a];if(s!==void 0){if(!o||typeof o=="object"&&Object.keys(o).length===0||o===s)return;if(typeof s=="object"&&typeof o=="object"&&s!==null&&o!==null)Object.assign(s,o);else throw new Error(`Cannot set value for an existing key. Key: ${a}`)}else a==="_self"&&typeof o=="object"&&o!==null&&!Array.isArray(o)?Object.assign(n,o):n[a]=o}function u(n,t,o=void 0){try{if(t.length===1&&t[0]==="_self")return n;for(let a=0;a<t.length;a++){if(typeof n!="object"||n===null)return o;const s=t[a];if(s.endsWith("[]")){const c=s.slice(0,-2);if(c in n){const d=n[c];return Array.isArray(d)?d.map(h=>u(h,t.slice(a+1),o)):o}else return o}else n=n[s]}return n}catch(a){if(a instanceof TypeError)return o;throw a}}function jS(n,t){for(const[o,a]of Object.entries(t)){const s=o.split("."),c=a.split("."),d=new Set;let h=-1;for(let y=0;y<s.length;y++)if(s[y]==="*"){h=y;break}if(h!==-1&&c.length>h)for(let y=h;y<c.length;y++){const m=c[y];m!=="*"&&!m.endsWith("[]")&&!m.endsWith("[0]")&&d.add(m)}Ju(n,s,c,0,d)}}function Ju(n,t,o,a,s){if(a>=t.length||typeof n!="object"||n===null)return;const c=t[a];if(c.endsWith("[]")){const d=c.slice(0,-2),h=n;if(d in h&&Array.isArray(h[d]))for(const y of h[d])Ju(y,t,o,a+1,s)}else if(c==="*"){if(typeof n=="object"&&n!==null&&!Array.isArray(n)){const d=n,h=Object.keys(d).filter(m=>!m.startsWith("_")&&!s.has(m)),y={};for(const m of h)y[m]=d[m];for(const[m,v]of Object.entries(y)){const T=[];for(const E of o.slice(a))E==="*"?T.push(m):T.push(E);f(d,T,v)}for(const m of h)delete d[m]}}else{const d=n;c in d&&Ju(d[c],t,o,a+1,s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function dc(n){if(typeof n!="string")throw new Error("fromImageBytes must be a string");return n}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function eE(n){const t={},o=u(n,["operationName"]);o!=null&&f(t,["operationName"],o);const a=u(n,["resourceName"]);return a!=null&&f(t,["_url","resourceName"],a),t}function tE(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=u(n,["done"]);s!=null&&f(t,["done"],s);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const d=u(n,["response","generateVideoResponse"]);return d!=null&&f(t,["response"],iE(d)),t}function nE(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=u(n,["done"]);s!=null&&f(t,["done"],s);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const d=u(n,["response"]);return d!=null&&f(t,["response"],oE(d)),t}function iE(n){const t={},o=u(n,["generatedSamples"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>lE(d))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&f(t,["raiMediaFilteredReasons"],s),t}function oE(n){const t={},o=u(n,["videos"]);if(o!=null){let c=o;Array.isArray(c)&&(c=c.map(d=>aE(d))),f(t,["generatedVideos"],c)}const a=u(n,["raiMediaFilteredCount"]);a!=null&&f(t,["raiMediaFilteredCount"],a);const s=u(n,["raiMediaFilteredReasons"]);return s!=null&&f(t,["raiMediaFilteredReasons"],s),t}function lE(n){const t={},o=u(n,["video"]);return o!=null&&f(t,["video"],dE(o)),t}function aE(n){const t={},o=u(n,["_self"]);return o!=null&&f(t,["video"],pE(o)),t}function sE(n){const t={},o=u(n,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function rE(n){const t={},o=u(n,["operationName"]);return o!=null&&f(t,["_url","operationName"],o),t}function uE(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=u(n,["done"]);s!=null&&f(t,["done"],s);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const d=u(n,["response"]);return d!=null&&f(t,["response"],cE(d)),t}function cE(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const s=u(n,["documentName"]);return s!=null&&f(t,["documentName"],s),t}function qg(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=u(n,["done"]);s!=null&&f(t,["done"],s);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const d=u(n,["response"]);return d!=null&&f(t,["response"],fE(d)),t}function fE(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const s=u(n,["documentName"]);return s!=null&&f(t,["documentName"],s),t}function dE(n){const t={},o=u(n,["uri"]);o!=null&&f(t,["uri"],o);const a=u(n,["encodedVideo"]);a!=null&&f(t,["videoBytes"],dc(a));const s=u(n,["encoding"]);return s!=null&&f(t,["mimeType"],s),t}function pE(n){const t={},o=u(n,["gcsUri"]);o!=null&&f(t,["uri"],o);const a=u(n,["bytesBase64Encoded"]);a!=null&&f(t,["videoBytes"],dc(a));const s=u(n,["mimeType"]);return s!=null&&f(t,["mimeType"],s),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var Oh;(function(n){n.OUTCOME_UNSPECIFIED="OUTCOME_UNSPECIFIED",n.OUTCOME_OK="OUTCOME_OK",n.OUTCOME_FAILED="OUTCOME_FAILED",n.OUTCOME_DEADLINE_EXCEEDED="OUTCOME_DEADLINE_EXCEEDED"})(Oh||(Oh={}));var Bh;(function(n){n.LANGUAGE_UNSPECIFIED="LANGUAGE_UNSPECIFIED",n.PYTHON="PYTHON"})(Bh||(Bh={}));var zh;(function(n){n.SCHEDULING_UNSPECIFIED="SCHEDULING_UNSPECIFIED",n.SILENT="SILENT",n.WHEN_IDLE="WHEN_IDLE",n.INTERRUPT="INTERRUPT"})(zh||(zh={}));var Zn;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.STRING="STRING",n.NUMBER="NUMBER",n.INTEGER="INTEGER",n.BOOLEAN="BOOLEAN",n.ARRAY="ARRAY",n.OBJECT="OBJECT",n.NULL="NULL"})(Zn||(Zn={}));var Fh;(function(n){n.API_SPEC_UNSPECIFIED="API_SPEC_UNSPECIFIED",n.SIMPLE_SEARCH="SIMPLE_SEARCH",n.ELASTIC_SEARCH="ELASTIC_SEARCH"})(Fh||(Fh={}));var Jh;(function(n){n.AUTH_TYPE_UNSPECIFIED="AUTH_TYPE_UNSPECIFIED",n.NO_AUTH="NO_AUTH",n.API_KEY_AUTH="API_KEY_AUTH",n.HTTP_BASIC_AUTH="HTTP_BASIC_AUTH",n.GOOGLE_SERVICE_ACCOUNT_AUTH="GOOGLE_SERVICE_ACCOUNT_AUTH",n.OAUTH="OAUTH",n.OIDC_AUTH="OIDC_AUTH"})(Jh||(Jh={}));var Yh;(function(n){n.HTTP_IN_UNSPECIFIED="HTTP_IN_UNSPECIFIED",n.HTTP_IN_QUERY="HTTP_IN_QUERY",n.HTTP_IN_HEADER="HTTP_IN_HEADER",n.HTTP_IN_PATH="HTTP_IN_PATH",n.HTTP_IN_BODY="HTTP_IN_BODY",n.HTTP_IN_COOKIE="HTTP_IN_COOKIE"})(Yh||(Yh={}));var Kh;(function(n){n.PHISH_BLOCK_THRESHOLD_UNSPECIFIED="PHISH_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_HIGH_AND_ABOVE="BLOCK_HIGH_AND_ABOVE",n.BLOCK_HIGHER_AND_ABOVE="BLOCK_HIGHER_AND_ABOVE",n.BLOCK_VERY_HIGH_AND_ABOVE="BLOCK_VERY_HIGH_AND_ABOVE",n.BLOCK_ONLY_EXTREMELY_HIGH="BLOCK_ONLY_EXTREMELY_HIGH"})(Kh||(Kh={}));var Xh;(function(n){n.UNSPECIFIED="UNSPECIFIED",n.BLOCKING="BLOCKING",n.NON_BLOCKING="NON_BLOCKING"})(Xh||(Xh={}));var Qh;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.MODE_DYNAMIC="MODE_DYNAMIC"})(Qh||(Qh={}));var $h;(function(n){n.MODE_UNSPECIFIED="MODE_UNSPECIFIED",n.AUTO="AUTO",n.ANY="ANY",n.NONE="NONE",n.VALIDATED="VALIDATED"})($h||($h={}));var Zh;(function(n){n.THINKING_LEVEL_UNSPECIFIED="THINKING_LEVEL_UNSPECIFIED",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH",n.MINIMAL="MINIMAL"})(Zh||(Zh={}));var Wh;(function(n){n.HARM_CATEGORY_UNSPECIFIED="HARM_CATEGORY_UNSPECIFIED",n.HARM_CATEGORY_HARASSMENT="HARM_CATEGORY_HARASSMENT",n.HARM_CATEGORY_HATE_SPEECH="HARM_CATEGORY_HATE_SPEECH",n.HARM_CATEGORY_SEXUALLY_EXPLICIT="HARM_CATEGORY_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_DANGEROUS_CONTENT="HARM_CATEGORY_DANGEROUS_CONTENT",n.HARM_CATEGORY_CIVIC_INTEGRITY="HARM_CATEGORY_CIVIC_INTEGRITY",n.HARM_CATEGORY_IMAGE_HATE="HARM_CATEGORY_IMAGE_HATE",n.HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT="HARM_CATEGORY_IMAGE_DANGEROUS_CONTENT",n.HARM_CATEGORY_IMAGE_HARASSMENT="HARM_CATEGORY_IMAGE_HARASSMENT",n.HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT="HARM_CATEGORY_IMAGE_SEXUALLY_EXPLICIT",n.HARM_CATEGORY_JAILBREAK="HARM_CATEGORY_JAILBREAK"})(Wh||(Wh={}));var jh;(function(n){n.HARM_BLOCK_METHOD_UNSPECIFIED="HARM_BLOCK_METHOD_UNSPECIFIED",n.SEVERITY="SEVERITY",n.PROBABILITY="PROBABILITY"})(jh||(jh={}));var em;(function(n){n.HARM_BLOCK_THRESHOLD_UNSPECIFIED="HARM_BLOCK_THRESHOLD_UNSPECIFIED",n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE",n.OFF="OFF"})(em||(em={}));var tm;(function(n){n.FINISH_REASON_UNSPECIFIED="FINISH_REASON_UNSPECIFIED",n.STOP="STOP",n.MAX_TOKENS="MAX_TOKENS",n.SAFETY="SAFETY",n.RECITATION="RECITATION",n.LANGUAGE="LANGUAGE",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.SPII="SPII",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.IMAGE_SAFETY="IMAGE_SAFETY",n.UNEXPECTED_TOOL_CALL="UNEXPECTED_TOOL_CALL",n.IMAGE_PROHIBITED_CONTENT="IMAGE_PROHIBITED_CONTENT",n.NO_IMAGE="NO_IMAGE",n.IMAGE_RECITATION="IMAGE_RECITATION",n.IMAGE_OTHER="IMAGE_OTHER"})(tm||(tm={}));var nm;(function(n){n.HARM_PROBABILITY_UNSPECIFIED="HARM_PROBABILITY_UNSPECIFIED",n.NEGLIGIBLE="NEGLIGIBLE",n.LOW="LOW",n.MEDIUM="MEDIUM",n.HIGH="HIGH"})(nm||(nm={}));var im;(function(n){n.HARM_SEVERITY_UNSPECIFIED="HARM_SEVERITY_UNSPECIFIED",n.HARM_SEVERITY_NEGLIGIBLE="HARM_SEVERITY_NEGLIGIBLE",n.HARM_SEVERITY_LOW="HARM_SEVERITY_LOW",n.HARM_SEVERITY_MEDIUM="HARM_SEVERITY_MEDIUM",n.HARM_SEVERITY_HIGH="HARM_SEVERITY_HIGH"})(im||(im={}));var om;(function(n){n.URL_RETRIEVAL_STATUS_UNSPECIFIED="URL_RETRIEVAL_STATUS_UNSPECIFIED",n.URL_RETRIEVAL_STATUS_SUCCESS="URL_RETRIEVAL_STATUS_SUCCESS",n.URL_RETRIEVAL_STATUS_ERROR="URL_RETRIEVAL_STATUS_ERROR",n.URL_RETRIEVAL_STATUS_PAYWALL="URL_RETRIEVAL_STATUS_PAYWALL",n.URL_RETRIEVAL_STATUS_UNSAFE="URL_RETRIEVAL_STATUS_UNSAFE"})(om||(om={}));var lm;(function(n){n.BLOCKED_REASON_UNSPECIFIED="BLOCKED_REASON_UNSPECIFIED",n.SAFETY="SAFETY",n.OTHER="OTHER",n.BLOCKLIST="BLOCKLIST",n.PROHIBITED_CONTENT="PROHIBITED_CONTENT",n.IMAGE_SAFETY="IMAGE_SAFETY",n.MODEL_ARMOR="MODEL_ARMOR",n.JAILBREAK="JAILBREAK"})(lm||(lm={}));var am;(function(n){n.TRAFFIC_TYPE_UNSPECIFIED="TRAFFIC_TYPE_UNSPECIFIED",n.ON_DEMAND="ON_DEMAND",n.PROVISIONED_THROUGHPUT="PROVISIONED_THROUGHPUT"})(am||(am={}));var $a;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.AUDIO="AUDIO"})($a||($a={}));var sm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH"})(sm||(sm={}));var rm;(function(n){n.TUNING_MODE_UNSPECIFIED="TUNING_MODE_UNSPECIFIED",n.TUNING_MODE_FULL="TUNING_MODE_FULL",n.TUNING_MODE_PEFT_ADAPTER="TUNING_MODE_PEFT_ADAPTER"})(rm||(rm={}));var um;(function(n){n.ADAPTER_SIZE_UNSPECIFIED="ADAPTER_SIZE_UNSPECIFIED",n.ADAPTER_SIZE_ONE="ADAPTER_SIZE_ONE",n.ADAPTER_SIZE_TWO="ADAPTER_SIZE_TWO",n.ADAPTER_SIZE_FOUR="ADAPTER_SIZE_FOUR",n.ADAPTER_SIZE_EIGHT="ADAPTER_SIZE_EIGHT",n.ADAPTER_SIZE_SIXTEEN="ADAPTER_SIZE_SIXTEEN",n.ADAPTER_SIZE_THIRTY_TWO="ADAPTER_SIZE_THIRTY_TWO"})(um||(um={}));var Yu;(function(n){n.JOB_STATE_UNSPECIFIED="JOB_STATE_UNSPECIFIED",n.JOB_STATE_QUEUED="JOB_STATE_QUEUED",n.JOB_STATE_PENDING="JOB_STATE_PENDING",n.JOB_STATE_RUNNING="JOB_STATE_RUNNING",n.JOB_STATE_SUCCEEDED="JOB_STATE_SUCCEEDED",n.JOB_STATE_FAILED="JOB_STATE_FAILED",n.JOB_STATE_CANCELLING="JOB_STATE_CANCELLING",n.JOB_STATE_CANCELLED="JOB_STATE_CANCELLED",n.JOB_STATE_PAUSED="JOB_STATE_PAUSED",n.JOB_STATE_EXPIRED="JOB_STATE_EXPIRED",n.JOB_STATE_UPDATING="JOB_STATE_UPDATING",n.JOB_STATE_PARTIALLY_SUCCEEDED="JOB_STATE_PARTIALLY_SUCCEEDED"})(Yu||(Yu={}));var cm;(function(n){n.TUNING_TASK_UNSPECIFIED="TUNING_TASK_UNSPECIFIED",n.TUNING_TASK_I2V="TUNING_TASK_I2V",n.TUNING_TASK_T2V="TUNING_TASK_T2V",n.TUNING_TASK_R2V="TUNING_TASK_R2V"})(cm||(cm={}));var fm;(function(n){n.MEDIA_RESOLUTION_UNSPECIFIED="MEDIA_RESOLUTION_UNSPECIFIED",n.MEDIA_RESOLUTION_LOW="MEDIA_RESOLUTION_LOW",n.MEDIA_RESOLUTION_MEDIUM="MEDIA_RESOLUTION_MEDIUM",n.MEDIA_RESOLUTION_HIGH="MEDIA_RESOLUTION_HIGH",n.MEDIA_RESOLUTION_ULTRA_HIGH="MEDIA_RESOLUTION_ULTRA_HIGH"})(fm||(fm={}));var Ku;(function(n){n.COLLECTION="COLLECTION"})(Ku||(Ku={}));var dm;(function(n){n.FEATURE_SELECTION_PREFERENCE_UNSPECIFIED="FEATURE_SELECTION_PREFERENCE_UNSPECIFIED",n.PRIORITIZE_QUALITY="PRIORITIZE_QUALITY",n.BALANCED="BALANCED",n.PRIORITIZE_COST="PRIORITIZE_COST"})(dm||(dm={}));var pm;(function(n){n.ENVIRONMENT_UNSPECIFIED="ENVIRONMENT_UNSPECIFIED",n.ENVIRONMENT_BROWSER="ENVIRONMENT_BROWSER"})(pm||(pm={}));var hm;(function(n){n.BLOCK_LOW_AND_ABOVE="BLOCK_LOW_AND_ABOVE",n.BLOCK_MEDIUM_AND_ABOVE="BLOCK_MEDIUM_AND_ABOVE",n.BLOCK_ONLY_HIGH="BLOCK_ONLY_HIGH",n.BLOCK_NONE="BLOCK_NONE"})(hm||(hm={}));var mm;(function(n){n.DONT_ALLOW="DONT_ALLOW",n.ALLOW_ADULT="ALLOW_ADULT",n.ALLOW_ALL="ALLOW_ALL"})(mm||(mm={}));var gm;(function(n){n.auto="auto",n.en="en",n.ja="ja",n.ko="ko",n.hi="hi",n.zh="zh",n.pt="pt",n.es="es"})(gm||(gm={}));var ym;(function(n){n.MASK_MODE_DEFAULT="MASK_MODE_DEFAULT",n.MASK_MODE_USER_PROVIDED="MASK_MODE_USER_PROVIDED",n.MASK_MODE_BACKGROUND="MASK_MODE_BACKGROUND",n.MASK_MODE_FOREGROUND="MASK_MODE_FOREGROUND",n.MASK_MODE_SEMANTIC="MASK_MODE_SEMANTIC"})(ym||(ym={}));var vm;(function(n){n.CONTROL_TYPE_DEFAULT="CONTROL_TYPE_DEFAULT",n.CONTROL_TYPE_CANNY="CONTROL_TYPE_CANNY",n.CONTROL_TYPE_SCRIBBLE="CONTROL_TYPE_SCRIBBLE",n.CONTROL_TYPE_FACE_MESH="CONTROL_TYPE_FACE_MESH"})(vm||(vm={}));var Tm;(function(n){n.SUBJECT_TYPE_DEFAULT="SUBJECT_TYPE_DEFAULT",n.SUBJECT_TYPE_PERSON="SUBJECT_TYPE_PERSON",n.SUBJECT_TYPE_ANIMAL="SUBJECT_TYPE_ANIMAL",n.SUBJECT_TYPE_PRODUCT="SUBJECT_TYPE_PRODUCT"})(Tm||(Tm={}));var Sm;(function(n){n.EDIT_MODE_DEFAULT="EDIT_MODE_DEFAULT",n.EDIT_MODE_INPAINT_REMOVAL="EDIT_MODE_INPAINT_REMOVAL",n.EDIT_MODE_INPAINT_INSERTION="EDIT_MODE_INPAINT_INSERTION",n.EDIT_MODE_OUTPAINT="EDIT_MODE_OUTPAINT",n.EDIT_MODE_CONTROLLED_EDITING="EDIT_MODE_CONTROLLED_EDITING",n.EDIT_MODE_STYLE="EDIT_MODE_STYLE",n.EDIT_MODE_BGSWAP="EDIT_MODE_BGSWAP",n.EDIT_MODE_PRODUCT_IMAGE="EDIT_MODE_PRODUCT_IMAGE"})(Sm||(Sm={}));var Em;(function(n){n.FOREGROUND="FOREGROUND",n.BACKGROUND="BACKGROUND",n.PROMPT="PROMPT",n.SEMANTIC="SEMANTIC",n.INTERACTIVE="INTERACTIVE"})(Em||(Em={}));var _m;(function(n){n.ASSET="ASSET",n.STYLE="STYLE"})(_m||(_m={}));var Cm;(function(n){n.INSERT="INSERT",n.REMOVE="REMOVE",n.REMOVE_STATIC="REMOVE_STATIC",n.OUTPAINT="OUTPAINT"})(Cm||(Cm={}));var Am;(function(n){n.OPTIMIZED="OPTIMIZED",n.LOSSLESS="LOSSLESS"})(Am||(Am={}));var xm;(function(n){n.SUPERVISED_FINE_TUNING="SUPERVISED_FINE_TUNING",n.PREFERENCE_TUNING="PREFERENCE_TUNING",n.DISTILLATION="DISTILLATION"})(xm||(xm={}));var Rm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.STATE_PENDING="STATE_PENDING",n.STATE_ACTIVE="STATE_ACTIVE",n.STATE_FAILED="STATE_FAILED"})(Rm||(Rm={}));var Nm;(function(n){n.STATE_UNSPECIFIED="STATE_UNSPECIFIED",n.PROCESSING="PROCESSING",n.ACTIVE="ACTIVE",n.FAILED="FAILED"})(Nm||(Nm={}));var bm;(function(n){n.SOURCE_UNSPECIFIED="SOURCE_UNSPECIFIED",n.UPLOADED="UPLOADED",n.GENERATED="GENERATED",n.REGISTERED="REGISTERED"})(bm||(bm={}));var Mm;(function(n){n.TURN_COMPLETE_REASON_UNSPECIFIED="TURN_COMPLETE_REASON_UNSPECIFIED",n.MALFORMED_FUNCTION_CALL="MALFORMED_FUNCTION_CALL",n.RESPONSE_REJECTED="RESPONSE_REJECTED",n.NEED_MORE_INPUT="NEED_MORE_INPUT"})(Mm||(Mm={}));var wm;(function(n){n.MODALITY_UNSPECIFIED="MODALITY_UNSPECIFIED",n.TEXT="TEXT",n.IMAGE="IMAGE",n.VIDEO="VIDEO",n.AUDIO="AUDIO",n.DOCUMENT="DOCUMENT"})(wm||(wm={}));var Im;(function(n){n.VAD_SIGNAL_TYPE_UNSPECIFIED="VAD_SIGNAL_TYPE_UNSPECIFIED",n.VAD_SIGNAL_TYPE_SOS="VAD_SIGNAL_TYPE_SOS",n.VAD_SIGNAL_TYPE_EOS="VAD_SIGNAL_TYPE_EOS"})(Im||(Im={}));var Dm;(function(n){n.TYPE_UNSPECIFIED="TYPE_UNSPECIFIED",n.ACTIVITY_START="ACTIVITY_START",n.ACTIVITY_END="ACTIVITY_END"})(Dm||(Dm={}));var Um;(function(n){n.START_SENSITIVITY_UNSPECIFIED="START_SENSITIVITY_UNSPECIFIED",n.START_SENSITIVITY_HIGH="START_SENSITIVITY_HIGH",n.START_SENSITIVITY_LOW="START_SENSITIVITY_LOW"})(Um||(Um={}));var Lm;(function(n){n.END_SENSITIVITY_UNSPECIFIED="END_SENSITIVITY_UNSPECIFIED",n.END_SENSITIVITY_HIGH="END_SENSITIVITY_HIGH",n.END_SENSITIVITY_LOW="END_SENSITIVITY_LOW"})(Lm||(Lm={}));var Gm;(function(n){n.ACTIVITY_HANDLING_UNSPECIFIED="ACTIVITY_HANDLING_UNSPECIFIED",n.START_OF_ACTIVITY_INTERRUPTS="START_OF_ACTIVITY_INTERRUPTS",n.NO_INTERRUPTION="NO_INTERRUPTION"})(Gm||(Gm={}));var Hm;(function(n){n.TURN_COVERAGE_UNSPECIFIED="TURN_COVERAGE_UNSPECIFIED",n.TURN_INCLUDES_ONLY_ACTIVITY="TURN_INCLUDES_ONLY_ACTIVITY",n.TURN_INCLUDES_ALL_INPUT="TURN_INCLUDES_ALL_INPUT"})(Hm||(Hm={}));var Pm;(function(n){n.SCALE_UNSPECIFIED="SCALE_UNSPECIFIED",n.C_MAJOR_A_MINOR="C_MAJOR_A_MINOR",n.D_FLAT_MAJOR_B_FLAT_MINOR="D_FLAT_MAJOR_B_FLAT_MINOR",n.D_MAJOR_B_MINOR="D_MAJOR_B_MINOR",n.E_FLAT_MAJOR_C_MINOR="E_FLAT_MAJOR_C_MINOR",n.E_MAJOR_D_FLAT_MINOR="E_MAJOR_D_FLAT_MINOR",n.F_MAJOR_D_MINOR="F_MAJOR_D_MINOR",n.G_FLAT_MAJOR_E_FLAT_MINOR="G_FLAT_MAJOR_E_FLAT_MINOR",n.G_MAJOR_E_MINOR="G_MAJOR_E_MINOR",n.A_FLAT_MAJOR_F_MINOR="A_FLAT_MAJOR_F_MINOR",n.A_MAJOR_G_FLAT_MINOR="A_MAJOR_G_FLAT_MINOR",n.B_FLAT_MAJOR_G_MINOR="B_FLAT_MAJOR_G_MINOR",n.B_MAJOR_A_FLAT_MINOR="B_MAJOR_A_FLAT_MINOR"})(Pm||(Pm={}));var km;(function(n){n.MUSIC_GENERATION_MODE_UNSPECIFIED="MUSIC_GENERATION_MODE_UNSPECIFIED",n.QUALITY="QUALITY",n.DIVERSITY="DIVERSITY",n.VOCALIZATION="VOCALIZATION"})(km||(km={}));var ao;(function(n){n.PLAYBACK_CONTROL_UNSPECIFIED="PLAYBACK_CONTROL_UNSPECIFIED",n.PLAY="PLAY",n.PAUSE="PAUSE",n.STOP="STOP",n.RESET_CONTEXT="RESET_CONTEXT"})(ao||(ao={}));class Xu{constructor(t){const o={};for(const a of t.headers.entries())o[a[0]]=a[1];this.headers=o,this.responseInternal=t}json(){return this.responseInternal.json()}}class pl{get text(){var t,o,a,s,c,d,h,y;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning text from the first one.");let m="",v=!1;const T=[];for(const E of(y=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[C,R]of Object.entries(E))C!=="text"&&C!=="thought"&&C!=="thoughtSignature"&&(R!==null||R!==void 0)&&T.push(C);if(typeof E.text=="string"){if(typeof E.thought=="boolean"&&E.thought)continue;v=!0,m+=E.text}}return T.length>0&&console.warn(`there are non-text parts ${T} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),v?m:void 0}get data(){var t,o,a,s,c,d,h,y;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning data from the first one.");let m="";const v=[];for(const T of(y=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)!==null&&y!==void 0?y:[]){for(const[E,C]of Object.entries(T))E!=="inlineData"&&(C!==null||C!==void 0)&&v.push(E);T.inlineData&&typeof T.inlineData.data=="string"&&(m+=atob(T.inlineData.data))}return v.length>0&&console.warn(`there are non-data parts ${v} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),m.length>0?btoa(m):void 0}get functionCalls(){var t,o,a,s,c,d,h,y;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning function calls from the first one.");const m=(y=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(v=>v.functionCall).map(v=>v.functionCall).filter(v=>v!==void 0);if((m==null?void 0:m.length)!==0)return m}get executableCode(){var t,o,a,s,c,d,h,y,m;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning executable code from the first one.");const v=(y=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(T=>T.executableCode).map(T=>T.executableCode).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.code}get codeExecutionResult(){var t,o,a,s,c,d,h,y,m;if(((s=(a=(o=(t=this.candidates)===null||t===void 0?void 0:t[0])===null||o===void 0?void 0:o.content)===null||a===void 0?void 0:a.parts)===null||s===void 0?void 0:s.length)===0)return;this.candidates&&this.candidates.length>1&&console.warn("there are multiple candidates in the response, returning code execution result from the first one.");const v=(y=(h=(d=(c=this.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content)===null||h===void 0?void 0:h.parts)===null||y===void 0?void 0:y.filter(T=>T.codeExecutionResult).map(T=>T.codeExecutionResult).filter(T=>T!==void 0);if((v==null?void 0:v.length)!==0)return(m=v==null?void 0:v[0])===null||m===void 0?void 0:m.output}}class Vm{}class qm{}class hE{}class mE{}class gE{}class yE{}class Om{}class Bm{}class zm{}class vE{}class Za{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new Za;let s;const c=t;return o?s=nE(c):s=tE(c),Object.assign(a,s),a}}class Fm{}class Jm{}class Ym{}class Km{}class TE{}class SE{}class EE{}class pc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new pc,c=uE(t);return Object.assign(a,c),a}}class _E{}class CE{}class AE{}class xE{}class Xm{}class RE{get text(){var t,o,a;let s="",c=!1;const d=[];for(const h of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[y,m]of Object.entries(h))y!=="text"&&y!=="thought"&&m!==null&&d.push(y);if(typeof h.text=="string"){if(typeof h.thought=="boolean"&&h.thought)continue;c=!0,s+=h.text}}return d.length>0&&console.warn(`there are non-text parts ${d} in the response, returning concatenation of all text parts. Please refer to the non text parts for a full response from model.`),c?s:void 0}get data(){var t,o,a;let s="";const c=[];for(const d of(a=(o=(t=this.serverContent)===null||t===void 0?void 0:t.modelTurn)===null||o===void 0?void 0:o.parts)!==null&&a!==void 0?a:[]){for(const[h,y]of Object.entries(d))h!=="inlineData"&&y!==null&&c.push(h);d.inlineData&&typeof d.inlineData.data=="string"&&(s+=atob(d.inlineData.data))}return c.length>0&&console.warn(`there are non-data parts ${c} in the response, returning concatenation of all data parts. Please refer to the non data parts for a full response from model.`),s.length>0?btoa(s):void 0}}class NE{get audioChunk(){if(this.serverContent&&this.serverContent.audioChunks&&this.serverContent.audioChunks.length>0)return this.serverContent.audioChunks[0]}}class hc{_fromAPIResponse({apiResponse:t,_isVertexAI:o}){const a=new hc,c=qg(t);return Object.assign(a,c),a}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Ee(n,t){if(!t||typeof t!="string")throw new Error("model is required and must be a string");if(t.includes("..")||t.includes("?")||t.includes("&"))throw new Error("invalid model parameter");if(n.isVertexAI()){if(t.startsWith("publishers/")||t.startsWith("projects/")||t.startsWith("models/"))return t;if(t.indexOf("/")>=0){const o=t.split("/",2);return`publishers/${o[0]}/models/${o[1]}`}else return`publishers/google/models/${t}`}else return t.startsWith("models/")||t.startsWith("tunedModels/")?t:`models/${t}`}function Og(n,t){const o=Ee(n,t);return o?o.startsWith("publishers/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}`:o.startsWith("models/")&&n.isVertexAI()?`projects/${n.getProject()}/locations/${n.getLocation()}/publishers/google/${o}`:o:""}function Bg(n){return Array.isArray(n)?n.map(t=>Wa(t)):[Wa(n)]}function Wa(n){if(typeof n=="object"&&n!==null)return n;throw new Error(`Could not parse input as Blob. Unsupported blob type: ${typeof n}`)}function zg(n){const t=Wa(n);if(t.mimeType&&t.mimeType.startsWith("image/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Fg(n){const t=Wa(n);if(t.mimeType&&t.mimeType.startsWith("audio/"))return t;throw new Error(`Unsupported mime type: ${t.mimeType}`)}function Qm(n){if(n==null)throw new Error("PartUnion is required");if(typeof n=="object")return n;if(typeof n=="string")return{text:n};throw new Error(`Unsupported part type: ${typeof n}`)}function Jg(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("PartListUnion is required");return Array.isArray(n)?n.map(t=>Qm(t)):[Qm(n)]}function Qu(n){return n!=null&&typeof n=="object"&&"parts"in n&&Array.isArray(n.parts)}function $m(n){return n!=null&&typeof n=="object"&&"functionCall"in n}function Zm(n){return n!=null&&typeof n=="object"&&"functionResponse"in n}function rt(n){if(n==null)throw new Error("ContentUnion is required");return Qu(n)?n:{role:"user",parts:Jg(n)}}function mc(n,t){if(!t)return[];if(n.isVertexAI()&&Array.isArray(t))return t.flatMap(o=>{const a=rt(o);return a.parts&&a.parts.length>0&&a.parts[0].text!==void 0?[a.parts[0].text]:[]});if(n.isVertexAI()){const o=rt(t);return o.parts&&o.parts.length>0&&o.parts[0].text!==void 0?[o.parts[0].text]:[]}return Array.isArray(t)?t.map(o=>rt(o)):[rt(t)]}function qt(n){if(n==null||Array.isArray(n)&&n.length===0)throw new Error("contents are required");if(!Array.isArray(n)){if($m(n)||Zm(n))throw new Error("To specify functionCall or functionResponse parts, please wrap them in a Content object, specifying the role for them");return[rt(n)]}const t=[],o=[],a=Qu(n[0]);for(const s of n){const c=Qu(s);if(c!=a)throw new Error("Mixing Content and Parts is not supported, please group the parts into a the appropriate Content objects and specify the roles for them");if(c)t.push(s);else{if($m(s)||Zm(s))throw new Error("To specify functionCall or functionResponse parts, please wrap them, and any other parts, in Content objects as appropriate, specifying the role for them");o.push(s)}}return a||t.push({role:"user",parts:Jg(o)}),t}function bE(n,t){n.includes("null")&&(t.nullable=!0);const o=n.filter(a=>a!=="null");if(o.length===1)t.type=Object.values(Zn).includes(o[0].toUpperCase())?o[0].toUpperCase():Zn.TYPE_UNSPECIFIED;else{t.anyOf=[];for(const a of o)t.anyOf.push({type:Object.values(Zn).includes(a.toUpperCase())?a.toUpperCase():Zn.TYPE_UNSPECIFIED})}}function uo(n){const t={},o=["items"],a=["anyOf"],s=["properties"];if(n.type&&n.anyOf)throw new Error("type and anyOf cannot be both populated.");const c=n.anyOf;c!=null&&c.length==2&&(c[0].type==="null"?(t.nullable=!0,n=c[1]):c[1].type==="null"&&(t.nullable=!0,n=c[0])),n.type instanceof Array&&bE(n.type,t);for(const[d,h]of Object.entries(n))if(h!=null)if(d=="type"){if(h==="null")throw new Error("type: null can not be the only possible type for the field.");if(h instanceof Array)continue;t.type=Object.values(Zn).includes(h.toUpperCase())?h.toUpperCase():Zn.TYPE_UNSPECIFIED}else if(o.includes(d))t[d]=uo(h);else if(a.includes(d)){const y=[];for(const m of h){if(m.type=="null"){t.nullable=!0;continue}y.push(uo(m))}t[d]=y}else if(s.includes(d)){const y={};for(const[m,v]of Object.entries(h))y[m]=uo(v);t[d]=y}else{if(d==="additionalProperties")continue;t[d]=h}return t}function gc(n){return uo(n)}function yc(n){if(typeof n=="object")return n;if(typeof n=="string")return{voiceConfig:{prebuiltVoiceConfig:{voiceName:n}}};throw new Error(`Unsupported speechConfig type: ${typeof n}`)}function vc(n){if("multiSpeakerVoiceConfig"in n)throw new Error("multiSpeakerVoiceConfig is not supported in the live API.");return n}function ho(n){if(n.functionDeclarations)for(const t of n.functionDeclarations)t.parameters&&(Object.keys(t.parameters).includes("$schema")?t.parametersJsonSchema||(t.parametersJsonSchema=t.parameters,delete t.parameters):t.parameters=uo(t.parameters)),t.response&&(Object.keys(t.response).includes("$schema")?t.responseJsonSchema||(t.responseJsonSchema=t.response,delete t.response):t.response=uo(t.response));return n}function mo(n){if(n==null)throw new Error("tools is required");if(!Array.isArray(n))throw new Error("tools is required and must be an array of Tools");const t=[];for(const o of n)t.push(o);return t}function ME(n,t,o,a=1){const s=!t.startsWith(`${o}/`)&&t.split("/").length===a;return n.isVertexAI()?t.startsWith("projects/")?t:t.startsWith("locations/")?`projects/${n.getProject()}/${t}`:t.startsWith(`${o}/`)?`projects/${n.getProject()}/locations/${n.getLocation()}/${t}`:s?`projects/${n.getProject()}/locations/${n.getLocation()}/${o}/${t}`:t:s?`${o}/${t}`:t}function xn(n,t){if(typeof t!="string")throw new Error("name must be a string");return ME(n,t,"cachedContents")}function Yg(n){switch(n){case"STATE_UNSPECIFIED":return"JOB_STATE_UNSPECIFIED";case"CREATING":return"JOB_STATE_RUNNING";case"ACTIVE":return"JOB_STATE_SUCCEEDED";case"FAILED":return"JOB_STATE_FAILED";default:return n}}function Wn(n){return dc(n)}function wE(n){return n!=null&&typeof n=="object"&&"name"in n}function IE(n){return n!=null&&typeof n=="object"&&"video"in n}function DE(n){return n!=null&&typeof n=="object"&&"uri"in n}function Kg(n){var t;let o;if(wE(n)&&(o=n.name),!(DE(n)&&(o=n.uri,o===void 0))&&!(IE(n)&&(o=(t=n.video)===null||t===void 0?void 0:t.uri,o===void 0))){if(typeof n=="string"&&(o=n),o===void 0)throw new Error("Could not extract file name from the provided input.");if(o.startsWith("https://")){const s=o.split("files/")[1].match(/[a-z0-9]+/);if(s===null)throw new Error(`Could not extract file name from URI ${o}`);o=s[0]}else o.startsWith("files/")&&(o=o.split("files/")[1]);return o}}function Xg(n,t){let o;return n.isVertexAI()?o=t?"publishers/google/models":"models":o=t?"models":"tunedModels",o}function Qg(n){for(const t of["models","tunedModels","publisherModels"])if(UE(n,t))return n[t];return[]}function UE(n,t){return n!==null&&typeof n=="object"&&t in n}function LE(n,t={}){const o=n,a={name:o.name,description:o.description,parametersJsonSchema:o.inputSchema};return o.outputSchema&&(a.responseJsonSchema=o.outputSchema),t.behavior&&(a.behavior=t.behavior),{functionDeclarations:[a]}}function GE(n,t={}){const o=[],a=new Set;for(const s of n){const c=s.name;if(a.has(c))throw new Error(`Duplicate function name ${c} found in MCP tools. Please ensure function names are unique.`);a.add(c);const d=LE(s,t);d.functionDeclarations&&o.push(...d.functionDeclarations)}return{functionDeclarations:o}}function $g(n,t){let o;if(typeof t=="string")if(n.isVertexAI())if(t.startsWith("gs://"))o={format:"jsonl",gcsUri:[t]};else if(t.startsWith("bq://"))o={format:"bigquery",bigqueryUri:t};else throw new Error(`Unsupported string source for Vertex AI: ${t}`);else if(t.startsWith("files/"))o={fileName:t};else throw new Error(`Unsupported string source for Gemini API: ${t}`);else if(Array.isArray(t)){if(n.isVertexAI())throw new Error("InlinedRequest[] is not supported in Vertex AI.");o={inlinedRequests:t}}else o=t;const a=[o.gcsUri,o.bigqueryUri].filter(Boolean).length,s=[o.inlinedRequests,o.fileName].filter(Boolean).length;if(n.isVertexAI()){if(s>0||a!==1)throw new Error("Exactly one of `gcsUri` or `bigqueryUri` must be set for Vertex AI.")}else if(a>0||s!==1)throw new Error("Exactly one of `inlinedRequests`, `fileName`, must be set for Gemini API.");return o}function HE(n){if(typeof n!="string")return n;const t=n;if(t.startsWith("gs://"))return{format:"jsonl",gcsUri:t};if(t.startsWith("bq://"))return{format:"bigquery",bigqueryUri:t};throw new Error(`Unsupported destination: ${t}`)}function Zg(n){if(typeof n!="object"||n===null)return{};const t=n,o=t.inlinedResponses;if(typeof o!="object"||o===null)return n;const s=o.inlinedResponses;if(!Array.isArray(s)||s.length===0)return n;let c=!1;for(const d of s){if(typeof d!="object"||d===null)continue;const y=d.response;if(typeof y!="object"||y===null)continue;if(y.embedding!==void 0){c=!0;break}}return c&&(t.inlinedEmbedContentResponses=t.inlinedResponses,delete t.inlinedResponses),n}function go(n,t){const o=t;if(!n.isVertexAI()){if(/batches\/[^/]+$/.test(o))return o.split("/").pop();throw new Error(`Invalid batch job name: ${o}.`)}if(/^projects\/[^/]+\/locations\/[^/]+\/batchPredictionJobs\/[^/]+$/.test(o))return o.split("/").pop();if(/^\d+$/.test(o))return o;throw new Error(`Invalid batch job name: ${o}.`)}function Wg(n){const t=n;return t==="BATCH_STATE_UNSPECIFIED"?"JOB_STATE_UNSPECIFIED":t==="BATCH_STATE_PENDING"?"JOB_STATE_PENDING":t==="BATCH_STATE_RUNNING"?"JOB_STATE_RUNNING":t==="BATCH_STATE_SUCCEEDED"?"JOB_STATE_SUCCEEDED":t==="BATCH_STATE_FAILED"?"JOB_STATE_FAILED":t==="BATCH_STATE_CANCELLED"?"JOB_STATE_CANCELLED":t==="BATCH_STATE_EXPIRED"?"JOB_STATE_EXPIRED":t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function PE(n){const t={},o=u(n,["responsesFile"]);o!=null&&f(t,["fileName"],o);const a=u(n,["inlinedResponses","inlinedResponses"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>y_(d))),f(t,["inlinedResponses"],c)}const s=u(n,["inlinedEmbedContentResponses","inlinedResponses"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["inlinedEmbedContentResponses"],c)}return t}function kE(n){const t={},o=u(n,["predictionsFormat"]);o!=null&&f(t,["format"],o);const a=u(n,["gcsDestination","outputUriPrefix"]);a!=null&&f(t,["gcsUri"],a);const s=u(n,["bigqueryDestination","outputUri"]);return s!=null&&f(t,["bigqueryUri"],s),t}function VE(n){const t={},o=u(n,["format"]);o!=null&&f(t,["predictionsFormat"],o);const a=u(n,["gcsUri"]);a!=null&&f(t,["gcsDestination","outputUriPrefix"],a);const s=u(n,["bigqueryUri"]);if(s!=null&&f(t,["bigqueryDestination","outputUri"],s),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedResponses"])!==void 0)throw new Error("inlinedResponses parameter is not supported in Vertex AI.");if(u(n,["inlinedEmbedContentResponses"])!==void 0)throw new Error("inlinedEmbedContentResponses parameter is not supported in Vertex AI.");return t}function Ka(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const a=u(n,["metadata","displayName"]);a!=null&&f(t,["displayName"],a);const s=u(n,["metadata","state"]);s!=null&&f(t,["state"],Wg(s));const c=u(n,["metadata","createTime"]);c!=null&&f(t,["createTime"],c);const d=u(n,["metadata","endTime"]);d!=null&&f(t,["endTime"],d);const h=u(n,["metadata","updateTime"]);h!=null&&f(t,["updateTime"],h);const y=u(n,["metadata","model"]);y!=null&&f(t,["model"],y);const m=u(n,["metadata","output"]);return m!=null&&f(t,["dest"],PE(Zg(m))),t}function $u(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const a=u(n,["displayName"]);a!=null&&f(t,["displayName"],a);const s=u(n,["state"]);s!=null&&f(t,["state"],Wg(s));const c=u(n,["error"]);c!=null&&f(t,["error"],c);const d=u(n,["createTime"]);d!=null&&f(t,["createTime"],d);const h=u(n,["startTime"]);h!=null&&f(t,["startTime"],h);const y=u(n,["endTime"]);y!=null&&f(t,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(t,["updateTime"],m);const v=u(n,["model"]);v!=null&&f(t,["model"],v);const T=u(n,["inputConfig"]);T!=null&&f(t,["src"],qE(T));const E=u(n,["outputConfig"]);E!=null&&f(t,["dest"],kE(Zg(E)));const C=u(n,["completionStats"]);return C!=null&&f(t,["completionStats"],C),t}function qE(n){const t={},o=u(n,["instancesFormat"]);o!=null&&f(t,["format"],o);const a=u(n,["gcsSource","uris"]);a!=null&&f(t,["gcsUri"],a);const s=u(n,["bigquerySource","inputUri"]);return s!=null&&f(t,["bigqueryUri"],s),t}function OE(n,t){const o={};if(u(t,["format"])!==void 0)throw new Error("format parameter is not supported in Gemini API.");if(u(t,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(t,["bigqueryUri"])!==void 0)throw new Error("bigqueryUri parameter is not supported in Gemini API.");const a=u(t,["fileName"]);a!=null&&f(o,["fileName"],a);const s=u(t,["inlinedRequests"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>g_(n,d))),f(o,["requests","requests"],c)}return o}function BE(n){const t={},o=u(n,["format"]);o!=null&&f(t,["instancesFormat"],o);const a=u(n,["gcsUri"]);a!=null&&f(t,["gcsSource","uris"],a);const s=u(n,["bigqueryUri"]);if(s!=null&&f(t,["bigquerySource","inputUri"],s),u(n,["fileName"])!==void 0)throw new Error("fileName parameter is not supported in Vertex AI.");if(u(n,["inlinedRequests"])!==void 0)throw new Error("inlinedRequests parameter is not supported in Vertex AI.");return t}function zE(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function FE(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],go(n,a)),o}function JE(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],go(n,a)),o}function YE(n){const t={},o=u(n,["content"]);o!=null&&f(t,["content"],o);const a=u(n,["citationMetadata"]);a!=null&&f(t,["citationMetadata"],KE(a));const s=u(n,["tokenCount"]);s!=null&&f(t,["tokenCount"],s);const c=u(n,["finishReason"]);c!=null&&f(t,["finishReason"],c);const d=u(n,["avgLogprobs"]);d!=null&&f(t,["avgLogprobs"],d);const h=u(n,["groundingMetadata"]);h!=null&&f(t,["groundingMetadata"],h);const y=u(n,["index"]);y!=null&&f(t,["index"],y);const m=u(n,["logprobsResult"]);m!=null&&f(t,["logprobsResult"],m);const v=u(n,["safetyRatings"]);if(v!=null){let E=v;Array.isArray(E)&&(E=E.map(C=>C)),f(t,["safetyRatings"],E)}const T=u(n,["urlContextMetadata"]);return T!=null&&f(t,["urlContextMetadata"],T),t}function KE(n){const t={},o=u(n,["citationSources"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),f(t,["citations"],a)}return t}function jg(n){const t={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>A_(c))),f(t,["parts"],s)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function XE(n,t){const o={},a=u(n,["displayName"]);if(t!==void 0&&a!=null&&f(t,["batch","displayName"],a),u(n,["dest"])!==void 0)throw new Error("dest parameter is not supported in Gemini API.");return o}function QE(n,t){const o={},a=u(n,["displayName"]);t!==void 0&&a!=null&&f(t,["displayName"],a);const s=u(n,["dest"]);return t!==void 0&&s!=null&&f(t,["outputConfig"],VE(HE(s))),o}function Wm(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],Ee(n,a));const s=u(t,["src"]);s!=null&&f(o,["batch","inputConfig"],OE(n,$g(n,s)));const c=u(t,["config"]);return c!=null&&XE(c,o),o}function $E(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Ee(n,a));const s=u(t,["src"]);s!=null&&f(o,["inputConfig"],BE($g(n,s)));const c=u(t,["config"]);return c!=null&&QE(c,o),o}function ZE(n,t){const o={},a=u(n,["displayName"]);return t!==void 0&&a!=null&&f(t,["batch","displayName"],a),o}function WE(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["_url","model"],Ee(n,a));const s=u(t,["src"]);s!=null&&f(o,["batch","inputConfig"],l_(n,s));const c=u(t,["config"]);return c!=null&&ZE(c,o),o}function jE(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],go(n,a)),o}function e_(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],go(n,a)),o}function t_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const s=u(n,["done"]);s!=null&&f(t,["done"],s);const c=u(n,["error"]);return c!=null&&f(t,["error"],c),t}function n_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const s=u(n,["done"]);s!=null&&f(t,["done"],s);const c=u(n,["error"]);return c!=null&&f(t,["error"],c),t}function i_(n,t){const o={},a=u(t,["contents"]);if(a!=null){let c=mc(n,a);Array.isArray(c)&&(c=c.map(d=>d)),f(o,["requests[]","request","content"],c)}const s=u(t,["config"]);return s!=null&&(f(o,["_self"],o_(s,o)),jS(o,{"requests[].*":"requests[].request.*"})),o}function o_(n,t){const o={},a=u(n,["taskType"]);t!==void 0&&a!=null&&f(t,["requests[]","taskType"],a);const s=u(n,["title"]);t!==void 0&&s!=null&&f(t,["requests[]","title"],s);const c=u(n,["outputDimensionality"]);if(t!==void 0&&c!=null&&f(t,["requests[]","outputDimensionality"],c),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return o}function l_(n,t){const o={},a=u(t,["fileName"]);a!=null&&f(o,["file_name"],a);const s=u(t,["inlinedRequests"]);return s!=null&&f(o,["requests"],i_(n,s)),o}function a_(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function s_(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const s=u(n,["name"]);if(s!=null&&f(t,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function r_(n){const t={},o=u(n,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(n,["mode"]);if(a!=null&&f(t,["mode"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function u_(n,t,o){const a={},s=u(t,["systemInstruction"]);o!==void 0&&s!=null&&f(o,["systemInstruction"],jg(rt(s)));const c=u(t,["temperature"]);c!=null&&f(a,["temperature"],c);const d=u(t,["topP"]);d!=null&&f(a,["topP"],d);const h=u(t,["topK"]);h!=null&&f(a,["topK"],h);const y=u(t,["candidateCount"]);y!=null&&f(a,["candidateCount"],y);const m=u(t,["maxOutputTokens"]);m!=null&&f(a,["maxOutputTokens"],m);const v=u(t,["stopSequences"]);v!=null&&f(a,["stopSequences"],v);const T=u(t,["responseLogprobs"]);T!=null&&f(a,["responseLogprobs"],T);const E=u(t,["logprobs"]);E!=null&&f(a,["logprobs"],E);const C=u(t,["presencePenalty"]);C!=null&&f(a,["presencePenalty"],C);const R=u(t,["frequencyPenalty"]);R!=null&&f(a,["frequencyPenalty"],R);const N=u(t,["seed"]);N!=null&&f(a,["seed"],N);const b=u(t,["responseMimeType"]);b!=null&&f(a,["responseMimeType"],b);const G=u(t,["responseSchema"]);G!=null&&f(a,["responseSchema"],gc(G));const I=u(t,["responseJsonSchema"]);if(I!=null&&f(a,["responseJsonSchema"],I),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const D=u(t,["safetySettings"]);if(o!==void 0&&D!=null){let ke=D;Array.isArray(ke)&&(ke=ke.map(Ue=>x_(Ue))),f(o,["safetySettings"],ke)}const J=u(t,["tools"]);if(o!==void 0&&J!=null){let ke=mo(J);Array.isArray(ke)&&(ke=ke.map(Ue=>N_(ho(Ue)))),f(o,["tools"],ke)}const V=u(t,["toolConfig"]);if(o!==void 0&&V!=null&&f(o,["toolConfig"],R_(V)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const Z=u(t,["cachedContent"]);o!==void 0&&Z!=null&&f(o,["cachedContent"],xn(n,Z));const K=u(t,["responseModalities"]);K!=null&&f(a,["responseModalities"],K);const te=u(t,["mediaResolution"]);te!=null&&f(a,["mediaResolution"],te);const Q=u(t,["speechConfig"]);if(Q!=null&&f(a,["speechConfig"],yc(Q)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const ae=u(t,["thinkingConfig"]);ae!=null&&f(a,["thinkingConfig"],ae);const _e=u(t,["imageConfig"]);_e!=null&&f(a,["imageConfig"],m_(_e));const Ne=u(t,["enableEnhancedCivicAnswers"]);if(Ne!=null&&f(a,["enableEnhancedCivicAnswers"],Ne),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return a}function c_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["candidates"]);if(a!=null){let y=a;Array.isArray(y)&&(y=y.map(m=>YE(m))),f(t,["candidates"],y)}const s=u(n,["modelVersion"]);s!=null&&f(t,["modelVersion"],s);const c=u(n,["promptFeedback"]);c!=null&&f(t,["promptFeedback"],c);const d=u(n,["responseId"]);d!=null&&f(t,["responseId"],d);const h=u(n,["usageMetadata"]);return h!=null&&f(t,["usageMetadata"],h),t}function f_(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],go(n,a)),o}function d_(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],go(n,a)),o}function p_(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function h_(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function m_(n){const t={},o=u(n,["aspectRatio"]);o!=null&&f(t,["aspectRatio"],o);const a=u(n,["imageSize"]);if(a!=null&&f(t,["imageSize"],a),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return t}function g_(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["request","model"],Ee(n,a));const s=u(t,["contents"]);if(s!=null){let h=qt(s);Array.isArray(h)&&(h=h.map(y=>jg(y))),f(o,["request","contents"],h)}const c=u(t,["metadata"]);c!=null&&f(o,["metadata"],c);const d=u(t,["config"]);return d!=null&&f(o,["request","generationConfig"],u_(n,d,u(o,["request"],{}))),o}function y_(n){const t={},o=u(n,["response"]);o!=null&&f(t,["response"],c_(o));const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=u(n,["error"]);return s!=null&&f(t,["error"],s),t}function v_(n,t){const o={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=u(n,["pageToken"]);if(t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),u(n,["filter"])!==void 0)throw new Error("filter parameter is not supported in Gemini API.");return o}function T_(n,t){const o={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=u(n,["pageToken"]);t!==void 0&&s!=null&&f(t,["_query","pageToken"],s);const c=u(n,["filter"]);return t!==void 0&&c!=null&&f(t,["_query","filter"],c),o}function S_(n){const t={},o=u(n,["config"]);return o!=null&&v_(o,t),t}function E_(n){const t={},o=u(n,["config"]);return o!=null&&T_(o,t),t}function __(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=u(n,["operations"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>Ka(d))),f(t,["batchJobs"],c)}return t}function C_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=u(n,["batchPredictionJobs"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>$u(d))),f(t,["batchJobs"],c)}return t}function A_(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const s=u(n,["executableCode"]);s!=null&&f(t,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],a_(c));const d=u(n,["functionCall"]);d!=null&&f(t,["functionCall"],s_(d));const h=u(n,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],zE(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(n,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function x_(n){const t={},o=u(n,["category"]);if(o!=null&&f(t,["category"],o),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const a=u(n,["threshold"]);return a!=null&&f(t,["threshold"],a),t}function R_(n){const t={},o=u(n,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(n,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],r_(a)),t}function N_(n){const t={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(n,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const s=u(n,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(t,["googleMaps"],p_(d));const h=u(n,["googleSearch"]);h!=null&&f(t,["googleSearch"],h_(h));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var _n;(function(n){n.PAGED_ITEM_BATCH_JOBS="batchJobs",n.PAGED_ITEM_MODELS="models",n.PAGED_ITEM_TUNING_JOBS="tuningJobs",n.PAGED_ITEM_FILES="files",n.PAGED_ITEM_CACHED_CONTENTS="cachedContents",n.PAGED_ITEM_FILE_SEARCH_STORES="fileSearchStores",n.PAGED_ITEM_DOCUMENTS="documents"})(_n||(_n={}));class Si{constructor(t,o,a,s){this.pageInternal=[],this.paramsInternal={},this.requestInternal=o,this.init(t,a,s)}init(t,o,a){var s,c;this.nameInternal=t,this.pageInternal=o[this.nameInternal]||[],this.sdkHttpResponseInternal=o==null?void 0:o.sdkHttpResponse,this.idxInternal=0;let d={config:{}};!a||Object.keys(a).length===0?d={config:{}}:typeof a=="object"?d=Object.assign({},a):d=a,d.config&&(d.config.pageToken=o.nextPageToken),this.paramsInternal=d,this.pageInternalSize=(c=(s=d.config)===null||s===void 0?void 0:s.pageSize)!==null&&c!==void 0?c:this.pageInternal.length}initNextPage(t){this.init(this.nameInternal,t,this.paramsInternal)}get page(){return this.pageInternal}get name(){return this.nameInternal}get pageSize(){return this.pageInternalSize}get sdkHttpResponse(){return this.sdkHttpResponseInternal}get params(){return this.paramsInternal}get pageLength(){return this.pageInternal.length}getItem(t){return this.pageInternal[t]}[Symbol.asyncIterator](){return{next:async()=>{if(this.idxInternal>=this.pageLength)if(this.hasNextPage())await this.nextPage();else return{value:void 0,done:!0};const t=this.getItem(this.idxInternal);return this.idxInternal+=1,{value:t,done:!1}},return:async()=>({value:void 0,done:!0})}}async nextPage(){if(!this.hasNextPage())throw new Error("No more pages to fetch.");const t=await this.requestInternal(this.params);return this.initNextPage(t),this.page}hasNextPage(){var t;return((t=this.params.config)===null||t===void 0?void 0:t.pageToken)!==void 0}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class b_ extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(_n.PAGED_ITEM_BATCH_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.create=async o=>(this.apiClient.isVertexAI()&&(o.config=this.formatDestination(o.src,o.config)),this.createInternal(o)),this.createEmbeddings=async o=>{if(console.warn("batches.createEmbeddings() is experimental and may change without notice."),this.apiClient.isVertexAI())throw new Error("Vertex AI does not support batches.createEmbeddings.");return this.createEmbeddingsInternal(o)}}createInlinedGenerateContentRequest(t){const o=Wm(this.apiClient,t),a=o._url,s=$("{model}:batchGenerateContent",a),h=o.batch.inputConfig.requests,y=h.requests,m=[];for(const v of y){const T=Object.assign({},v);if(T.systemInstruction){const E=T.systemInstruction;delete T.systemInstruction;const C=T.request;C.systemInstruction=E,T.request=C}m.push(T)}return h.requests=m,delete o.config,delete o._url,delete o._query,{path:s,body:o}}getGcsUri(t){if(typeof t=="string")return t.startsWith("gs://")?t:void 0;if(!Array.isArray(t)&&t.gcsUri&&t.gcsUri.length>0)return t.gcsUri[0]}getBigqueryUri(t){if(typeof t=="string")return t.startsWith("bq://")?t:void 0;if(!Array.isArray(t))return t.bigqueryUri}formatDestination(t,o){const a=o?Object.assign({},o):{},s=Date.now().toString();if(a.displayName||(a.displayName=`genaiBatchJob_${s}`),a.dest===void 0){const c=this.getGcsUri(t),d=this.getBigqueryUri(t);if(c)c.endsWith(".jsonl")?a.dest=`${c.slice(0,-6)}/dest`:a.dest=`${c}_dest_${s}`;else if(d)a.dest=`${d}_dest_${s}`;else throw new Error("Unsupported source for Vertex AI: No GCS or BigQuery URI found.")}return a}async createInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=$E(this.apiClient,t);return h=$("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>$u(v))}else{const m=Wm(this.apiClient,t);return h=$("{model}:batchGenerateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Ka(v))}}async createEmbeddingsInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=WE(this.apiClient,t);return c=$("{model}:asyncBatchEmbedContent",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>Ka(y))}}async get(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=d_(this.apiClient,t);return h=$("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>$u(v))}else{const m=f_(this.apiClient,t);return h=$("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Ka(v))}}async cancel(t){var o,a,s,c;let d="",h={};if(this.apiClient.isVertexAI()){const y=JE(this.apiClient,t);d=$("batchPredictionJobs/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}else{const y=FE(this.apiClient,t);d=$("batches/{name}:cancel",y._url),h=y._query,delete y._url,delete y._query,await this.apiClient.request({path:d,queryParams:h,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal})}}async listInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=E_(t);return h=$("batchPredictionJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=C_(v),E=new Xm;return Object.assign(E,T),E})}else{const m=S_(t);return h=$("batches",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=__(v),E=new Xm;return Object.assign(E,T),E})}}async delete(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=e_(this.apiClient,t);return h=$("batchPredictionJobs/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>n_(v))}else{const m=jE(this.apiClient,t);return h=$("batches/{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>t_(v))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function M_(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function jm(n){const t={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>W_(c))),f(t,["parts"],s)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function w_(n,t){const o={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const s=u(n,["expireTime"]);t!==void 0&&s!=null&&f(t,["expireTime"],s);const c=u(n,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(n,["contents"]);if(t!==void 0&&d!=null){let v=qt(d);Array.isArray(v)&&(v=v.map(T=>jm(T))),f(t,["contents"],v)}const h=u(n,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],jm(rt(h)));const y=u(n,["tools"]);if(t!==void 0&&y!=null){let v=y;Array.isArray(v)&&(v=v.map(T=>eC(T))),f(t,["tools"],v)}const m=u(n,["toolConfig"]);if(t!==void 0&&m!=null&&f(t,["toolConfig"],j_(m)),u(n,["kmsKeyName"])!==void 0)throw new Error("kmsKeyName parameter is not supported in Gemini API.");return o}function I_(n,t){const o={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const s=u(n,["expireTime"]);t!==void 0&&s!=null&&f(t,["expireTime"],s);const c=u(n,["displayName"]);t!==void 0&&c!=null&&f(t,["displayName"],c);const d=u(n,["contents"]);if(t!==void 0&&d!=null){let T=qt(d);Array.isArray(T)&&(T=T.map(E=>E)),f(t,["contents"],T)}const h=u(n,["systemInstruction"]);t!==void 0&&h!=null&&f(t,["systemInstruction"],rt(h));const y=u(n,["tools"]);if(t!==void 0&&y!=null){let T=y;Array.isArray(T)&&(T=T.map(E=>tC(E))),f(t,["tools"],T)}const m=u(n,["toolConfig"]);t!==void 0&&m!=null&&f(t,["toolConfig"],m);const v=u(n,["kmsKeyName"]);return t!==void 0&&v!=null&&f(t,["encryption_spec","kmsKeyName"],v),o}function D_(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Og(n,a));const s=u(t,["config"]);return s!=null&&w_(s,o),o}function U_(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["model"],Og(n,a));const s=u(t,["config"]);return s!=null&&I_(s,o),o}function L_(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],xn(n,a)),o}function G_(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],xn(n,a)),o}function H_(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function P_(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function k_(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function V_(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const s=u(n,["name"]);if(s!=null&&f(t,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function q_(n){const t={},o=u(n,["allowedFunctionNames"]);o!=null&&f(t,["allowedFunctionNames"],o);const a=u(n,["mode"]);if(a!=null&&f(t,["mode"],a),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return t}function O_(n){const t={},o=u(n,["description"]);o!=null&&f(t,["description"],o);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const s=u(n,["parameters"]);s!=null&&f(t,["parameters"],s);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(n,["response"]);d!=null&&f(t,["response"],d);const h=u(n,["responseJsonSchema"]);if(h!=null&&f(t,["responseJsonSchema"],h),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function B_(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],xn(n,a)),o}function z_(n,t){const o={},a=u(t,["name"]);return a!=null&&f(o,["_url","name"],xn(n,a)),o}function F_(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function J_(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function Y_(n,t){const o={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=u(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function K_(n,t){const o={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=u(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function X_(n){const t={},o=u(n,["config"]);return o!=null&&Y_(o,t),t}function Q_(n){const t={},o=u(n,["config"]);return o!=null&&K_(o,t),t}function $_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=u(n,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function Z_(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=u(n,["cachedContents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["cachedContents"],c)}return t}function W_(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const s=u(n,["executableCode"]);s!=null&&f(t,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],k_(c));const d=u(n,["functionCall"]);d!=null&&f(t,["functionCall"],V_(d));const h=u(n,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],M_(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(n,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function j_(n){const t={},o=u(n,["retrievalConfig"]);o!=null&&f(t,["retrievalConfig"],o);const a=u(n,["functionCallingConfig"]);return a!=null&&f(t,["functionCallingConfig"],q_(a)),t}function eC(n){const t={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(n,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const s=u(n,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(t,["googleMaps"],F_(d));const h=u(n,["googleSearch"]);h!=null&&f(t,["googleSearch"],J_(h));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function tC(n){const t={},o=u(n,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(n,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(n,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const c=u(n,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const d=u(n,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>O_(E))),f(t,["functionDeclarations"],T)}const h=u(n,["googleMaps"]);h!=null&&f(t,["googleMaps"],h);const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const m=u(n,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],m);const v=u(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function nC(n,t){const o={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const s=u(n,["expireTime"]);return t!==void 0&&s!=null&&f(t,["expireTime"],s),o}function iC(n,t){const o={},a=u(n,["ttl"]);t!==void 0&&a!=null&&f(t,["ttl"],a);const s=u(n,["expireTime"]);return t!==void 0&&s!=null&&f(t,["expireTime"],s),o}function oC(n,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],xn(n,a));const s=u(t,["config"]);return s!=null&&nC(s,o),o}function lC(n,t){const o={},a=u(t,["name"]);a!=null&&f(o,["_url","name"],xn(n,a));const s=u(t,["config"]);return s!=null&&iC(s,o),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class aC extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(_n.PAGED_ITEM_CACHED_CONTENTS,a=>this.listInternal(a),await this.listInternal(o),o)}async create(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=U_(this.apiClient,t);return h=$("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=D_(this.apiClient,t);return h=$("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async get(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=z_(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=B_(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async delete(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=G_(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=P_(v),E=new Ym;return Object.assign(E,T),E})}else{const m=L_(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=H_(v),E=new Ym;return Object.assign(E,T),E})}}async update(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=lC(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>v)}else{const m=oC(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>v)}}async listInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=Q_(t);return h=$("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=Z_(v),E=new Km;return Object.assign(E,T),E})}else{const m=X_(t);return h=$("cachedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=$_(v),E=new Km;return Object.assign(E,T),E})}}}function ja(n,t){var o={};for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&t.indexOf(a)<0&&(o[a]=n[a]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(n);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(n,a[s])&&(o[a[s]]=n[a[s]]);return o}function eg(n){var t=typeof Symbol=="function"&&Symbol.iterator,o=t&&n[t],a=0;if(o)return o.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&a>=n.length&&(n=void 0),{value:n&&n[a++],done:!n}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function se(n){return this instanceof se?(this.v=n,this):new se(n)}function Yt(n,t,o){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var a=o.apply(n,t||[]),s,c=[];return s=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),h("next"),h("throw"),h("return",d),s[Symbol.asyncIterator]=function(){return this},s;function d(C){return function(R){return Promise.resolve(R).then(C,T)}}function h(C,R){a[C]&&(s[C]=function(N){return new Promise(function(b,G){c.push([C,N,b,G])>1||y(C,N)})},R&&(s[C]=R(s[C])))}function y(C,R){try{m(a[C](R))}catch(N){E(c[0][3],N)}}function m(C){C.value instanceof se?Promise.resolve(C.value.v).then(v,T):E(c[0][2],C)}function v(C){y("next",C)}function T(C){y("throw",C)}function E(C,R){C(R),c.shift(),c.length&&y(c[0][0],c[0][1])}}function Kt(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=n[Symbol.asyncIterator],o;return t?t.call(n):(n=typeof eg=="function"?eg(n):n[Symbol.iterator](),o={},a("next"),a("throw"),a("return"),o[Symbol.asyncIterator]=function(){return this},o);function a(c){o[c]=n[c]&&function(d){return new Promise(function(h,y){d=n[c](d),s(h,y,d.done,d.value)})}}function s(c,d,h,y){Promise.resolve(y).then(function(m){c({value:m,done:h})},d)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function sC(n){var t;if(n.candidates==null||n.candidates.length===0)return!1;const o=(t=n.candidates[0])===null||t===void 0?void 0:t.content;return o===void 0?!1:ey(o)}function ey(n){if(n.parts===void 0||n.parts.length===0)return!1;for(const t of n.parts)if(t===void 0||Object.keys(t).length===0)return!1;return!0}function rC(n){if(n.length!==0){for(const t of n)if(t.role!=="user"&&t.role!=="model")throw new Error(`Role must be user or model, but got ${t.role}.`)}}function tg(n){if(n===void 0||n.length===0)return[];const t=[],o=n.length;let a=0;for(;a<o;)if(n[a].role==="user")t.push(n[a]),a++;else{const s=[];let c=!0;for(;a<o&&n[a].role==="model";)s.push(n[a]),c&&!ey(n[a])&&(c=!1),a++;c?t.push(...s):t.pop()}return t}class uC{constructor(t,o){this.modelsModule=t,this.apiClient=o}create(t){return new cC(this.apiClient,this.modelsModule,t.model,t.config,structuredClone(t.history))}}class cC{constructor(t,o,a,s={},c=[]){this.apiClient=t,this.modelsModule=o,this.model=a,this.config=s,this.history=c,this.sendPromise=Promise.resolve(),rC(c)}async sendMessage(t){var o;await this.sendPromise;const a=rt(t.message),s=this.modelsModule.generateContent({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});return this.sendPromise=(async()=>{var c,d,h;const y=await s,m=(d=(c=y.candidates)===null||c===void 0?void 0:c[0])===null||d===void 0?void 0:d.content,v=y.automaticFunctionCallingHistory,T=this.getHistory(!0).length;let E=[];v!=null&&(E=(h=v.slice(T))!==null&&h!==void 0?h:[]);const C=m?[m]:[];this.recordHistory(a,C,E)})(),await this.sendPromise.catch(()=>{this.sendPromise=Promise.resolve()}),s}async sendMessageStream(t){var o;await this.sendPromise;const a=rt(t.message),s=this.modelsModule.generateContentStream({model:this.model,contents:this.getHistory(!0).concat(a),config:(o=t.config)!==null&&o!==void 0?o:this.config});this.sendPromise=s.then(()=>{}).catch(()=>{});const c=await s;return this.processStreamResponse(c,a)}getHistory(t=!1){const o=t?tg(this.history):this.history;return structuredClone(o)}processStreamResponse(t,o){return Yt(this,arguments,function*(){var s,c,d,h,y,m;const v=[];try{for(var T=!0,E=Kt(t),C;C=yield se(E.next()),s=C.done,!s;T=!0){h=C.value,T=!1;const R=h;if(sC(R)){const N=(m=(y=R.candidates)===null||y===void 0?void 0:y[0])===null||m===void 0?void 0:m.content;N!==void 0&&v.push(N)}yield yield se(R)}}catch(R){c={error:R}}finally{try{!T&&!s&&(d=E.return)&&(yield se(d.call(E)))}finally{if(c)throw c.error}}this.recordHistory(o,v)})}recordHistory(t,o,a){let s=[];o.length>0&&o.every(c=>c.role!==void 0)?s=o:s.push({role:"model",parts:[]}),a&&a.length>0?this.history.push(...tg(a)):this.history.push(t),this.history.push(...s)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class vl extends Error{constructor(t){super(t.message),this.name="ApiError",this.status=t.status,Object.setPrototypeOf(this,vl.prototype)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function fC(n){const t={},o=u(n,["file"]);return o!=null&&f(t,["file"],o),t}function dC(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function pC(n){const t={},o=u(n,["name"]);return o!=null&&f(t,["_url","file"],Kg(o)),t}function hC(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}function mC(n){const t={},o=u(n,["name"]);return o!=null&&f(t,["_url","file"],Kg(o)),t}function gC(n){const t={},o=u(n,["uris"]);return o!=null&&f(t,["uris"],o),t}function yC(n,t){const o={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=u(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function vC(n){const t={},o=u(n,["config"]);return o!=null&&yC(o,t),t}function TC(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=u(n,["files"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["files"],c)}return t}function SC(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["files"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),f(t,["files"],s)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class EC extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(_n.PAGED_ITEM_FILES,a=>this.listInternal(a),await this.listInternal(o),o)}async upload(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files. You can share files through a GCS bucket.");return this.apiClient.uploadFile(t.file,t.config).then(o=>o)}async download(t){await this.apiClient.downloadFile(t)}async registerFiles(t){throw new Error("registerFiles is only supported in Node.js environments.")}async _registerFiles(t){return this.registerFilesInternal(t)}async listInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=vC(t);return c=$("files",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=TC(y),v=new _E;return Object.assign(v,m),v})}}async createInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=fC(t);return c=$("upload/v1beta/files",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=dC(y),v=new CE;return Object.assign(v,m),v})}}async get(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=mC(t);return c=$("files/{file}",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=pC(t);return c=$("files/{file}",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=hC(y),v=new AE;return Object.assign(v,m),v})}}async registerFilesInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=gC(t);return c=$("files:register",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=SC(y),v=new xE;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Xa(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function _C(n){const t={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>kC(c))),f(t,["parts"],s)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function CC(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function AC(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const s=u(n,["name"]);if(s!=null&&f(t,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function xC(n){const t={},o=u(n,["description"]);o!=null&&f(t,["description"],o);const a=u(n,["name"]);a!=null&&f(t,["name"],a);const s=u(n,["parameters"]);s!=null&&f(t,["parameters"],s);const c=u(n,["parametersJsonSchema"]);c!=null&&f(t,["parametersJsonSchema"],c);const d=u(n,["response"]);d!=null&&f(t,["response"],d);const h=u(n,["responseJsonSchema"]);if(h!=null&&f(t,["responseJsonSchema"],h),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return t}function RC(n){const t={},o=u(n,["modelSelectionConfig"]);o!=null&&f(t,["modelConfig"],o);const a=u(n,["responseJsonSchema"]);a!=null&&f(t,["responseJsonSchema"],a);const s=u(n,["audioTimestamp"]);s!=null&&f(t,["audioTimestamp"],s);const c=u(n,["candidateCount"]);c!=null&&f(t,["candidateCount"],c);const d=u(n,["enableAffectiveDialog"]);d!=null&&f(t,["enableAffectiveDialog"],d);const h=u(n,["frequencyPenalty"]);h!=null&&f(t,["frequencyPenalty"],h);const y=u(n,["logprobs"]);y!=null&&f(t,["logprobs"],y);const m=u(n,["maxOutputTokens"]);m!=null&&f(t,["maxOutputTokens"],m);const v=u(n,["mediaResolution"]);v!=null&&f(t,["mediaResolution"],v);const T=u(n,["presencePenalty"]);T!=null&&f(t,["presencePenalty"],T);const E=u(n,["responseLogprobs"]);E!=null&&f(t,["responseLogprobs"],E);const C=u(n,["responseMimeType"]);C!=null&&f(t,["responseMimeType"],C);const R=u(n,["responseModalities"]);R!=null&&f(t,["responseModalities"],R);const N=u(n,["responseSchema"]);N!=null&&f(t,["responseSchema"],N);const b=u(n,["routingConfig"]);b!=null&&f(t,["routingConfig"],b);const G=u(n,["seed"]);G!=null&&f(t,["seed"],G);const I=u(n,["speechConfig"]);I!=null&&f(t,["speechConfig"],I);const D=u(n,["stopSequences"]);D!=null&&f(t,["stopSequences"],D);const J=u(n,["temperature"]);J!=null&&f(t,["temperature"],J);const V=u(n,["thinkingConfig"]);V!=null&&f(t,["thinkingConfig"],V);const Z=u(n,["topK"]);Z!=null&&f(t,["topK"],Z);const K=u(n,["topP"]);if(K!=null&&f(t,["topP"],K),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return t}function NC(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function bC(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function MC(n,t){const o={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const s=u(n,["responseModalities"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(n,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const T=u(n,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],vc(T));const E=u(n,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=u(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],_C(rt(R)));const N=u(n,["tools"]);if(t!==void 0&&N!=null){let Z=mo(N);Array.isArray(Z)&&(Z=Z.map(K=>qC(ho(K)))),f(t,["setup","tools"],Z)}const b=u(n,["sessionResumption"]);t!==void 0&&b!=null&&f(t,["setup","sessionResumption"],VC(b));const G=u(n,["inputAudioTranscription"]);t!==void 0&&G!=null&&f(t,["setup","inputAudioTranscription"],G);const I=u(n,["outputAudioTranscription"]);t!==void 0&&I!=null&&f(t,["setup","outputAudioTranscription"],I);const D=u(n,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const J=u(n,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],J);const V=u(n,["proactivity"]);if(t!==void 0&&V!=null&&f(t,["setup","proactivity"],V),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function wC(n,t){const o={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],RC(a));const s=u(n,["responseModalities"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(n,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const T=u(n,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],vc(T));const E=u(n,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=u(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],rt(R));const N=u(n,["tools"]);if(t!==void 0&&N!=null){let K=mo(N);Array.isArray(K)&&(K=K.map(te=>OC(ho(te)))),f(t,["setup","tools"],K)}const b=u(n,["sessionResumption"]);t!==void 0&&b!=null&&f(t,["setup","sessionResumption"],b);const G=u(n,["inputAudioTranscription"]);t!==void 0&&G!=null&&f(t,["setup","inputAudioTranscription"],G);const I=u(n,["outputAudioTranscription"]);t!==void 0&&I!=null&&f(t,["setup","outputAudioTranscription"],I);const D=u(n,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const J=u(n,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],J);const V=u(n,["proactivity"]);t!==void 0&&V!=null&&f(t,["setup","proactivity"],V);const Z=u(n,["explicitVadSignal"]);return t!==void 0&&Z!=null&&f(t,["setup","explicitVadSignal"],Z),o}function IC(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Ee(n,a));const s=u(t,["config"]);return s!=null&&f(o,["config"],MC(s,o)),o}function DC(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Ee(n,a));const s=u(t,["config"]);return s!=null&&f(o,["config"],wC(s,o)),o}function UC(n){const t={},o=u(n,["musicGenerationConfig"]);return o!=null&&f(t,["musicGenerationConfig"],o),t}function LC(n){const t={},o=u(n,["weightedPrompts"]);if(o!=null){let a=o;Array.isArray(a)&&(a=a.map(s=>s)),f(t,["weightedPrompts"],a)}return t}function GC(n){const t={},o=u(n,["media"]);if(o!=null){let m=Bg(o);Array.isArray(m)&&(m=m.map(v=>Xa(v))),f(t,["mediaChunks"],m)}const a=u(n,["audio"]);a!=null&&f(t,["audio"],Xa(Fg(a)));const s=u(n,["audioStreamEnd"]);s!=null&&f(t,["audioStreamEnd"],s);const c=u(n,["video"]);c!=null&&f(t,["video"],Xa(zg(c)));const d=u(n,["text"]);d!=null&&f(t,["text"],d);const h=u(n,["activityStart"]);h!=null&&f(t,["activityStart"],h);const y=u(n,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function HC(n){const t={},o=u(n,["media"]);if(o!=null){let m=Bg(o);Array.isArray(m)&&(m=m.map(v=>v)),f(t,["mediaChunks"],m)}const a=u(n,["audio"]);a!=null&&f(t,["audio"],Fg(a));const s=u(n,["audioStreamEnd"]);s!=null&&f(t,["audioStreamEnd"],s);const c=u(n,["video"]);c!=null&&f(t,["video"],zg(c));const d=u(n,["text"]);d!=null&&f(t,["text"],d);const h=u(n,["activityStart"]);h!=null&&f(t,["activityStart"],h);const y=u(n,["activityEnd"]);return y!=null&&f(t,["activityEnd"],y),t}function PC(n){const t={},o=u(n,["setupComplete"]);o!=null&&f(t,["setupComplete"],o);const a=u(n,["serverContent"]);a!=null&&f(t,["serverContent"],a);const s=u(n,["toolCall"]);s!=null&&f(t,["toolCall"],s);const c=u(n,["toolCallCancellation"]);c!=null&&f(t,["toolCallCancellation"],c);const d=u(n,["usageMetadata"]);d!=null&&f(t,["usageMetadata"],BC(d));const h=u(n,["goAway"]);h!=null&&f(t,["goAway"],h);const y=u(n,["sessionResumptionUpdate"]);y!=null&&f(t,["sessionResumptionUpdate"],y);const m=u(n,["voiceActivityDetectionSignal"]);m!=null&&f(t,["voiceActivityDetectionSignal"],m);const v=u(n,["voiceActivity"]);return v!=null&&f(t,["voiceActivity"],zC(v)),t}function kC(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const s=u(n,["executableCode"]);s!=null&&f(t,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],CC(c));const d=u(n,["functionCall"]);d!=null&&f(t,["functionCall"],AC(d));const h=u(n,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],Xa(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(n,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function VC(n){const t={},o=u(n,["handle"]);if(o!=null&&f(t,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function qC(n){const t={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(n,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const s=u(n,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(t,["googleMaps"],NC(d));const h=u(n,["googleSearch"]);h!=null&&f(t,["googleSearch"],bC(h));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}function OC(n){const t={},o=u(n,["retrieval"]);o!=null&&f(t,["retrieval"],o);const a=u(n,["computerUse"]);if(a!=null&&f(t,["computerUse"],a),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const s=u(n,["codeExecution"]);s!=null&&f(t,["codeExecution"],s);const c=u(n,["enterpriseWebSearch"]);c!=null&&f(t,["enterpriseWebSearch"],c);const d=u(n,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>xC(E))),f(t,["functionDeclarations"],T)}const h=u(n,["googleMaps"]);h!=null&&f(t,["googleMaps"],h);const y=u(n,["googleSearch"]);y!=null&&f(t,["googleSearch"],y);const m=u(n,["googleSearchRetrieval"]);m!=null&&f(t,["googleSearchRetrieval"],m);const v=u(n,["urlContext"]);return v!=null&&f(t,["urlContext"],v),t}function BC(n){const t={},o=u(n,["promptTokenCount"]);o!=null&&f(t,["promptTokenCount"],o);const a=u(n,["cachedContentTokenCount"]);a!=null&&f(t,["cachedContentTokenCount"],a);const s=u(n,["candidatesTokenCount"]);s!=null&&f(t,["responseTokenCount"],s);const c=u(n,["toolUsePromptTokenCount"]);c!=null&&f(t,["toolUsePromptTokenCount"],c);const d=u(n,["thoughtsTokenCount"]);d!=null&&f(t,["thoughtsTokenCount"],d);const h=u(n,["totalTokenCount"]);h!=null&&f(t,["totalTokenCount"],h);const y=u(n,["promptTokensDetails"]);if(y!=null){let C=y;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["promptTokensDetails"],C)}const m=u(n,["cacheTokensDetails"]);if(m!=null){let C=m;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["cacheTokensDetails"],C)}const v=u(n,["candidatesTokensDetails"]);if(v!=null){let C=v;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["responseTokensDetails"],C)}const T=u(n,["toolUsePromptTokensDetails"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(R=>R)),f(t,["toolUsePromptTokensDetails"],C)}const E=u(n,["trafficType"]);return E!=null&&f(t,["trafficType"],E),t}function zC(n){const t={},o=u(n,["type"]);return o!=null&&f(t,["voiceActivityType"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function FC(n,t){const o={},a=u(n,["data"]);if(a!=null&&f(o,["data"],a),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const s=u(n,["mimeType"]);return s!=null&&f(o,["mimeType"],s),o}function JC(n,t){const o={},a=u(n,["content"]);a!=null&&f(o,["content"],a);const s=u(n,["citationMetadata"]);s!=null&&f(o,["citationMetadata"],YC(s));const c=u(n,["tokenCount"]);c!=null&&f(o,["tokenCount"],c);const d=u(n,["finishReason"]);d!=null&&f(o,["finishReason"],d);const h=u(n,["avgLogprobs"]);h!=null&&f(o,["avgLogprobs"],h);const y=u(n,["groundingMetadata"]);y!=null&&f(o,["groundingMetadata"],y);const m=u(n,["index"]);m!=null&&f(o,["index"],m);const v=u(n,["logprobsResult"]);v!=null&&f(o,["logprobsResult"],v);const T=u(n,["safetyRatings"]);if(T!=null){let C=T;Array.isArray(C)&&(C=C.map(R=>R)),f(o,["safetyRatings"],C)}const E=u(n,["urlContextMetadata"]);return E!=null&&f(o,["urlContextMetadata"],E),o}function YC(n,t){const o={},a=u(n,["citationSources"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),f(o,["citations"],s)}return o}function KC(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["contents"]);if(c!=null){let d=qt(c);Array.isArray(d)&&(d=d.map(h=>h)),f(a,["contents"],d)}return a}function XC(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["tokensInfo"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(o,["tokensInfo"],c)}return o}function QC(n,t){const o={},a=u(n,["values"]);a!=null&&f(o,["values"],a);const s=u(n,["statistics"]);return s!=null&&f(o,["statistics"],$C(s)),o}function $C(n,t){const o={},a=u(n,["truncated"]);a!=null&&f(o,["truncated"],a);const s=u(n,["token_count"]);return s!=null&&f(o,["tokenCount"],s),o}function as(n,t){const o={},a=u(n,["parts"]);if(a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>lx(d))),f(o,["parts"],c)}const s=u(n,["role"]);return s!=null&&f(o,["role"],s),o}function ZC(n,t){const o={},a=u(n,["controlType"]);a!=null&&f(o,["controlType"],a);const s=u(n,["enableControlImageComputation"]);return s!=null&&f(o,["computeControl"],s),o}function WC(n,t){const o={};if(u(n,["systemInstruction"])!==void 0)throw new Error("systemInstruction parameter is not supported in Gemini API.");if(u(n,["tools"])!==void 0)throw new Error("tools parameter is not supported in Gemini API.");if(u(n,["generationConfig"])!==void 0)throw new Error("generationConfig parameter is not supported in Gemini API.");return o}function jC(n,t,o){const a={},s=u(n,["systemInstruction"]);t!==void 0&&s!=null&&f(t,["systemInstruction"],rt(s));const c=u(n,["tools"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>oy(y))),f(t,["tools"],h)}const d=u(n,["generationConfig"]);return t!==void 0&&d!=null&&f(t,["generationConfig"],FA(d)),a}function eA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["contents"]);if(c!=null){let h=qt(c);Array.isArray(h)&&(h=h.map(y=>as(y))),f(a,["contents"],h)}const d=u(t,["config"]);return d!=null&&WC(d),a}function tA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["contents"]);if(c!=null){let h=qt(c);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["contents"],h)}const d=u(t,["config"]);return d!=null&&jC(d,a),a}function nA(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["totalTokens"]);s!=null&&f(o,["totalTokens"],s);const c=u(n,["cachedContentTokenCount"]);return c!=null&&f(o,["cachedContentTokenCount"],c),o}function iA(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["totalTokens"]);return s!=null&&f(o,["totalTokens"],s),o}function oA(n,t,o){const a={},s=u(t,["model"]);return s!=null&&f(a,["_url","name"],Ee(n,s)),a}function lA(n,t,o){const a={},s=u(t,["model"]);return s!=null&&f(a,["_url","name"],Ee(n,s)),a}function aA(n,t){const o={},a=u(n,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function sA(n,t){const o={},a=u(n,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function rA(n,t,o){const a={},s=u(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const c=u(n,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const d=u(n,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const h=u(n,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=u(n,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const m=u(n,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const v=u(n,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const T=u(n,["personGeneration"]);t!==void 0&&T!=null&&f(t,["parameters","personGeneration"],T);const E=u(n,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const C=u(n,["includeRaiReason"]);t!==void 0&&C!=null&&f(t,["parameters","includeRaiReason"],C);const R=u(n,["language"]);t!==void 0&&R!=null&&f(t,["parameters","language"],R);const N=u(n,["outputMimeType"]);t!==void 0&&N!=null&&f(t,["parameters","outputOptions","mimeType"],N);const b=u(n,["outputCompressionQuality"]);t!==void 0&&b!=null&&f(t,["parameters","outputOptions","compressionQuality"],b);const G=u(n,["addWatermark"]);t!==void 0&&G!=null&&f(t,["parameters","addWatermark"],G);const I=u(n,["labels"]);t!==void 0&&I!=null&&f(t,["labels"],I);const D=u(n,["editMode"]);t!==void 0&&D!=null&&f(t,["parameters","editMode"],D);const J=u(n,["baseSteps"]);return t!==void 0&&J!=null&&f(t,["parameters","editConfig","baseSteps"],J),a}function uA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const d=u(t,["referenceImages"]);if(d!=null){let y=d;Array.isArray(y)&&(y=y.map(m=>fx(m))),f(a,["instances[0]","referenceImages"],y)}const h=u(t,["config"]);return h!=null&&rA(h,a),a}function cA(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>ss(d))),f(o,["generatedImages"],c)}return o}function fA(n,t,o){const a={},s=u(n,["taskType"]);t!==void 0&&s!=null&&f(t,["requests[]","taskType"],s);const c=u(n,["title"]);t!==void 0&&c!=null&&f(t,["requests[]","title"],c);const d=u(n,["outputDimensionality"]);if(t!==void 0&&d!=null&&f(t,["requests[]","outputDimensionality"],d),u(n,["mimeType"])!==void 0)throw new Error("mimeType parameter is not supported in Gemini API.");if(u(n,["autoTruncate"])!==void 0)throw new Error("autoTruncate parameter is not supported in Gemini API.");return a}function dA(n,t,o){const a={},s=u(n,["taskType"]);t!==void 0&&s!=null&&f(t,["instances[]","task_type"],s);const c=u(n,["title"]);t!==void 0&&c!=null&&f(t,["instances[]","title"],c);const d=u(n,["outputDimensionality"]);t!==void 0&&d!=null&&f(t,["parameters","outputDimensionality"],d);const h=u(n,["mimeType"]);t!==void 0&&h!=null&&f(t,["instances[]","mimeType"],h);const y=u(n,["autoTruncate"]);return t!==void 0&&y!=null&&f(t,["parameters","autoTruncate"],y),a}function pA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["contents"]);if(c!=null){let y=mc(n,c);Array.isArray(y)&&(y=y.map(m=>m)),f(a,["requests[]","content"],y)}const d=u(t,["config"]);d!=null&&fA(d,a);const h=u(t,["model"]);return h!==void 0&&f(a,["requests[]","model"],Ee(n,h)),a}function hA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["contents"]);if(c!=null){let h=mc(n,c);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["instances[]","content"],h)}const d=u(t,["config"]);return d!=null&&dA(d,a),a}function mA(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>h)),f(o,["embeddings"],d)}const c=u(n,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function gA(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["predictions[]","embeddings"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>QC(h))),f(o,["embeddings"],d)}const c=u(n,["metadata"]);return c!=null&&f(o,["metadata"],c),o}function yA(n,t){const o={},a=u(n,["endpoint"]);a!=null&&f(o,["name"],a);const s=u(n,["deployedModelId"]);return s!=null&&f(o,["deployedModelId"],s),o}function vA(n,t){const o={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["fileUri"]);a!=null&&f(o,["fileUri"],a);const s=u(n,["mimeType"]);return s!=null&&f(o,["mimeType"],s),o}function TA(n,t){const o={},a=u(n,["id"]);a!=null&&f(o,["id"],a);const s=u(n,["args"]);s!=null&&f(o,["args"],s);const c=u(n,["name"]);if(c!=null&&f(o,["name"],c),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return o}function SA(n,t){const o={},a=u(n,["allowedFunctionNames"]);a!=null&&f(o,["allowedFunctionNames"],a);const s=u(n,["mode"]);if(s!=null&&f(o,["mode"],s),u(n,["streamFunctionCallArguments"])!==void 0)throw new Error("streamFunctionCallArguments parameter is not supported in Gemini API.");return o}function EA(n,t){const o={},a=u(n,["description"]);a!=null&&f(o,["description"],a);const s=u(n,["name"]);s!=null&&f(o,["name"],s);const c=u(n,["parameters"]);c!=null&&f(o,["parameters"],c);const d=u(n,["parametersJsonSchema"]);d!=null&&f(o,["parametersJsonSchema"],d);const h=u(n,["response"]);h!=null&&f(o,["response"],h);const y=u(n,["responseJsonSchema"]);if(y!=null&&f(o,["responseJsonSchema"],y),u(n,["behavior"])!==void 0)throw new Error("behavior parameter is not supported in Vertex AI.");return o}function _A(n,t,o,a){const s={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],as(rt(c)));const d=u(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const y=u(t,["topK"]);y!=null&&f(s,["topK"],y);const m=u(t,["candidateCount"]);m!=null&&f(s,["candidateCount"],m);const v=u(t,["maxOutputTokens"]);v!=null&&f(s,["maxOutputTokens"],v);const T=u(t,["stopSequences"]);T!=null&&f(s,["stopSequences"],T);const E=u(t,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&f(s,["logprobs"],C);const R=u(t,["presencePenalty"]);R!=null&&f(s,["presencePenalty"],R);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const b=u(t,["seed"]);b!=null&&f(s,["seed"],b);const G=u(t,["responseMimeType"]);G!=null&&f(s,["responseMimeType"],G);const I=u(t,["responseSchema"]);I!=null&&f(s,["responseSchema"],gc(I));const D=u(t,["responseJsonSchema"]);if(D!=null&&f(s,["responseJsonSchema"],D),u(t,["routingConfig"])!==void 0)throw new Error("routingConfig parameter is not supported in Gemini API.");if(u(t,["modelSelectionConfig"])!==void 0)throw new Error("modelSelectionConfig parameter is not supported in Gemini API.");const J=u(t,["safetySettings"]);if(o!==void 0&&J!=null){let Ue=J;Array.isArray(Ue)&&(Ue=Ue.map(We=>dx(We))),f(o,["safetySettings"],Ue)}const V=u(t,["tools"]);if(o!==void 0&&V!=null){let Ue=mo(V);Array.isArray(Ue)&&(Ue=Ue.map(We=>Tx(ho(We)))),f(o,["tools"],Ue)}const Z=u(t,["toolConfig"]);if(o!==void 0&&Z!=null&&f(o,["toolConfig"],vx(Z)),u(t,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const K=u(t,["cachedContent"]);o!==void 0&&K!=null&&f(o,["cachedContent"],xn(n,K));const te=u(t,["responseModalities"]);te!=null&&f(s,["responseModalities"],te);const Q=u(t,["mediaResolution"]);Q!=null&&f(s,["mediaResolution"],Q);const ae=u(t,["speechConfig"]);if(ae!=null&&f(s,["speechConfig"],yc(ae)),u(t,["audioTimestamp"])!==void 0)throw new Error("audioTimestamp parameter is not supported in Gemini API.");const _e=u(t,["thinkingConfig"]);_e!=null&&f(s,["thinkingConfig"],_e);const Ne=u(t,["imageConfig"]);Ne!=null&&f(s,["imageConfig"],QA(Ne));const ke=u(t,["enableEnhancedCivicAnswers"]);if(ke!=null&&f(s,["enableEnhancedCivicAnswers"],ke),u(t,["modelArmorConfig"])!==void 0)throw new Error("modelArmorConfig parameter is not supported in Gemini API.");return s}function CA(n,t,o,a){const s={},c=u(t,["systemInstruction"]);o!==void 0&&c!=null&&f(o,["systemInstruction"],rt(c));const d=u(t,["temperature"]);d!=null&&f(s,["temperature"],d);const h=u(t,["topP"]);h!=null&&f(s,["topP"],h);const y=u(t,["topK"]);y!=null&&f(s,["topK"],y);const m=u(t,["candidateCount"]);m!=null&&f(s,["candidateCount"],m);const v=u(t,["maxOutputTokens"]);v!=null&&f(s,["maxOutputTokens"],v);const T=u(t,["stopSequences"]);T!=null&&f(s,["stopSequences"],T);const E=u(t,["responseLogprobs"]);E!=null&&f(s,["responseLogprobs"],E);const C=u(t,["logprobs"]);C!=null&&f(s,["logprobs"],C);const R=u(t,["presencePenalty"]);R!=null&&f(s,["presencePenalty"],R);const N=u(t,["frequencyPenalty"]);N!=null&&f(s,["frequencyPenalty"],N);const b=u(t,["seed"]);b!=null&&f(s,["seed"],b);const G=u(t,["responseMimeType"]);G!=null&&f(s,["responseMimeType"],G);const I=u(t,["responseSchema"]);I!=null&&f(s,["responseSchema"],gc(I));const D=u(t,["responseJsonSchema"]);D!=null&&f(s,["responseJsonSchema"],D);const J=u(t,["routingConfig"]);J!=null&&f(s,["routingConfig"],J);const V=u(t,["modelSelectionConfig"]);V!=null&&f(s,["modelConfig"],V);const Z=u(t,["safetySettings"]);if(o!==void 0&&Z!=null){let ie=Z;Array.isArray(ie)&&(ie=ie.map(ve=>ve)),f(o,["safetySettings"],ie)}const K=u(t,["tools"]);if(o!==void 0&&K!=null){let ie=mo(K);Array.isArray(ie)&&(ie=ie.map(ve=>oy(ho(ve)))),f(o,["tools"],ie)}const te=u(t,["toolConfig"]);o!==void 0&&te!=null&&f(o,["toolConfig"],te);const Q=u(t,["labels"]);o!==void 0&&Q!=null&&f(o,["labels"],Q);const ae=u(t,["cachedContent"]);o!==void 0&&ae!=null&&f(o,["cachedContent"],xn(n,ae));const _e=u(t,["responseModalities"]);_e!=null&&f(s,["responseModalities"],_e);const Ne=u(t,["mediaResolution"]);Ne!=null&&f(s,["mediaResolution"],Ne);const ke=u(t,["speechConfig"]);ke!=null&&f(s,["speechConfig"],yc(ke));const Ue=u(t,["audioTimestamp"]);Ue!=null&&f(s,["audioTimestamp"],Ue);const We=u(t,["thinkingConfig"]);We!=null&&f(s,["thinkingConfig"],We);const B=u(t,["imageConfig"]);if(B!=null&&f(s,["imageConfig"],$A(B)),u(t,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");const X=u(t,["modelArmorConfig"]);return o!==void 0&&X!=null&&f(o,["modelArmorConfig"],X),s}function ng(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["contents"]);if(c!=null){let h=qt(c);Array.isArray(h)&&(h=h.map(y=>as(y))),f(a,["contents"],h)}const d=u(t,["config"]);return d!=null&&f(a,["generationConfig"],_A(n,d,a)),a}function ig(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["contents"]);if(c!=null){let h=qt(c);Array.isArray(h)&&(h=h.map(y=>y)),f(a,["contents"],h)}const d=u(t,["config"]);return d!=null&&f(a,["generationConfig"],CA(n,d,a)),a}function og(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["candidates"]);if(s!=null){let m=s;Array.isArray(m)&&(m=m.map(v=>JC(v))),f(o,["candidates"],m)}const c=u(n,["modelVersion"]);c!=null&&f(o,["modelVersion"],c);const d=u(n,["promptFeedback"]);d!=null&&f(o,["promptFeedback"],d);const h=u(n,["responseId"]);h!=null&&f(o,["responseId"],h);const y=u(n,["usageMetadata"]);return y!=null&&f(o,["usageMetadata"],y),o}function lg(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["candidates"]);if(s!=null){let v=s;Array.isArray(v)&&(v=v.map(T=>T)),f(o,["candidates"],v)}const c=u(n,["createTime"]);c!=null&&f(o,["createTime"],c);const d=u(n,["modelVersion"]);d!=null&&f(o,["modelVersion"],d);const h=u(n,["promptFeedback"]);h!=null&&f(o,["promptFeedback"],h);const y=u(n,["responseId"]);y!=null&&f(o,["responseId"],y);const m=u(n,["usageMetadata"]);return m!=null&&f(o,["usageMetadata"],m),o}function AA(n,t,o){const a={};if(u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["negativePrompt"])!==void 0)throw new Error("negativePrompt parameter is not supported in Gemini API.");const s=u(n,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const c=u(n,["aspectRatio"]);t!==void 0&&c!=null&&f(t,["parameters","aspectRatio"],c);const d=u(n,["guidanceScale"]);if(t!==void 0&&d!=null&&f(t,["parameters","guidanceScale"],d),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const h=u(n,["safetyFilterLevel"]);t!==void 0&&h!=null&&f(t,["parameters","safetySetting"],h);const y=u(n,["personGeneration"]);t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y);const m=u(n,["includeSafetyAttributes"]);t!==void 0&&m!=null&&f(t,["parameters","includeSafetyAttributes"],m);const v=u(n,["includeRaiReason"]);t!==void 0&&v!=null&&f(t,["parameters","includeRaiReason"],v);const T=u(n,["language"]);t!==void 0&&T!=null&&f(t,["parameters","language"],T);const E=u(n,["outputMimeType"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","mimeType"],E);const C=u(n,["outputCompressionQuality"]);if(t!==void 0&&C!=null&&f(t,["parameters","outputOptions","compressionQuality"],C),u(n,["addWatermark"])!==void 0)throw new Error("addWatermark parameter is not supported in Gemini API.");if(u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");const R=u(n,["imageSize"]);if(t!==void 0&&R!=null&&f(t,["parameters","sampleImageSize"],R),u(n,["enhancePrompt"])!==void 0)throw new Error("enhancePrompt parameter is not supported in Gemini API.");return a}function xA(n,t,o){const a={},s=u(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const c=u(n,["negativePrompt"]);t!==void 0&&c!=null&&f(t,["parameters","negativePrompt"],c);const d=u(n,["numberOfImages"]);t!==void 0&&d!=null&&f(t,["parameters","sampleCount"],d);const h=u(n,["aspectRatio"]);t!==void 0&&h!=null&&f(t,["parameters","aspectRatio"],h);const y=u(n,["guidanceScale"]);t!==void 0&&y!=null&&f(t,["parameters","guidanceScale"],y);const m=u(n,["seed"]);t!==void 0&&m!=null&&f(t,["parameters","seed"],m);const v=u(n,["safetyFilterLevel"]);t!==void 0&&v!=null&&f(t,["parameters","safetySetting"],v);const T=u(n,["personGeneration"]);t!==void 0&&T!=null&&f(t,["parameters","personGeneration"],T);const E=u(n,["includeSafetyAttributes"]);t!==void 0&&E!=null&&f(t,["parameters","includeSafetyAttributes"],E);const C=u(n,["includeRaiReason"]);t!==void 0&&C!=null&&f(t,["parameters","includeRaiReason"],C);const R=u(n,["language"]);t!==void 0&&R!=null&&f(t,["parameters","language"],R);const N=u(n,["outputMimeType"]);t!==void 0&&N!=null&&f(t,["parameters","outputOptions","mimeType"],N);const b=u(n,["outputCompressionQuality"]);t!==void 0&&b!=null&&f(t,["parameters","outputOptions","compressionQuality"],b);const G=u(n,["addWatermark"]);t!==void 0&&G!=null&&f(t,["parameters","addWatermark"],G);const I=u(n,["labels"]);t!==void 0&&I!=null&&f(t,["labels"],I);const D=u(n,["imageSize"]);t!==void 0&&D!=null&&f(t,["parameters","sampleImageSize"],D);const J=u(n,["enhancePrompt"]);return t!==void 0&&J!=null&&f(t,["parameters","enhancePrompt"],J),a}function RA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const d=u(t,["config"]);return d!=null&&AA(d,a),a}function NA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const d=u(t,["config"]);return d!=null&&xA(d,a),a}function bA(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>qA(h))),f(o,["generatedImages"],d)}const c=u(n,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],ny(c)),o}function MA(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["predictions"]);if(s!=null){let d=s;Array.isArray(d)&&(d=d.map(h=>ss(h))),f(o,["generatedImages"],d)}const c=u(n,["positivePromptSafetyAttributes"]);return c!=null&&f(o,["positivePromptSafetyAttributes"],iy(c)),o}function wA(n,t,o){const a={},s=u(n,["numberOfVideos"]);if(t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s),u(n,["outputGcsUri"])!==void 0)throw new Error("outputGcsUri parameter is not supported in Gemini API.");if(u(n,["fps"])!==void 0)throw new Error("fps parameter is not supported in Gemini API.");const c=u(n,["durationSeconds"]);if(t!==void 0&&c!=null&&f(t,["parameters","durationSeconds"],c),u(n,["seed"])!==void 0)throw new Error("seed parameter is not supported in Gemini API.");const d=u(n,["aspectRatio"]);t!==void 0&&d!=null&&f(t,["parameters","aspectRatio"],d);const h=u(n,["resolution"]);t!==void 0&&h!=null&&f(t,["parameters","resolution"],h);const y=u(n,["personGeneration"]);if(t!==void 0&&y!=null&&f(t,["parameters","personGeneration"],y),u(n,["pubsubTopic"])!==void 0)throw new Error("pubsubTopic parameter is not supported in Gemini API.");const m=u(n,["negativePrompt"]);t!==void 0&&m!=null&&f(t,["parameters","negativePrompt"],m);const v=u(n,["enhancePrompt"]);if(t!==void 0&&v!=null&&f(t,["parameters","enhancePrompt"],v),u(n,["generateAudio"])!==void 0)throw new Error("generateAudio parameter is not supported in Gemini API.");const T=u(n,["lastFrame"]);t!==void 0&&T!=null&&f(t,["instances[0]","lastFrame"],rs(T));const E=u(n,["referenceImages"]);if(t!==void 0&&E!=null){let C=E;Array.isArray(C)&&(C=C.map(R=>Dx(R))),f(t,["instances[0]","referenceImages"],C)}if(u(n,["mask"])!==void 0)throw new Error("mask parameter is not supported in Gemini API.");if(u(n,["compressionQuality"])!==void 0)throw new Error("compressionQuality parameter is not supported in Gemini API.");return a}function IA(n,t,o){const a={},s=u(n,["numberOfVideos"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const c=u(n,["outputGcsUri"]);t!==void 0&&c!=null&&f(t,["parameters","storageUri"],c);const d=u(n,["fps"]);t!==void 0&&d!=null&&f(t,["parameters","fps"],d);const h=u(n,["durationSeconds"]);t!==void 0&&h!=null&&f(t,["parameters","durationSeconds"],h);const y=u(n,["seed"]);t!==void 0&&y!=null&&f(t,["parameters","seed"],y);const m=u(n,["aspectRatio"]);t!==void 0&&m!=null&&f(t,["parameters","aspectRatio"],m);const v=u(n,["resolution"]);t!==void 0&&v!=null&&f(t,["parameters","resolution"],v);const T=u(n,["personGeneration"]);t!==void 0&&T!=null&&f(t,["parameters","personGeneration"],T);const E=u(n,["pubsubTopic"]);t!==void 0&&E!=null&&f(t,["parameters","pubsubTopic"],E);const C=u(n,["negativePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","negativePrompt"],C);const R=u(n,["enhancePrompt"]);t!==void 0&&R!=null&&f(t,["parameters","enhancePrompt"],R);const N=u(n,["generateAudio"]);t!==void 0&&N!=null&&f(t,["parameters","generateAudio"],N);const b=u(n,["lastFrame"]);t!==void 0&&b!=null&&f(t,["instances[0]","lastFrame"],Qt(b));const G=u(n,["referenceImages"]);if(t!==void 0&&G!=null){let J=G;Array.isArray(J)&&(J=J.map(V=>Ux(V))),f(t,["instances[0]","referenceImages"],J)}const I=u(n,["mask"]);t!==void 0&&I!=null&&f(t,["instances[0]","mask"],Ix(I));const D=u(n,["compressionQuality"]);return t!==void 0&&D!=null&&f(t,["parameters","compressionQuality"],D),a}function DA(n,t){const o={},a=u(n,["name"]);a!=null&&f(o,["name"],a);const s=u(n,["metadata"]);s!=null&&f(o,["metadata"],s);const c=u(n,["done"]);c!=null&&f(o,["done"],c);const d=u(n,["error"]);d!=null&&f(o,["error"],d);const h=u(n,["response","generateVideoResponse"]);return h!=null&&f(o,["response"],HA(h)),o}function UA(n,t){const o={},a=u(n,["name"]);a!=null&&f(o,["name"],a);const s=u(n,["metadata"]);s!=null&&f(o,["metadata"],s);const c=u(n,["done"]);c!=null&&f(o,["done"],c);const d=u(n,["error"]);d!=null&&f(o,["error"],d);const h=u(n,["response"]);return h!=null&&f(o,["response"],PA(h)),o}function LA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const d=u(t,["image"]);d!=null&&f(a,["instances[0]","image"],rs(d));const h=u(t,["video"]);h!=null&&f(a,["instances[0]","video"],ly(h));const y=u(t,["source"]);y!=null&&kA(y,a);const m=u(t,["config"]);return m!=null&&wA(m,a),a}function GA(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["prompt"]);c!=null&&f(a,["instances[0]","prompt"],c);const d=u(t,["image"]);d!=null&&f(a,["instances[0]","image"],Qt(d));const h=u(t,["video"]);h!=null&&f(a,["instances[0]","video"],ay(h));const y=u(t,["source"]);y!=null&&VA(y,a);const m=u(t,["config"]);return m!=null&&IA(m,a),a}function HA(n,t){const o={},a=u(n,["generatedSamples"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>BA(h))),f(o,["generatedVideos"],d)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(o,["raiMediaFilteredCount"],s);const c=u(n,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function PA(n,t){const o={},a=u(n,["videos"]);if(a!=null){let d=a;Array.isArray(d)&&(d=d.map(h=>zA(h))),f(o,["generatedVideos"],d)}const s=u(n,["raiMediaFilteredCount"]);s!=null&&f(o,["raiMediaFilteredCount"],s);const c=u(n,["raiMediaFilteredReasons"]);return c!=null&&f(o,["raiMediaFilteredReasons"],c),o}function kA(n,t,o){const a={},s=u(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const c=u(n,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],rs(c));const d=u(n,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],ly(d)),a}function VA(n,t,o){const a={},s=u(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const c=u(n,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Qt(c));const d=u(n,["video"]);return t!==void 0&&d!=null&&f(t,["instances[0]","video"],ay(d)),a}function qA(n,t){const o={},a=u(n,["_self"]);a!=null&&f(o,["image"],ZA(a));const s=u(n,["raiFilteredReason"]);s!=null&&f(o,["raiFilteredReason"],s);const c=u(n,["_self"]);return c!=null&&f(o,["safetyAttributes"],ny(c)),o}function ss(n,t){const o={},a=u(n,["_self"]);a!=null&&f(o,["image"],ty(a));const s=u(n,["raiFilteredReason"]);s!=null&&f(o,["raiFilteredReason"],s);const c=u(n,["_self"]);c!=null&&f(o,["safetyAttributes"],iy(c));const d=u(n,["prompt"]);return d!=null&&f(o,["enhancedPrompt"],d),o}function OA(n,t){const o={},a=u(n,["_self"]);a!=null&&f(o,["mask"],ty(a));const s=u(n,["labels"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(o,["labels"],c)}return o}function BA(n,t){const o={},a=u(n,["video"]);return a!=null&&f(o,["video"],Mx(a)),o}function zA(n,t){const o={},a=u(n,["_self"]);return a!=null&&f(o,["video"],wx(a)),o}function FA(n,t){const o={},a=u(n,["modelSelectionConfig"]);a!=null&&f(o,["modelConfig"],a);const s=u(n,["responseJsonSchema"]);s!=null&&f(o,["responseJsonSchema"],s);const c=u(n,["audioTimestamp"]);c!=null&&f(o,["audioTimestamp"],c);const d=u(n,["candidateCount"]);d!=null&&f(o,["candidateCount"],d);const h=u(n,["enableAffectiveDialog"]);h!=null&&f(o,["enableAffectiveDialog"],h);const y=u(n,["frequencyPenalty"]);y!=null&&f(o,["frequencyPenalty"],y);const m=u(n,["logprobs"]);m!=null&&f(o,["logprobs"],m);const v=u(n,["maxOutputTokens"]);v!=null&&f(o,["maxOutputTokens"],v);const T=u(n,["mediaResolution"]);T!=null&&f(o,["mediaResolution"],T);const E=u(n,["presencePenalty"]);E!=null&&f(o,["presencePenalty"],E);const C=u(n,["responseLogprobs"]);C!=null&&f(o,["responseLogprobs"],C);const R=u(n,["responseMimeType"]);R!=null&&f(o,["responseMimeType"],R);const N=u(n,["responseModalities"]);N!=null&&f(o,["responseModalities"],N);const b=u(n,["responseSchema"]);b!=null&&f(o,["responseSchema"],b);const G=u(n,["routingConfig"]);G!=null&&f(o,["routingConfig"],G);const I=u(n,["seed"]);I!=null&&f(o,["seed"],I);const D=u(n,["speechConfig"]);D!=null&&f(o,["speechConfig"],D);const J=u(n,["stopSequences"]);J!=null&&f(o,["stopSequences"],J);const V=u(n,["temperature"]);V!=null&&f(o,["temperature"],V);const Z=u(n,["thinkingConfig"]);Z!=null&&f(o,["thinkingConfig"],Z);const K=u(n,["topK"]);K!=null&&f(o,["topK"],K);const te=u(n,["topP"]);if(te!=null&&f(o,["topP"],te),u(n,["enableEnhancedCivicAnswers"])!==void 0)throw new Error("enableEnhancedCivicAnswers parameter is not supported in Vertex AI.");return o}function JA(n,t,o){const a={},s=u(t,["model"]);return s!=null&&f(a,["_url","name"],Ee(n,s)),a}function YA(n,t,o){const a={},s=u(t,["model"]);return s!=null&&f(a,["_url","name"],Ee(n,s)),a}function KA(n,t){const o={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const a=u(n,["enableWidget"]);return a!=null&&f(o,["enableWidget"],a),o}function XA(n,t){const o={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const a=u(n,["timeRangeFilter"]);return a!=null&&f(o,["timeRangeFilter"],a),o}function QA(n,t){const o={},a=u(n,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const s=u(n,["imageSize"]);if(s!=null&&f(o,["imageSize"],s),u(n,["personGeneration"])!==void 0)throw new Error("personGeneration parameter is not supported in Gemini API.");if(u(n,["outputMimeType"])!==void 0)throw new Error("outputMimeType parameter is not supported in Gemini API.");if(u(n,["outputCompressionQuality"])!==void 0)throw new Error("outputCompressionQuality parameter is not supported in Gemini API.");return o}function $A(n,t){const o={},a=u(n,["aspectRatio"]);a!=null&&f(o,["aspectRatio"],a);const s=u(n,["imageSize"]);s!=null&&f(o,["imageSize"],s);const c=u(n,["personGeneration"]);c!=null&&f(o,["personGeneration"],c);const d=u(n,["outputMimeType"]);d!=null&&f(o,["imageOutputOptions","mimeType"],d);const h=u(n,["outputCompressionQuality"]);return h!=null&&f(o,["imageOutputOptions","compressionQuality"],h),o}function ZA(n,t){const o={},a=u(n,["bytesBase64Encoded"]);a!=null&&f(o,["imageBytes"],Wn(a));const s=u(n,["mimeType"]);return s!=null&&f(o,["mimeType"],s),o}function ty(n,t){const o={},a=u(n,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(o,["imageBytes"],Wn(s));const c=u(n,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function rs(n,t){const o={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");const a=u(n,["imageBytes"]);a!=null&&f(o,["bytesBase64Encoded"],Wn(a));const s=u(n,["mimeType"]);return s!=null&&f(o,["mimeType"],s),o}function Qt(n,t){const o={},a=u(n,["gcsUri"]);a!=null&&f(o,["gcsUri"],a);const s=u(n,["imageBytes"]);s!=null&&f(o,["bytesBase64Encoded"],Wn(s));const c=u(n,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function WA(n,t,o,a){const s={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const h=u(t,["filter"]);o!==void 0&&h!=null&&f(o,["_query","filter"],h);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],Xg(n,y)),s}function jA(n,t,o,a){const s={},c=u(t,["pageSize"]);o!==void 0&&c!=null&&f(o,["_query","pageSize"],c);const d=u(t,["pageToken"]);o!==void 0&&d!=null&&f(o,["_query","pageToken"],d);const h=u(t,["filter"]);o!==void 0&&h!=null&&f(o,["_query","filter"],h);const y=u(t,["queryBase"]);return o!==void 0&&y!=null&&f(o,["_url","models_url"],Xg(n,y)),s}function ex(n,t,o){const a={},s=u(t,["config"]);return s!=null&&WA(n,s,a),a}function tx(n,t,o){const a={},s=u(t,["config"]);return s!=null&&jA(n,s,a),a}function nx(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["nextPageToken"]);s!=null&&f(o,["nextPageToken"],s);const c=u(n,["_self"]);if(c!=null){let d=Qg(c);Array.isArray(d)&&(d=d.map(h=>Zu(h))),f(o,["models"],d)}return o}function ix(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["nextPageToken"]);s!=null&&f(o,["nextPageToken"],s);const c=u(n,["_self"]);if(c!=null){let d=Qg(c);Array.isArray(d)&&(d=d.map(h=>Wu(h))),f(o,["models"],d)}return o}function ox(n,t){const o={},a=u(n,["maskMode"]);a!=null&&f(o,["maskMode"],a);const s=u(n,["segmentationClasses"]);s!=null&&f(o,["maskClasses"],s);const c=u(n,["maskDilation"]);return c!=null&&f(o,["dilation"],c),o}function Zu(n,t){const o={},a=u(n,["name"]);a!=null&&f(o,["name"],a);const s=u(n,["displayName"]);s!=null&&f(o,["displayName"],s);const c=u(n,["description"]);c!=null&&f(o,["description"],c);const d=u(n,["version"]);d!=null&&f(o,["version"],d);const h=u(n,["_self"]);h!=null&&f(o,["tunedModelInfo"],Sx(h));const y=u(n,["inputTokenLimit"]);y!=null&&f(o,["inputTokenLimit"],y);const m=u(n,["outputTokenLimit"]);m!=null&&f(o,["outputTokenLimit"],m);const v=u(n,["supportedGenerationMethods"]);v!=null&&f(o,["supportedActions"],v);const T=u(n,["temperature"]);T!=null&&f(o,["temperature"],T);const E=u(n,["maxTemperature"]);E!=null&&f(o,["maxTemperature"],E);const C=u(n,["topP"]);C!=null&&f(o,["topP"],C);const R=u(n,["topK"]);R!=null&&f(o,["topK"],R);const N=u(n,["thinking"]);return N!=null&&f(o,["thinking"],N),o}function Wu(n,t){const o={},a=u(n,["name"]);a!=null&&f(o,["name"],a);const s=u(n,["displayName"]);s!=null&&f(o,["displayName"],s);const c=u(n,["description"]);c!=null&&f(o,["description"],c);const d=u(n,["versionId"]);d!=null&&f(o,["version"],d);const h=u(n,["deployedModels"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(C=>yA(C))),f(o,["endpoints"],E)}const y=u(n,["labels"]);y!=null&&f(o,["labels"],y);const m=u(n,["_self"]);m!=null&&f(o,["tunedModelInfo"],Ex(m));const v=u(n,["defaultCheckpointId"]);v!=null&&f(o,["defaultCheckpointId"],v);const T=u(n,["checkpoints"]);if(T!=null){let E=T;Array.isArray(E)&&(E=E.map(C=>C)),f(o,["checkpoints"],E)}return o}function lx(n,t){const o={},a=u(n,["mediaResolution"]);a!=null&&f(o,["mediaResolution"],a);const s=u(n,["codeExecutionResult"]);s!=null&&f(o,["codeExecutionResult"],s);const c=u(n,["executableCode"]);c!=null&&f(o,["executableCode"],c);const d=u(n,["fileData"]);d!=null&&f(o,["fileData"],vA(d));const h=u(n,["functionCall"]);h!=null&&f(o,["functionCall"],TA(h));const y=u(n,["functionResponse"]);y!=null&&f(o,["functionResponse"],y);const m=u(n,["inlineData"]);m!=null&&f(o,["inlineData"],FC(m));const v=u(n,["text"]);v!=null&&f(o,["text"],v);const T=u(n,["thought"]);T!=null&&f(o,["thought"],T);const E=u(n,["thoughtSignature"]);E!=null&&f(o,["thoughtSignature"],E);const C=u(n,["videoMetadata"]);return C!=null&&f(o,["videoMetadata"],C),o}function ax(n,t){const o={},a=u(n,["productImage"]);return a!=null&&f(o,["image"],Qt(a)),o}function sx(n,t,o){const a={},s=u(n,["numberOfImages"]);t!==void 0&&s!=null&&f(t,["parameters","sampleCount"],s);const c=u(n,["baseSteps"]);t!==void 0&&c!=null&&f(t,["parameters","baseSteps"],c);const d=u(n,["outputGcsUri"]);t!==void 0&&d!=null&&f(t,["parameters","storageUri"],d);const h=u(n,["seed"]);t!==void 0&&h!=null&&f(t,["parameters","seed"],h);const y=u(n,["safetyFilterLevel"]);t!==void 0&&y!=null&&f(t,["parameters","safetySetting"],y);const m=u(n,["personGeneration"]);t!==void 0&&m!=null&&f(t,["parameters","personGeneration"],m);const v=u(n,["addWatermark"]);t!==void 0&&v!=null&&f(t,["parameters","addWatermark"],v);const T=u(n,["outputMimeType"]);t!==void 0&&T!=null&&f(t,["parameters","outputOptions","mimeType"],T);const E=u(n,["outputCompressionQuality"]);t!==void 0&&E!=null&&f(t,["parameters","outputOptions","compressionQuality"],E);const C=u(n,["enhancePrompt"]);t!==void 0&&C!=null&&f(t,["parameters","enhancePrompt"],C);const R=u(n,["labels"]);return t!==void 0&&R!=null&&f(t,["labels"],R),a}function rx(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["source"]);c!=null&&cx(c,a);const d=u(t,["config"]);return d!=null&&sx(d,a),a}function ux(n,t){const o={},a=u(n,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>ss(c))),f(o,["generatedImages"],s)}return o}function cx(n,t,o){const a={},s=u(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const c=u(n,["personImage"]);t!==void 0&&c!=null&&f(t,["instances[0]","personImage","image"],Qt(c));const d=u(n,["productImages"]);if(t!==void 0&&d!=null){let h=d;Array.isArray(h)&&(h=h.map(y=>ax(y))),f(t,["instances[0]","productImages"],h)}return a}function fx(n,t){const o={},a=u(n,["referenceImage"]);a!=null&&f(o,["referenceImage"],Qt(a));const s=u(n,["referenceId"]);s!=null&&f(o,["referenceId"],s);const c=u(n,["referenceType"]);c!=null&&f(o,["referenceType"],c);const d=u(n,["maskImageConfig"]);d!=null&&f(o,["maskImageConfig"],ox(d));const h=u(n,["controlImageConfig"]);h!=null&&f(o,["controlImageConfig"],ZC(h));const y=u(n,["styleImageConfig"]);y!=null&&f(o,["styleImageConfig"],y);const m=u(n,["subjectImageConfig"]);return m!=null&&f(o,["subjectImageConfig"],m),o}function ny(n,t){const o={},a=u(n,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const s=u(n,["safetyAttributes","scores"]);s!=null&&f(o,["scores"],s);const c=u(n,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function iy(n,t){const o={},a=u(n,["safetyAttributes","categories"]);a!=null&&f(o,["categories"],a);const s=u(n,["safetyAttributes","scores"]);s!=null&&f(o,["scores"],s);const c=u(n,["contentType"]);return c!=null&&f(o,["contentType"],c),o}function dx(n,t){const o={},a=u(n,["category"]);if(a!=null&&f(o,["category"],a),u(n,["method"])!==void 0)throw new Error("method parameter is not supported in Gemini API.");const s=u(n,["threshold"]);return s!=null&&f(o,["threshold"],s),o}function px(n,t){const o={},a=u(n,["image"]);return a!=null&&f(o,["image"],Qt(a)),o}function hx(n,t,o){const a={},s=u(n,["mode"]);t!==void 0&&s!=null&&f(t,["parameters","mode"],s);const c=u(n,["maxPredictions"]);t!==void 0&&c!=null&&f(t,["parameters","maxPredictions"],c);const d=u(n,["confidenceThreshold"]);t!==void 0&&d!=null&&f(t,["parameters","confidenceThreshold"],d);const h=u(n,["maskDilation"]);t!==void 0&&h!=null&&f(t,["parameters","maskDilation"],h);const y=u(n,["binaryColorThreshold"]);t!==void 0&&y!=null&&f(t,["parameters","binaryColorThreshold"],y);const m=u(n,["labels"]);return t!==void 0&&m!=null&&f(t,["labels"],m),a}function mx(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["source"]);c!=null&&yx(c,a);const d=u(t,["config"]);return d!=null&&hx(d,a),a}function gx(n,t){const o={},a=u(n,["predictions"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>OA(c))),f(o,["generatedMasks"],s)}return o}function yx(n,t,o){const a={},s=u(n,["prompt"]);t!==void 0&&s!=null&&f(t,["instances[0]","prompt"],s);const c=u(n,["image"]);t!==void 0&&c!=null&&f(t,["instances[0]","image"],Qt(c));const d=u(n,["scribbleImage"]);return t!==void 0&&d!=null&&f(t,["instances[0]","scribble"],px(d)),a}function vx(n,t){const o={},a=u(n,["retrievalConfig"]);a!=null&&f(o,["retrievalConfig"],a);const s=u(n,["functionCallingConfig"]);return s!=null&&f(o,["functionCallingConfig"],SA(s)),o}function Tx(n,t){const o={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const a=u(n,["computerUse"]);a!=null&&f(o,["computerUse"],a);const s=u(n,["fileSearch"]);s!=null&&f(o,["fileSearch"],s);const c=u(n,["codeExecution"]);if(c!=null&&f(o,["codeExecution"],c),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const d=u(n,["functionDeclarations"]);if(d!=null){let T=d;Array.isArray(T)&&(T=T.map(E=>E)),f(o,["functionDeclarations"],T)}const h=u(n,["googleMaps"]);h!=null&&f(o,["googleMaps"],KA(h));const y=u(n,["googleSearch"]);y!=null&&f(o,["googleSearch"],XA(y));const m=u(n,["googleSearchRetrieval"]);m!=null&&f(o,["googleSearchRetrieval"],m);const v=u(n,["urlContext"]);return v!=null&&f(o,["urlContext"],v),o}function oy(n,t){const o={},a=u(n,["retrieval"]);a!=null&&f(o,["retrieval"],a);const s=u(n,["computerUse"]);if(s!=null&&f(o,["computerUse"],s),u(n,["fileSearch"])!==void 0)throw new Error("fileSearch parameter is not supported in Vertex AI.");const c=u(n,["codeExecution"]);c!=null&&f(o,["codeExecution"],c);const d=u(n,["enterpriseWebSearch"]);d!=null&&f(o,["enterpriseWebSearch"],d);const h=u(n,["functionDeclarations"]);if(h!=null){let E=h;Array.isArray(E)&&(E=E.map(C=>EA(C))),f(o,["functionDeclarations"],E)}const y=u(n,["googleMaps"]);y!=null&&f(o,["googleMaps"],y);const m=u(n,["googleSearch"]);m!=null&&f(o,["googleSearch"],m);const v=u(n,["googleSearchRetrieval"]);v!=null&&f(o,["googleSearchRetrieval"],v);const T=u(n,["urlContext"]);return T!=null&&f(o,["urlContext"],T),o}function Sx(n,t){const o={},a=u(n,["baseModel"]);a!=null&&f(o,["baseModel"],a);const s=u(n,["createTime"]);s!=null&&f(o,["createTime"],s);const c=u(n,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function Ex(n,t){const o={},a=u(n,["labels","google-vertex-llm-tuning-base-model-id"]);a!=null&&f(o,["baseModel"],a);const s=u(n,["createTime"]);s!=null&&f(o,["createTime"],s);const c=u(n,["updateTime"]);return c!=null&&f(o,["updateTime"],c),o}function _x(n,t,o){const a={},s=u(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const c=u(n,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const d=u(n,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),a}function Cx(n,t,o){const a={},s=u(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const c=u(n,["description"]);t!==void 0&&c!=null&&f(t,["description"],c);const d=u(n,["defaultCheckpointId"]);return t!==void 0&&d!=null&&f(t,["defaultCheckpointId"],d),a}function Ax(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","name"],Ee(n,s));const c=u(t,["config"]);return c!=null&&_x(c,a),a}function xx(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["config"]);return c!=null&&Cx(c,a),a}function Rx(n,t,o){const a={},s=u(n,["outputGcsUri"]);t!==void 0&&s!=null&&f(t,["parameters","storageUri"],s);const c=u(n,["safetyFilterLevel"]);t!==void 0&&c!=null&&f(t,["parameters","safetySetting"],c);const d=u(n,["personGeneration"]);t!==void 0&&d!=null&&f(t,["parameters","personGeneration"],d);const h=u(n,["includeRaiReason"]);t!==void 0&&h!=null&&f(t,["parameters","includeRaiReason"],h);const y=u(n,["outputMimeType"]);t!==void 0&&y!=null&&f(t,["parameters","outputOptions","mimeType"],y);const m=u(n,["outputCompressionQuality"]);t!==void 0&&m!=null&&f(t,["parameters","outputOptions","compressionQuality"],m);const v=u(n,["enhanceInputImage"]);t!==void 0&&v!=null&&f(t,["parameters","upscaleConfig","enhanceInputImage"],v);const T=u(n,["imagePreservationFactor"]);t!==void 0&&T!=null&&f(t,["parameters","upscaleConfig","imagePreservationFactor"],T);const E=u(n,["labels"]);t!==void 0&&E!=null&&f(t,["labels"],E);const C=u(n,["numberOfImages"]);t!==void 0&&C!=null&&f(t,["parameters","sampleCount"],C);const R=u(n,["mode"]);return t!==void 0&&R!=null&&f(t,["parameters","mode"],R),a}function Nx(n,t,o){const a={},s=u(t,["model"]);s!=null&&f(a,["_url","model"],Ee(n,s));const c=u(t,["image"]);c!=null&&f(a,["instances[0]","image"],Qt(c));const d=u(t,["upscaleFactor"]);d!=null&&f(a,["parameters","upscaleConfig","upscaleFactor"],d);const h=u(t,["config"]);return h!=null&&Rx(h,a),a}function bx(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["predictions"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>ss(d))),f(o,["generatedImages"],c)}return o}function Mx(n,t){const o={},a=u(n,["uri"]);a!=null&&f(o,["uri"],a);const s=u(n,["encodedVideo"]);s!=null&&f(o,["videoBytes"],Wn(s));const c=u(n,["encoding"]);return c!=null&&f(o,["mimeType"],c),o}function wx(n,t){const o={},a=u(n,["gcsUri"]);a!=null&&f(o,["uri"],a);const s=u(n,["bytesBase64Encoded"]);s!=null&&f(o,["videoBytes"],Wn(s));const c=u(n,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}function Ix(n,t){const o={},a=u(n,["image"]);a!=null&&f(o,["_self"],Qt(a));const s=u(n,["maskMode"]);return s!=null&&f(o,["maskMode"],s),o}function Dx(n,t){const o={},a=u(n,["image"]);a!=null&&f(o,["image"],rs(a));const s=u(n,["referenceType"]);return s!=null&&f(o,["referenceType"],s),o}function Ux(n,t){const o={},a=u(n,["image"]);a!=null&&f(o,["image"],Qt(a));const s=u(n,["referenceType"]);return s!=null&&f(o,["referenceType"],s),o}function ly(n,t){const o={},a=u(n,["uri"]);a!=null&&f(o,["uri"],a);const s=u(n,["videoBytes"]);s!=null&&f(o,["encodedVideo"],Wn(s));const c=u(n,["mimeType"]);return c!=null&&f(o,["encoding"],c),o}function ay(n,t){const o={},a=u(n,["uri"]);a!=null&&f(o,["gcsUri"],a);const s=u(n,["videoBytes"]);s!=null&&f(o,["bytesBase64Encoded"],Wn(s));const c=u(n,["mimeType"]);return c!=null&&f(o,["mimeType"],c),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function Lx(n,t){const o={},a=u(n,["displayName"]);return t!==void 0&&a!=null&&f(t,["displayName"],a),o}function Gx(n){const t={},o=u(n,["config"]);return o!=null&&Lx(o,t),t}function Hx(n,t){const o={},a=u(n,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function Px(n){const t={},o=u(n,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(n,["config"]);return a!=null&&Hx(a,t),t}function kx(n){const t={},o=u(n,["name"]);return o!=null&&f(t,["_url","name"],o),t}function Vx(n,t){const o={},a=u(n,["customMetadata"]);if(t!==void 0&&a!=null){let c=a;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["customMetadata"],c)}const s=u(n,["chunkingConfig"]);return t!==void 0&&s!=null&&f(t,["chunkingConfig"],s),o}function qx(n){const t={},o=u(n,["name"]);o!=null&&f(t,["name"],o);const a=u(n,["metadata"]);a!=null&&f(t,["metadata"],a);const s=u(n,["done"]);s!=null&&f(t,["done"],s);const c=u(n,["error"]);c!=null&&f(t,["error"],c);const d=u(n,["response"]);return d!=null&&f(t,["response"],Bx(d)),t}function Ox(n){const t={},o=u(n,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(n,["fileName"]);a!=null&&f(t,["fileName"],a);const s=u(n,["config"]);return s!=null&&Vx(s,t),t}function Bx(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["parent"]);a!=null&&f(t,["parent"],a);const s=u(n,["documentName"]);return s!=null&&f(t,["documentName"],s),t}function zx(n,t){const o={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=u(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function Fx(n){const t={},o=u(n,["config"]);return o!=null&&zx(o,t),t}function Jx(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=u(n,["fileSearchStores"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["fileSearchStores"],c)}return t}function sy(n,t){const o={},a=u(n,["mimeType"]);t!==void 0&&a!=null&&f(t,["mimeType"],a);const s=u(n,["displayName"]);t!==void 0&&s!=null&&f(t,["displayName"],s);const c=u(n,["customMetadata"]);if(t!==void 0&&c!=null){let h=c;Array.isArray(h)&&(h=h.map(y=>y)),f(t,["customMetadata"],h)}const d=u(n,["chunkingConfig"]);return t!==void 0&&d!=null&&f(t,["chunkingConfig"],d),o}function Yx(n){const t={},o=u(n,["fileSearchStoreName"]);o!=null&&f(t,["_url","file_search_store_name"],o);const a=u(n,["config"]);return a!=null&&sy(a,t),t}function Kx(n){const t={},o=u(n,["sdkHttpResponse"]);return o!=null&&f(t,["sdkHttpResponse"],o),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Xx="Content-Type",Qx="X-Server-Timeout",$x="User-Agent",ju="x-goog-api-client",Zx="1.39.0",Wx=`google-genai-sdk/${Zx}`,jx="v1beta1",eR="v1beta";class tR{constructor(t){var o,a,s;this.clientOptions=Object.assign({},t),this.customBaseUrl=(o=t.httpOptions)===null||o===void 0?void 0:o.baseUrl,this.clientOptions.vertexai&&(this.clientOptions.project&&this.clientOptions.location?this.clientOptions.apiKey=void 0:this.clientOptions.apiKey&&(this.clientOptions.project=void 0,this.clientOptions.location=void 0));const c={};if(this.clientOptions.vertexai){if(!this.clientOptions.location&&!this.clientOptions.apiKey&&!this.customBaseUrl&&(this.clientOptions.location="global"),!(this.clientOptions.project&&this.clientOptions.location||this.clientOptions.apiKey)&&!this.customBaseUrl)throw new Error("Authentication is not set up. Please provide either a project and location, or an API key, or a custom base URL.");const h=t.project&&t.location||!!t.apiKey;this.customBaseUrl&&!h?(c.baseUrl=this.customBaseUrl,this.clientOptions.project=void 0,this.clientOptions.location=void 0):this.clientOptions.apiKey||this.clientOptions.location==="global"?c.baseUrl="https://aiplatform.googleapis.com/":this.clientOptions.project&&this.clientOptions.location&&(c.baseUrl=`https://${this.clientOptions.location}-aiplatform.googleapis.com/`),c.apiVersion=(a=this.clientOptions.apiVersion)!==null&&a!==void 0?a:jx}else{if(!this.clientOptions.apiKey)throw new vl({message:"API key must be set when using the Gemini API.",status:403});c.apiVersion=(s=this.clientOptions.apiVersion)!==null&&s!==void 0?s:eR,c.baseUrl="https://generativelanguage.googleapis.com/"}c.headers=this.getDefaultHeaders(),this.clientOptions.httpOptions=c,t.httpOptions&&(this.clientOptions.httpOptions=this.patchHttpOptions(c,t.httpOptions))}isVertexAI(){var t;return(t=this.clientOptions.vertexai)!==null&&t!==void 0?t:!1}getProject(){return this.clientOptions.project}getLocation(){return this.clientOptions.location}getCustomBaseUrl(){return this.customBaseUrl}async getAuthHeaders(){const t=new Headers;return await this.clientOptions.auth.addAuthHeaders(t),t}getApiVersion(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.apiVersion!==void 0)return this.clientOptions.httpOptions.apiVersion;throw new Error("API version is not set.")}getBaseUrl(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.baseUrl!==void 0)return this.clientOptions.httpOptions.baseUrl;throw new Error("Base URL is not set.")}getRequestUrl(){return this.getRequestUrlInternal(this.clientOptions.httpOptions)}getHeaders(){if(this.clientOptions.httpOptions&&this.clientOptions.httpOptions.headers!==void 0)return this.clientOptions.httpOptions.headers;throw new Error("Headers are not set.")}getRequestUrlInternal(t){if(!t||t.baseUrl===void 0||t.apiVersion===void 0)throw new Error("HTTP options are not correctly set.");const a=[t.baseUrl.endsWith("/")?t.baseUrl.slice(0,-1):t.baseUrl];return t.apiVersion&&t.apiVersion!==""&&a.push(t.apiVersion),a.join("/")}getBaseResourcePath(){return`projects/${this.clientOptions.project}/locations/${this.clientOptions.location}`}getApiKey(){return this.clientOptions.apiKey}getWebsocketBaseUrl(){const t=this.getBaseUrl(),o=new URL(t);return o.protocol=o.protocol=="http:"?"ws":"wss",o.toString()}setBaseUrl(t){if(this.clientOptions.httpOptions)this.clientOptions.httpOptions.baseUrl=t;else throw new Error("HTTP options are not correctly set.")}constructUrl(t,o,a){const s=[this.getRequestUrlInternal(o)];return a&&s.push(this.getBaseResourcePath()),t!==""&&s.push(t),new URL(`${s.join("/")}`)}shouldPrependVertexProjectPath(t,o){return!(o.baseUrl&&o.baseUrlResourceScope===Ku.COLLECTION||this.clientOptions.apiKey||!this.clientOptions.vertexai||t.path.startsWith("projects/")||t.httpMethod==="GET"&&t.path.startsWith("publishers/google/models"))}async request(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),s=this.constructUrl(t.path,o,a);if(t.queryParams)for(const[d,h]of Object.entries(t.queryParams))s.searchParams.append(d,String(h));let c={};if(t.httpMethod==="GET"){if(t.body&&t.body!=="{}")throw new Error("Request body should be empty for GET request, but got non empty request body")}else c.body=t.body;return c=await this.includeExtraHttpOptionsToRequestInit(c,o,s.toString(),t.abortSignal),this.unaryApiCall(s,c,t.httpMethod)}patchHttpOptions(t,o){const a=JSON.parse(JSON.stringify(t));for(const[s,c]of Object.entries(o))typeof c=="object"?a[s]=Object.assign(Object.assign({},a[s]),c):c!==void 0&&(a[s]=c);return a}async requestStream(t){let o=this.clientOptions.httpOptions;t.httpOptions&&(o=this.patchHttpOptions(this.clientOptions.httpOptions,t.httpOptions));const a=this.shouldPrependVertexProjectPath(t,o),s=this.constructUrl(t.path,o,a);(!s.searchParams.has("alt")||s.searchParams.get("alt")!=="sse")&&s.searchParams.set("alt","sse");let c={};return c.body=t.body,c=await this.includeExtraHttpOptionsToRequestInit(c,o,s.toString(),t.abortSignal),this.streamApiCall(s,c,t.httpMethod)}async includeExtraHttpOptionsToRequestInit(t,o,a,s){if(o&&o.timeout||s){const c=new AbortController,d=c.signal;if(o.timeout&&(o==null?void 0:o.timeout)>0){const h=setTimeout(()=>c.abort(),o.timeout);h&&typeof h.unref=="function"&&h.unref()}s&&s.addEventListener("abort",()=>{c.abort()}),t.signal=d}return o&&o.extraBody!==null&&nR(t,o.extraBody),t.headers=await this.getHeadersInternal(o,a),t}async unaryApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async s=>(await ag(s),new Xu(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}async streamApiCall(t,o,a){return this.apiCall(t.toString(),Object.assign(Object.assign({},o),{method:a})).then(async s=>(await ag(s),this.processStreamResponse(s))).catch(s=>{throw s instanceof Error?s:new Error(JSON.stringify(s))})}processStreamResponse(t){return Yt(this,arguments,function*(){var a;const s=(a=t==null?void 0:t.body)===null||a===void 0?void 0:a.getReader(),c=new TextDecoder("utf-8");if(!s)throw new Error("Response body is empty");try{let d="";const h="data:",y=[`

`,"\r\r",`\r
\r
`];for(;;){const{done:m,value:v}=yield se(s.read());if(m){if(d.trim().length>0)throw new Error("Incomplete JSON segment at the end");break}const T=c.decode(v,{stream:!0});try{const R=JSON.parse(T);if("error"in R){const N=JSON.parse(JSON.stringify(R.error)),b=N.status,G=N.code,I=`got status: ${b}. ${JSON.stringify(R)}`;if(G>=400&&G<600)throw new vl({message:I,status:G})}}catch(R){if(R.name==="ApiError")throw R}d+=T;let E=-1,C=0;for(;;){E=-1,C=0;for(const b of y){const G=d.indexOf(b);G!==-1&&(E===-1||G<E)&&(E=G,C=b.length)}if(E===-1)break;const R=d.substring(0,E);d=d.substring(E+C);const N=R.trim();if(N.startsWith(h)){const b=N.substring(h.length).trim();try{const G=new Response(b,{headers:t==null?void 0:t.headers,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText});yield yield se(new Xu(G))}catch(G){throw new Error(`exception parsing stream chunk ${b}. ${G}`)}}}}}finally{s.releaseLock()}})}async apiCall(t,o){return fetch(t,o).catch(a=>{throw new Error(`exception ${a} sending request`)})}getDefaultHeaders(){const t={},o=Wx+" "+this.clientOptions.userAgentExtra;return t[$x]=o,t[ju]=o,t[Xx]="application/json",t}async getHeadersInternal(t,o){const a=new Headers;if(t&&t.headers){for(const[s,c]of Object.entries(t.headers))a.append(s,c);t.timeout&&t.timeout>0&&a.append(Qx,String(Math.ceil(t.timeout/1e3)))}return await this.clientOptions.auth.addAuthHeaders(a,o),a}getFileName(t){var o;let a="";return typeof t=="string"&&(a=t.replace(/[/\\]+$/,""),a=(o=a.split(/[/\\]/).pop())!==null&&o!==void 0?o:""),a}async uploadFile(t,o){var a;const s={};o!=null&&(s.mimeType=o.mimeType,s.name=o.name,s.displayName=o.displayName),s.name&&!s.name.startsWith("files/")&&(s.name=`files/${s.name}`);const c=this.clientOptions.uploader,d=await c.stat(t);s.sizeBytes=String(d.size);const h=(a=o==null?void 0:o.mimeType)!==null&&a!==void 0?a:d.type;if(h===void 0||h==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");s.mimeType=h;const y={file:s},m=this.getFileName(t),v=$("upload/v1beta/files",y._url),T=await this.fetchUploadUrl(v,s.sizeBytes,s.mimeType,m,y,o==null?void 0:o.httpOptions);return c.upload(t,T,this)}async uploadFileToFileSearchStore(t,o,a){var s;const c=this.clientOptions.uploader,d=await c.stat(o),h=String(d.size),y=(s=a==null?void 0:a.mimeType)!==null&&s!==void 0?s:d.type;if(y===void 0||y==="")throw new Error("Can not determine mimeType. Please provide mimeType in the config.");const m=`upload/v1beta/${t}:uploadToFileSearchStore`,v=this.getFileName(o),T={};a!=null&&sy(a,T);const E=await this.fetchUploadUrl(m,h,y,v,T,a==null?void 0:a.httpOptions);return c.uploadToFileSearchStore(o,E,this)}async downloadFile(t){await this.clientOptions.downloader.download(t,this)}async fetchUploadUrl(t,o,a,s,c,d){var h;let y={};d?y=d:y={apiVersion:"",headers:Object.assign({"Content-Type":"application/json","X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${o}`,"X-Goog-Upload-Header-Content-Type":`${a}`},s?{"X-Goog-Upload-File-Name":s}:{})};const m=await this.request({path:t,body:JSON.stringify(c),httpMethod:"POST",httpOptions:y});if(!m||!(m!=null&&m.headers))throw new Error("Server did not return an HttpResponse or the returned HttpResponse did not have headers.");const v=(h=m==null?void 0:m.headers)===null||h===void 0?void 0:h["x-goog-upload-url"];if(v===void 0)throw new Error("Failed to get upload url. Server did not return the x-google-upload-url in the headers");return v}}async function ag(n){var t;if(n===void 0)throw new Error("response is undefined");if(!n.ok){const o=n.status;let a;!((t=n.headers.get("content-type"))===null||t===void 0)&&t.includes("application/json")?a=await n.json():a={error:{message:await n.text(),code:n.status,status:n.statusText}};const s=JSON.stringify(a);throw o>=400&&o<600?new vl({message:s,status:o}):new Error(s)}}function nR(n,t){if(!t||Object.keys(t).length===0)return;if(n.body instanceof Blob){console.warn("includeExtraBodyToRequestInit: extraBody provided but current request body is a Blob. extraBody will be ignored as merging is not supported for Blob bodies.");return}let o={};if(typeof n.body=="string"&&n.body.length>0)try{const c=JSON.parse(n.body);if(typeof c=="object"&&c!==null&&!Array.isArray(c))o=c;else{console.warn("includeExtraBodyToRequestInit: Original request body is valid JSON but not a non-array object. Skip applying extraBody to the request body.");return}}catch{console.warn("includeExtraBodyToRequestInit: Original request body is not valid JSON. Skip applying extraBody to the request body.");return}function a(c,d){const h=Object.assign({},c);for(const y in d)if(Object.prototype.hasOwnProperty.call(d,y)){const m=d[y],v=h[y];m&&typeof m=="object"&&!Array.isArray(m)&&v&&typeof v=="object"&&!Array.isArray(v)?h[y]=a(v,m):(v&&m&&typeof v!=typeof m&&console.warn(`includeExtraBodyToRequestInit:deepMerge: Type mismatch for key "${y}". Original type: ${typeof v}, New type: ${typeof m}. Overwriting.`),h[y]=m)}return h}const s=a(o,t);n.body=JSON.stringify(s)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const iR="mcp_used/unknown";let oR=!1;function ry(n){for(const t of n)if(lR(t)||typeof t=="object"&&"inputSchema"in t)return!0;return oR}function uy(n){var t;const o=(t=n[ju])!==null&&t!==void 0?t:"";n[ju]=(o+` ${iR}`).trimStart()}function lR(n){return n!==null&&typeof n=="object"&&n instanceof Tc}function aR(n){return Yt(this,arguments,function*(o,a=100){let s,c=0;for(;c<a;){const d=yield se(o.listTools({cursor:s}));for(const h of d.tools)yield yield se(h),c++;if(!d.nextCursor)break;s=d.nextCursor}})}class Tc{constructor(t=[],o){this.mcpTools=[],this.functionNameToMcpClient={},this.mcpClients=t,this.config=o}static create(t,o){return new Tc(t,o)}async initialize(){var t,o,a,s;if(this.mcpTools.length>0)return;const c={},d=[];for(const v of this.mcpClients)try{for(var h=!0,y=(o=void 0,Kt(aR(v))),m;m=await y.next(),t=m.done,!t;h=!0){s=m.value,h=!1;const T=s;d.push(T);const E=T.name;if(c[E])throw new Error(`Duplicate function name ${E} found in MCP tools. Please ensure function names are unique.`);c[E]=v}}catch(T){o={error:T}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}this.mcpTools=d,this.functionNameToMcpClient=c}async tool(){return await this.initialize(),GE(this.mcpTools,this.config)}async callTool(t){await this.initialize();const o=[];for(const a of t)if(a.name in this.functionNameToMcpClient){const s=this.functionNameToMcpClient[a.name];let c;this.config.timeout&&(c={timeout:this.config.timeout});const d=await s.callTool({name:a.name,arguments:a.args},void 0,c);o.push({functionResponse:{name:a.name,response:d.isError?{error:d}:d}})}return o}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function sR(n,t,o){const a=new NE;let s;o.data instanceof Blob?s=JSON.parse(await o.data.text()):s=JSON.parse(o.data),Object.assign(a,s),t(a)}class rR{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a}async connect(t){var o,a;if(this.apiClient.isVertexAI())throw new Error("Live music is not supported for Vertex AI.");console.warn("Live music generation is experimental and may change in future versions.");const s=this.apiClient.getWebsocketBaseUrl(),c=this.apiClient.getApiVersion(),d=fR(this.apiClient.getDefaultHeaders()),h=this.apiClient.getApiKey(),y=`${s}/ws/google.ai.generativelanguage.${c}.GenerativeService.BidiGenerateMusic?key=${h}`;let m=()=>{};const v=new Promise(D=>{m=D}),T=t.callbacks,E=function(){m({})},C=this.apiClient,R={onopen:E,onmessage:D=>{sR(C,T.onmessage,D)},onerror:(o=T==null?void 0:T.onerror)!==null&&o!==void 0?o:function(D){},onclose:(a=T==null?void 0:T.onclose)!==null&&a!==void 0?a:function(D){}},N=this.webSocketFactory.create(y,cR(d),R);N.connect(),await v;const I={setup:{model:Ee(this.apiClient,t.model)}};return N.send(JSON.stringify(I)),new uR(N,this.apiClient)}}class uR{constructor(t,o){this.conn=t,this.apiClient=o}async setWeightedPrompts(t){if(!t.weightedPrompts||Object.keys(t.weightedPrompts).length===0)throw new Error("Weighted prompts must be set and contain at least one entry.");const o=LC(t);this.conn.send(JSON.stringify({clientContent:o}))}async setMusicGenerationConfig(t){t.musicGenerationConfig||(t.musicGenerationConfig={});const o=UC(t);this.conn.send(JSON.stringify(o))}sendPlaybackControl(t){const o={playbackControl:t};this.conn.send(JSON.stringify(o))}play(){this.sendPlaybackControl(ao.PLAY)}pause(){this.sendPlaybackControl(ao.PAUSE)}stop(){this.sendPlaybackControl(ao.STOP)}resetContext(){this.sendPlaybackControl(ao.RESET_CONTEXT)}close(){this.conn.close()}}function cR(n){const t={};return n.forEach((o,a)=>{t[a]=o}),t}function fR(n){const t=new Headers;for(const[o,a]of Object.entries(n))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const dR="FunctionResponse request must have an `id` field from the response of a ToolCall.FunctionalCalls in Google AI.";async function pR(n,t,o){const a=new RE;let s;o.data instanceof Blob?s=await o.data.text():o.data instanceof ArrayBuffer?s=new TextDecoder().decode(o.data):s=o.data;const c=JSON.parse(s);if(n.isVertexAI()){const d=PC(c);Object.assign(a,d)}else Object.assign(a,c);t(a)}class hR{constructor(t,o,a){this.apiClient=t,this.auth=o,this.webSocketFactory=a,this.music=new rR(this.apiClient,this.auth,this.webSocketFactory)}async connect(t){var o,a,s,c,d,h;if(t.config&&t.config.httpOptions)throw new Error("The Live module does not support httpOptions at request-level in LiveConnectConfig yet. Please use the client-level httpOptions configuration instead.");const y=this.apiClient.getWebsocketBaseUrl(),m=this.apiClient.getApiVersion();let v;const T=this.apiClient.getHeaders();t.config&&t.config.tools&&ry(t.config.tools)&&uy(T);const E=vR(T);if(this.apiClient.isVertexAI()){const Q=this.apiClient.getProject(),ae=this.apiClient.getLocation(),_e=this.apiClient.getApiKey(),Ne=!!Q&&!!ae||!!_e;this.apiClient.getCustomBaseUrl()&&!Ne?v=y:(v=`${y}/ws/google.cloud.aiplatform.${m}.LlmBidiService/BidiGenerateContent`,await this.auth.addAuthHeaders(E,v))}else{const Q=this.apiClient.getApiKey();let ae="BidiGenerateContent",_e="key";Q!=null&&Q.startsWith("auth_tokens/")&&(console.warn("Warning: Ephemeral token support is experimental and may change in future versions."),m!=="v1alpha"&&console.warn("Warning: The SDK's ephemeral token support is in v1alpha only. Please use const ai = new GoogleGenAI({apiKey: token.name, httpOptions: { apiVersion: 'v1alpha' }}); before session connection."),ae="BidiGenerateContentConstrained",_e="access_token"),v=`${y}/ws/google.ai.generativelanguage.${m}.GenerativeService.${ae}?${_e}=${Q}`}let C=()=>{};const R=new Promise(Q=>{C=Q}),N=t.callbacks,b=function(){var Q;(Q=N==null?void 0:N.onopen)===null||Q===void 0||Q.call(N),C({})},G=this.apiClient,I={onopen:b,onmessage:Q=>{pR(G,N.onmessage,Q)},onerror:(o=N==null?void 0:N.onerror)!==null&&o!==void 0?o:function(Q){},onclose:(a=N==null?void 0:N.onclose)!==null&&a!==void 0?a:function(Q){}},D=this.webSocketFactory.create(v,yR(E),I);D.connect(),await R;let J=Ee(this.apiClient,t.model);if(this.apiClient.isVertexAI()&&J.startsWith("publishers/")){const Q=this.apiClient.getProject(),ae=this.apiClient.getLocation();Q&&ae&&(J=`projects/${Q}/locations/${ae}/`+J)}let V={};this.apiClient.isVertexAI()&&((s=t.config)===null||s===void 0?void 0:s.responseModalities)===void 0&&(t.config===void 0?t.config={responseModalities:[$a.AUDIO]}:t.config.responseModalities=[$a.AUDIO]),!((c=t.config)===null||c===void 0)&&c.generationConfig&&console.warn("Setting `LiveConnectConfig.generation_config` is deprecated, please set the fields on `LiveConnectConfig` directly. This will become an error in a future version (not before Q3 2025).");const Z=(h=(d=t.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[],K=[];for(const Q of Z)if(this.isCallableTool(Q)){const ae=Q;K.push(await ae.tool())}else K.push(Q);K.length>0&&(t.config.tools=K);const te={model:J,config:t.config,callbacks:t.callbacks};return this.apiClient.isVertexAI()?V=DC(this.apiClient,te):V=IC(this.apiClient,te),delete V.config,D.send(JSON.stringify(V)),new gR(D,this.apiClient)}isCallableTool(t){return"callTool"in t&&typeof t.callTool=="function"}}const mR={turnComplete:!0};class gR{constructor(t,o){this.conn=t,this.apiClient=o}tLiveClientContent(t,o){if(o.turns!==null&&o.turns!==void 0){let a=[];try{a=qt(o.turns),t.isVertexAI()||(a=a.map(s=>as(s)))}catch{throw new Error(`Failed to parse client content "turns", type: '${typeof o.turns}'`)}return{clientContent:{turns:a,turnComplete:o.turnComplete}}}return{clientContent:{turnComplete:o.turnComplete}}}tLiveClienttToolResponse(t,o){let a=[];if(o.functionResponses==null)throw new Error("functionResponses is required.");if(Array.isArray(o.functionResponses)?a=o.functionResponses:a=[o.functionResponses],a.length===0)throw new Error("functionResponses is required.");for(const c of a){if(typeof c!="object"||c===null||!("name"in c)||!("response"in c))throw new Error(`Could not parse function response, type '${typeof c}'.`);if(!t.isVertexAI()&&!("id"in c))throw new Error(dR)}return{toolResponse:{functionResponses:a}}}sendClientContent(t){t=Object.assign(Object.assign({},mR),t);const o=this.tLiveClientContent(this.apiClient,t);this.conn.send(JSON.stringify(o))}sendRealtimeInput(t){let o={};this.apiClient.isVertexAI()?o={realtimeInput:HC(t)}:o={realtimeInput:GC(t)},this.conn.send(JSON.stringify(o))}sendToolResponse(t){if(t.functionResponses==null)throw new Error("Tool response parameters are required.");const o=this.tLiveClienttToolResponse(this.apiClient,t);this.conn.send(JSON.stringify(o))}close(){this.conn.close()}}function yR(n){const t={};return n.forEach((o,a)=>{t[a]=o}),t}function vR(n){const t=new Headers;for(const[o,a]of Object.entries(n))t.append(o,a);return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sg=10;function rg(n){var t,o,a;if(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.disable)return!0;let s=!1;for(const d of(o=n==null?void 0:n.tools)!==null&&o!==void 0?o:[])if(co(d)){s=!0;break}if(!s)return!0;const c=(a=n==null?void 0:n.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls;return c&&(c<0||!Number.isInteger(c))||c==0?(console.warn("Invalid maximumRemoteCalls value provided for automatic function calling. Disabled automatic function calling. Please provide a valid integer value greater than 0. maximumRemoteCalls provided:",c),!0):!1}function co(n){return"callTool"in n&&typeof n.callTool=="function"}function TR(n){var t,o,a;return(a=(o=(t=n.config)===null||t===void 0?void 0:t.tools)===null||o===void 0?void 0:o.some(s=>co(s)))!==null&&a!==void 0?a:!1}function ug(n){var t;const o=[];return!((t=n==null?void 0:n.config)===null||t===void 0)&&t.tools&&n.config.tools.forEach((a,s)=>{if(co(a))return;const c=a;c.functionDeclarations&&c.functionDeclarations.length>0&&o.push(s)}),o}function cg(n){var t;return!(!((t=n==null?void 0:n.automaticFunctionCalling)===null||t===void 0)&&t.ignoreCallHistory)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class SR extends An{constructor(t){super(),this.apiClient=t,this.generateContent=async o=>{var a,s,c,d,h;const y=await this.processParamsMaybeAddMcpUsage(o);if(this.maybeMoveToResponseJsonSchem(o),!TR(o)||rg(o.config))return await this.generateContentInternal(y);const m=ug(o);if(m.length>0){const N=m.map(b=>`tools[${b}]`).join(", ");throw new Error(`Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations is not yet supported. Incompatible tools found at ${N}.`)}let v,T;const E=qt(y.contents),C=(c=(s=(a=y.config)===null||a===void 0?void 0:a.automaticFunctionCalling)===null||s===void 0?void 0:s.maximumRemoteCalls)!==null&&c!==void 0?c:sg;let R=0;for(;R<C&&(v=await this.generateContentInternal(y),!(!v.functionCalls||v.functionCalls.length===0));){const N=v.candidates[0].content,b=[];for(const G of(h=(d=o.config)===null||d===void 0?void 0:d.tools)!==null&&h!==void 0?h:[])if(co(G)){const D=await G.callTool(v.functionCalls);b.push(...D)}R++,T={role:"user",parts:b},y.contents=qt(y.contents),y.contents.push(N),y.contents.push(T),cg(y.config)&&(E.push(N),E.push(T))}return cg(y.config)&&(v.automaticFunctionCallingHistory=E),v},this.generateContentStream=async o=>{var a,s,c,d,h;if(this.maybeMoveToResponseJsonSchem(o),rg(o.config)){const T=await this.processParamsMaybeAddMcpUsage(o);return await this.generateContentStreamInternal(T)}const y=ug(o);if(y.length>0){const T=y.map(E=>`tools[${E}]`).join(", ");throw new Error(`Incompatible tools found at ${T}. Automatic function calling with CallableTools (or MCP objects) and basic FunctionDeclarations" is not yet supported.`)}const m=(c=(s=(a=o==null?void 0:o.config)===null||a===void 0?void 0:a.toolConfig)===null||s===void 0?void 0:s.functionCallingConfig)===null||c===void 0?void 0:c.streamFunctionCallArguments,v=(h=(d=o==null?void 0:o.config)===null||d===void 0?void 0:d.automaticFunctionCalling)===null||h===void 0?void 0:h.disable;if(m&&!v)throw new Error("Running in streaming mode with 'streamFunctionCallArguments' enabled, this feature is not compatible with automatic function calling (AFC). Please set 'config.automaticFunctionCalling.disable' to true to disable AFC or leave 'config.toolConfig.functionCallingConfig.streamFunctionCallArguments' to be undefined or set to false to disable streaming function call arguments feature.");return await this.processAfcStream(o)},this.generateImages=async o=>await this.generateImagesInternal(o).then(a=>{var s;let c;const d=[];if(a!=null&&a.generatedImages)for(const y of a.generatedImages)y&&(y!=null&&y.safetyAttributes)&&((s=y==null?void 0:y.safetyAttributes)===null||s===void 0?void 0:s.contentType)==="Positive Prompt"?c=y==null?void 0:y.safetyAttributes:d.push(y);let h;return c?h={generatedImages:d,positivePromptSafetyAttributes:c,sdkHttpResponse:a.sdkHttpResponse}:h={generatedImages:d,sdkHttpResponse:a.sdkHttpResponse},h}),this.list=async o=>{var a;const d={config:Object.assign(Object.assign({},{queryBase:!0}),o==null?void 0:o.config)};if(this.apiClient.isVertexAI()&&!d.config.queryBase){if(!((a=d.config)===null||a===void 0)&&a.filter)throw new Error("Filtering tuned models list for Vertex AI is not currently supported");d.config.filter="labels.tune-type:*"}return new Si(_n.PAGED_ITEM_MODELS,h=>this.listInternal(h),await this.listInternal(d),d)},this.editImage=async o=>{const a={model:o.model,prompt:o.prompt,referenceImages:[],config:o.config};return o.referenceImages&&o.referenceImages&&(a.referenceImages=o.referenceImages.map(s=>s.toReferenceImageAPI())),await this.editImageInternal(a)},this.upscaleImage=async o=>{let a={numberOfImages:1,mode:"upscale"};o.config&&(a=Object.assign(Object.assign({},a),o.config));const s={model:o.model,image:o.image,upscaleFactor:o.upscaleFactor,config:a};return await this.upscaleImageInternal(s)},this.generateVideos=async o=>{var a,s,c,d,h,y;if((o.prompt||o.image||o.video)&&o.source)throw new Error("Source and prompt/image/video are mutually exclusive. Please only use source.");return this.apiClient.isVertexAI()||(!((a=o.video)===null||a===void 0)&&a.uri&&(!((s=o.video)===null||s===void 0)&&s.videoBytes)?o.video={uri:o.video.uri,mimeType:o.video.mimeType}:!((d=(c=o.source)===null||c===void 0?void 0:c.video)===null||d===void 0)&&d.uri&&(!((y=(h=o.source)===null||h===void 0?void 0:h.video)===null||y===void 0)&&y.videoBytes)&&(o.source.video={uri:o.source.video.uri,mimeType:o.source.video.mimeType})),await this.generateVideosInternal(o)}}maybeMoveToResponseJsonSchem(t){t.config&&t.config.responseSchema&&(t.config.responseJsonSchema||Object.keys(t.config.responseSchema).includes("$schema")&&(t.config.responseJsonSchema=t.config.responseSchema,delete t.config.responseSchema))}async processParamsMaybeAddMcpUsage(t){var o,a,s;const c=(o=t.config)===null||o===void 0?void 0:o.tools;if(!c)return t;const d=await Promise.all(c.map(async y=>co(y)?await y.tool():y)),h={model:t.model,contents:t.contents,config:Object.assign(Object.assign({},t.config),{tools:d})};if(h.config.tools=d,t.config&&t.config.tools&&ry(t.config.tools)){const y=(s=(a=t.config.httpOptions)===null||a===void 0?void 0:a.headers)!==null&&s!==void 0?s:{};let m=Object.assign({},y);Object.keys(m).length===0&&(m=this.apiClient.getDefaultHeaders()),uy(m),h.config.httpOptions=Object.assign(Object.assign({},t.config.httpOptions),{headers:m})}return h}async initAfcToolsMap(t){var o,a,s;const c=new Map;for(const d of(a=(o=t.config)===null||o===void 0?void 0:o.tools)!==null&&a!==void 0?a:[])if(co(d)){const h=d,y=await h.tool();for(const m of(s=y.functionDeclarations)!==null&&s!==void 0?s:[]){if(!m.name)throw new Error("Function declaration name is required.");if(c.has(m.name))throw new Error(`Duplicate tool declaration name: ${m.name}`);c.set(m.name,h)}}return c}async processAfcStream(t){var o,a,s;const c=(s=(a=(o=t.config)===null||o===void 0?void 0:o.automaticFunctionCalling)===null||a===void 0?void 0:a.maximumRemoteCalls)!==null&&s!==void 0?s:sg;let d=!1,h=0;const y=await this.initAfcToolsMap(t);return(function(m,v,T){return Yt(this,arguments,function*(){for(var E,C,R,N,b,G;h<c;){d&&(h++,d=!1);const V=yield se(m.processParamsMaybeAddMcpUsage(T)),Z=yield se(m.generateContentStreamInternal(V)),K=[],te=[];try{for(var I=!0,D=(C=void 0,Kt(Z)),J;J=yield se(D.next()),E=J.done,!E;I=!0){N=J.value,I=!1;const Q=N;if(yield yield se(Q),Q.candidates&&(!((b=Q.candidates[0])===null||b===void 0)&&b.content)){te.push(Q.candidates[0].content);for(const ae of(G=Q.candidates[0].content.parts)!==null&&G!==void 0?G:[])if(h<c&&ae.functionCall){if(!ae.functionCall.name)throw new Error("Function call name was not returned by the model.");if(v.has(ae.functionCall.name)){const _e=yield se(v.get(ae.functionCall.name).callTool([ae.functionCall]));K.push(..._e)}else throw new Error(`Automatic function calling was requested, but not all the tools the model used implement the CallableTool interface. Available tools: ${v.keys()}, mising tool: ${ae.functionCall.name}`)}}}}catch(Q){C={error:Q}}finally{try{!I&&!E&&(R=D.return)&&(yield se(R.call(D)))}finally{if(C)throw C.error}}if(K.length>0){d=!0;const Q=new pl;Q.candidates=[{content:{role:"user",parts:K}}],yield yield se(Q);const ae=[];ae.push(...te),ae.push({role:"user",parts:K});const _e=qt(T.contents).concat(ae);T.contents=_e}else break}})})(this,y,t)}async generateContentInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=ig(this.apiClient,t);return h=$("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=lg(v),E=new pl;return Object.assign(E,T),E})}else{const m=ng(this.apiClient,t);return h=$("{model}:generateContent",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=og(v),E=new pl;return Object.assign(E,T),E})}}async generateContentStreamInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=ig(this.apiClient,t);return h=$("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}),d.then(function(T){return Yt(this,arguments,function*(){var E,C,R,N;try{for(var b=!0,G=Kt(T),I;I=yield se(G.next()),E=I.done,!E;b=!0){N=I.value,b=!1;const D=N,J=lg(yield se(D.json()),t);J.sdkHttpResponse={headers:D.headers};const V=new pl;Object.assign(V,J),yield yield se(V)}}catch(D){C={error:D}}finally{try{!b&&!E&&(R=G.return)&&(yield se(R.call(G)))}finally{if(C)throw C.error}}})})}else{const m=ng(this.apiClient,t);return h=$("{model}:streamGenerateContent?alt=sse",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.requestStream({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}),d.then(function(T){return Yt(this,arguments,function*(){var E,C,R,N;try{for(var b=!0,G=Kt(T),I;I=yield se(G.next()),E=I.done,!E;b=!0){N=I.value,b=!1;const D=N,J=og(yield se(D.json()),t);J.sdkHttpResponse={headers:D.headers};const V=new pl;Object.assign(V,J),yield yield se(V)}}catch(D){C={error:D}}finally{try{!b&&!E&&(R=G.return)&&(yield se(R.call(G)))}finally{if(C)throw C.error}}})})}}async embedContent(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=hA(this.apiClient,t);return h=$("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=gA(v),E=new Vm;return Object.assign(E,T),E})}else{const m=pA(this.apiClient,t);return h=$("{model}:batchEmbedContents",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=mA(v),E=new Vm;return Object.assign(E,T),E})}}async generateImagesInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=NA(this.apiClient,t);return h=$("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=MA(v),E=new qm;return Object.assign(E,T),E})}else{const m=RA(this.apiClient,t);return h=$("{model}:predict",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=bA(v),E=new qm;return Object.assign(E,T),E})}}async editImageInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=uA(this.apiClient,t);return c=$("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=cA(y),v=new hE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async upscaleImageInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=Nx(this.apiClient,t);return c=$("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=bx(y),v=new mE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async recontextImage(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=rx(this.apiClient,t);return c=$("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=ux(y),v=new gE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async segmentImage(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=mx(this.apiClient,t);return c=$("{model}:predict",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=gx(y),v=new yE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async get(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=YA(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Wu(v))}else{const m=JA(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Zu(v))}}async listInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=tx(this.apiClient,t);return h=$("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=ix(v),E=new Om;return Object.assign(E,T),E})}else{const m=ex(this.apiClient,t);return h=$("{models_url}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=nx(v),E=new Om;return Object.assign(E,T),E})}}async update(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=xx(this.apiClient,t);return h=$("{model}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>Wu(v))}else{const m=Ax(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"PATCH",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>Zu(v))}}async delete(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=lA(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=sA(v),E=new Bm;return Object.assign(E,T),E})}else{const m=oA(this.apiClient,t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"DELETE",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=aA(v),E=new Bm;return Object.assign(E,T),E})}}async countTokens(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=tA(this.apiClient,t);return h=$("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=iA(v),E=new zm;return Object.assign(E,T),E})}else{const m=eA(this.apiClient,t);return h=$("{model}:countTokens",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=nA(v),E=new zm;return Object.assign(E,T),E})}}async computeTokens(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=KC(this.apiClient,t);return c=$("{model}:computeTokens",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>{const m=XC(y),v=new vE;return Object.assign(v,m),v})}else throw new Error("This method is only supported by the Vertex AI.")}async generateVideosInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=GA(this.apiClient,t);return h=$("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d.then(v=>{const T=UA(v),E=new Za;return Object.assign(E,T),E})}else{const m=LA(this.apiClient,t);return h=$("{model}:predictLongRunning",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d.then(v=>{const T=DA(v),E=new Za;return Object.assign(E,T),E})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ER extends An{constructor(t){super(),this.apiClient=t}async getVideosOperation(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:s,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async get(t){const o=t.operation,a=t.config;if(o.name===void 0||o.name==="")throw new Error("Operation name is required.");if(this.apiClient.isVertexAI()){const s=o.name.split("/operations/")[0];let c;a&&"httpOptions"in a&&(c=a.httpOptions);const d=await this.fetchPredictVideosOperationInternal({operationName:o.name,resourceName:s,config:{httpOptions:c}});return o._fromAPIResponse({apiResponse:d,_isVertexAI:!0})}else{const s=await this.getVideosOperationInternal({operationName:o.name,config:a});return o._fromAPIResponse({apiResponse:s,_isVertexAI:!1})}}async getVideosOperationInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=rE(t);return h=$("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json()),d}else{const m=sE(t);return h=$("{operationName}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json()),d}}async fetchPredictVideosOperationInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=eE(t);return c=$("{resourceName}:fetchPredictOperation",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s}else throw new Error("This method is only supported by the Vertex AI.")}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function _R(n){const t={},o=u(n,["data"]);if(o!=null&&f(t,["data"],o),u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function CR(n){const t={},o=u(n,["parts"]);if(o!=null){let s=o;Array.isArray(s)&&(s=s.map(c=>DR(c))),f(t,["parts"],s)}const a=u(n,["role"]);return a!=null&&f(t,["role"],a),t}function AR(n,t,o){const a={},s=u(t,["expireTime"]);o!==void 0&&s!=null&&f(o,["expireTime"],s);const c=u(t,["newSessionExpireTime"]);o!==void 0&&c!=null&&f(o,["newSessionExpireTime"],c);const d=u(t,["uses"]);o!==void 0&&d!=null&&f(o,["uses"],d);const h=u(t,["liveConnectConstraints"]);o!==void 0&&h!=null&&f(o,["bidiGenerateContentSetup"],IR(n,h));const y=u(t,["lockAdditionalFields"]);return o!==void 0&&y!=null&&f(o,["fieldMask"],y),a}function xR(n,t){const o={},a=u(t,["config"]);return a!=null&&f(o,["config"],AR(n,a,o)),o}function RR(n){const t={};if(u(n,["displayName"])!==void 0)throw new Error("displayName parameter is not supported in Gemini API.");const o=u(n,["fileUri"]);o!=null&&f(t,["fileUri"],o);const a=u(n,["mimeType"]);return a!=null&&f(t,["mimeType"],a),t}function NR(n){const t={},o=u(n,["id"]);o!=null&&f(t,["id"],o);const a=u(n,["args"]);a!=null&&f(t,["args"],a);const s=u(n,["name"]);if(s!=null&&f(t,["name"],s),u(n,["partialArgs"])!==void 0)throw new Error("partialArgs parameter is not supported in Gemini API.");if(u(n,["willContinue"])!==void 0)throw new Error("willContinue parameter is not supported in Gemini API.");return t}function bR(n){const t={};if(u(n,["authConfig"])!==void 0)throw new Error("authConfig parameter is not supported in Gemini API.");const o=u(n,["enableWidget"]);return o!=null&&f(t,["enableWidget"],o),t}function MR(n){const t={};if(u(n,["excludeDomains"])!==void 0)throw new Error("excludeDomains parameter is not supported in Gemini API.");if(u(n,["blockingConfidence"])!==void 0)throw new Error("blockingConfidence parameter is not supported in Gemini API.");const o=u(n,["timeRangeFilter"]);return o!=null&&f(t,["timeRangeFilter"],o),t}function wR(n,t){const o={},a=u(n,["generationConfig"]);t!==void 0&&a!=null&&f(t,["setup","generationConfig"],a);const s=u(n,["responseModalities"]);t!==void 0&&s!=null&&f(t,["setup","generationConfig","responseModalities"],s);const c=u(n,["temperature"]);t!==void 0&&c!=null&&f(t,["setup","generationConfig","temperature"],c);const d=u(n,["topP"]);t!==void 0&&d!=null&&f(t,["setup","generationConfig","topP"],d);const h=u(n,["topK"]);t!==void 0&&h!=null&&f(t,["setup","generationConfig","topK"],h);const y=u(n,["maxOutputTokens"]);t!==void 0&&y!=null&&f(t,["setup","generationConfig","maxOutputTokens"],y);const m=u(n,["mediaResolution"]);t!==void 0&&m!=null&&f(t,["setup","generationConfig","mediaResolution"],m);const v=u(n,["seed"]);t!==void 0&&v!=null&&f(t,["setup","generationConfig","seed"],v);const T=u(n,["speechConfig"]);t!==void 0&&T!=null&&f(t,["setup","generationConfig","speechConfig"],vc(T));const E=u(n,["thinkingConfig"]);t!==void 0&&E!=null&&f(t,["setup","generationConfig","thinkingConfig"],E);const C=u(n,["enableAffectiveDialog"]);t!==void 0&&C!=null&&f(t,["setup","generationConfig","enableAffectiveDialog"],C);const R=u(n,["systemInstruction"]);t!==void 0&&R!=null&&f(t,["setup","systemInstruction"],CR(rt(R)));const N=u(n,["tools"]);if(t!==void 0&&N!=null){let Z=mo(N);Array.isArray(Z)&&(Z=Z.map(K=>LR(ho(K)))),f(t,["setup","tools"],Z)}const b=u(n,["sessionResumption"]);t!==void 0&&b!=null&&f(t,["setup","sessionResumption"],UR(b));const G=u(n,["inputAudioTranscription"]);t!==void 0&&G!=null&&f(t,["setup","inputAudioTranscription"],G);const I=u(n,["outputAudioTranscription"]);t!==void 0&&I!=null&&f(t,["setup","outputAudioTranscription"],I);const D=u(n,["realtimeInputConfig"]);t!==void 0&&D!=null&&f(t,["setup","realtimeInputConfig"],D);const J=u(n,["contextWindowCompression"]);t!==void 0&&J!=null&&f(t,["setup","contextWindowCompression"],J);const V=u(n,["proactivity"]);if(t!==void 0&&V!=null&&f(t,["setup","proactivity"],V),u(n,["explicitVadSignal"])!==void 0)throw new Error("explicitVadSignal parameter is not supported in Gemini API.");return o}function IR(n,t){const o={},a=u(t,["model"]);a!=null&&f(o,["setup","model"],Ee(n,a));const s=u(t,["config"]);return s!=null&&f(o,["config"],wR(s,o)),o}function DR(n){const t={},o=u(n,["mediaResolution"]);o!=null&&f(t,["mediaResolution"],o);const a=u(n,["codeExecutionResult"]);a!=null&&f(t,["codeExecutionResult"],a);const s=u(n,["executableCode"]);s!=null&&f(t,["executableCode"],s);const c=u(n,["fileData"]);c!=null&&f(t,["fileData"],RR(c));const d=u(n,["functionCall"]);d!=null&&f(t,["functionCall"],NR(d));const h=u(n,["functionResponse"]);h!=null&&f(t,["functionResponse"],h);const y=u(n,["inlineData"]);y!=null&&f(t,["inlineData"],_R(y));const m=u(n,["text"]);m!=null&&f(t,["text"],m);const v=u(n,["thought"]);v!=null&&f(t,["thought"],v);const T=u(n,["thoughtSignature"]);T!=null&&f(t,["thoughtSignature"],T);const E=u(n,["videoMetadata"]);return E!=null&&f(t,["videoMetadata"],E),t}function UR(n){const t={},o=u(n,["handle"]);if(o!=null&&f(t,["handle"],o),u(n,["transparent"])!==void 0)throw new Error("transparent parameter is not supported in Gemini API.");return t}function LR(n){const t={};if(u(n,["retrieval"])!==void 0)throw new Error("retrieval parameter is not supported in Gemini API.");const o=u(n,["computerUse"]);o!=null&&f(t,["computerUse"],o);const a=u(n,["fileSearch"]);a!=null&&f(t,["fileSearch"],a);const s=u(n,["codeExecution"]);if(s!=null&&f(t,["codeExecution"],s),u(n,["enterpriseWebSearch"])!==void 0)throw new Error("enterpriseWebSearch parameter is not supported in Gemini API.");const c=u(n,["functionDeclarations"]);if(c!=null){let v=c;Array.isArray(v)&&(v=v.map(T=>T)),f(t,["functionDeclarations"],v)}const d=u(n,["googleMaps"]);d!=null&&f(t,["googleMaps"],bR(d));const h=u(n,["googleSearch"]);h!=null&&f(t,["googleSearch"],MR(h));const y=u(n,["googleSearchRetrieval"]);y!=null&&f(t,["googleSearchRetrieval"],y);const m=u(n,["urlContext"]);return m!=null&&f(t,["urlContext"],m),t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function GR(n){const t=[];for(const o in n)if(Object.prototype.hasOwnProperty.call(n,o)){const a=n[o];if(typeof a=="object"&&a!=null&&Object.keys(a).length>0){const s=Object.keys(a).map(c=>`${o}.${c}`);t.push(...s)}else t.push(o)}return t.join(",")}function HR(n,t){let o=null;const a=n.bidiGenerateContentSetup;if(typeof a=="object"&&a!==null&&"setup"in a){const c=a.setup;typeof c=="object"&&c!==null?(n.bidiGenerateContentSetup=c,o=c):delete n.bidiGenerateContentSetup}else a!==void 0&&delete n.bidiGenerateContentSetup;const s=n.fieldMask;if(o){const c=GR(o);if(Array.isArray(t==null?void 0:t.lockAdditionalFields)&&(t==null?void 0:t.lockAdditionalFields.length)===0)c?n.fieldMask=c:delete n.fieldMask;else if(t!=null&&t.lockAdditionalFields&&t.lockAdditionalFields.length>0&&s!==null&&Array.isArray(s)&&s.length>0){const d=["temperature","topK","topP","maxOutputTokens","responseModalities","seed","speechConfig"];let h=[];s.length>0&&(h=s.map(m=>d.includes(m)?`generationConfig.${m}`:m));const y=[];c&&y.push(c),h.length>0&&y.push(...h),y.length>0?n.fieldMask=y.join(","):delete n.fieldMask}else delete n.fieldMask}else s!==null&&Array.isArray(s)&&s.length>0?n.fieldMask=s.join(","):delete n.fieldMask;return n}class PR extends An{constructor(t){super(),this.apiClient=t}async create(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("The client.tokens.create method is only supported by the Gemini Developer API.");{const h=xR(this.apiClient,t);c=$("auth_tokens",h._url),d=h._query,delete h.config,delete h._url,delete h._query;const y=HR(h,t.config);return s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(y),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(m=>m.json()),s.then(m=>m)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function kR(n,t){const o={},a=u(n,["force"]);return t!==void 0&&a!=null&&f(t,["_query","force"],a),o}function VR(n){const t={},o=u(n,["name"]);o!=null&&f(t,["_url","name"],o);const a=u(n,["config"]);return a!=null&&kR(a,t),t}function qR(n){const t={},o=u(n,["name"]);return o!=null&&f(t,["_url","name"],o),t}function OR(n,t){const o={},a=u(n,["pageSize"]);t!==void 0&&a!=null&&f(t,["_query","pageSize"],a);const s=u(n,["pageToken"]);return t!==void 0&&s!=null&&f(t,["_query","pageToken"],s),o}function BR(n){const t={},o=u(n,["parent"]);o!=null&&f(t,["_url","parent"],o);const a=u(n,["config"]);return a!=null&&OR(a,t),t}function zR(n){const t={},o=u(n,["sdkHttpResponse"]);o!=null&&f(t,["sdkHttpResponse"],o);const a=u(n,["nextPageToken"]);a!=null&&f(t,["nextPageToken"],a);const s=u(n,["documents"]);if(s!=null){let c=s;Array.isArray(c)&&(c=c.map(d=>d)),f(t,["documents"],c)}return t}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class FR extends An{constructor(t){super(),this.apiClient=t,this.list=async o=>new Si(_n.PAGED_ITEM_DOCUMENTS,a=>this.listInternal({parent:o.parent,config:a.config}),await this.listInternal(o),o)}async get(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=qR(t);return c=$("{name}",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(t){var o,a;let s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=VR(t);s=$("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=BR(t);return c=$("{parent}/documents",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=zR(y),v=new TE;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class JR extends An{constructor(t,o=new FR(t)){super(),this.apiClient=t,this.documents=o,this.list=async(a={})=>new Si(_n.PAGED_ITEM_FILE_SEARCH_STORES,s=>this.listInternal(s),await this.listInternal(a),a)}async uploadToFileSearchStore(t){if(this.apiClient.isVertexAI())throw new Error("Vertex AI does not support uploading files to a file search store.");return this.apiClient.uploadFileToFileSearchStore(t.fileSearchStoreName,t.file,t.config)}async create(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Gx(t);return c=$("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async get(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=kx(t);return c=$("{name}",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>y)}}async delete(t){var o,a;let s="",c={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const d=Px(t);s=$("{name}",d._url),c=d._query,delete d._url,delete d._query,await this.apiClient.request({path:s,queryParams:c,body:JSON.stringify(d),httpMethod:"DELETE",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal})}}async listInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Fx(t);return c=$("fileSearchStores",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=Jx(y),v=new SE;return Object.assign(v,m),v})}}async uploadToFileSearchStoreInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Yx(t);return c=$("upload/v1beta/{file_search_store_name}:uploadToFileSearchStore",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=Kx(y),v=new EE;return Object.assign(v,m),v})}}async importFile(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=Ox(t);return c=$("{file_search_store_name}:importFile",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json()),s.then(y=>{const m=qx(y),v=new pc;return Object.assign(v,m),v})}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */let cy=function(){const{crypto:n}=globalThis;if(n!=null&&n.randomUUID)return cy=n.randomUUID.bind(n),n.randomUUID();const t=new Uint8Array(1),o=n?()=>n.getRandomValues(t)[0]:()=>Math.random()*255&255;return"10000000-1000-4000-8000-100000000000".replace(/[018]/g,a=>(+a^o()&15>>+a/4).toString(16))};const YR=()=>cy();/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function ec(n){return typeof n=="object"&&n!==null&&("name"in n&&n.name==="AbortError"||"message"in n&&String(n.message).includes("FetchRequestCanceledException"))}const tc=n=>{if(n instanceof Error)return n;if(typeof n=="object"&&n!==null){try{if(Object.prototype.toString.call(n)==="[object Error]"){const t=new Error(n.message,n.cause?{cause:n.cause}:{});return n.stack&&(t.stack=n.stack),n.cause&&!t.cause&&(t.cause=n.cause),n.name&&(t.name=n.name),t}}catch{}try{return new Error(JSON.stringify(n))}catch{}}return new Error(n)};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ot extends Error{}class dt extends Ot{constructor(t,o,a,s){super(`${dt.makeMessage(t,o,a)}`),this.status=t,this.headers=s,this.error=o}static makeMessage(t,o,a){const s=o!=null&&o.message?typeof o.message=="string"?o.message:JSON.stringify(o.message):o?JSON.stringify(o):a;return t&&s?`${t} ${s}`:t?`${t} status code (no body)`:s||"(no status code or body)"}static generate(t,o,a,s){if(!t||!s)return new us({message:a,cause:tc(o)});const c=o;return t===400?new dy(t,c,a,s):t===401?new py(t,c,a,s):t===403?new hy(t,c,a,s):t===404?new my(t,c,a,s):t===409?new gy(t,c,a,s):t===422?new yy(t,c,a,s):t===429?new vy(t,c,a,s):t>=500?new Ty(t,c,a,s):new dt(t,c,a,s)}}class nc extends dt{constructor({message:t}={}){super(void 0,void 0,t||"Request was aborted.",void 0)}}class us extends dt{constructor({message:t,cause:o}){super(void 0,void 0,t||"Connection error.",void 0),o&&(this.cause=o)}}class fy extends us{constructor({message:t}={}){super({message:t??"Request timed out."})}}class dy extends dt{}class py extends dt{}class hy extends dt{}class my extends dt{}class gy extends dt{}class yy extends dt{}class vy extends dt{}class Ty extends dt{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const KR=/^[a-z][a-z0-9+.-]*:/i,XR=n=>KR.test(n);let ic=n=>(ic=Array.isArray,ic(n));const QR=ic;let $R=QR;const fg=$R;function ZR(n){if(!n)return!0;for(const t in n)return!1;return!0}function WR(n,t){return Object.prototype.hasOwnProperty.call(n,t)}const jR=(n,t)=>{if(typeof t!="number"||!Number.isInteger(t))throw new Ot(`${n} must be an integer`);if(t<0)throw new Ot(`${n} must be a positive integer`);return t},eN=n=>{try{return JSON.parse(n)}catch{return}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const tN=n=>new Promise(t=>setTimeout(t,n));/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const lo="0.0.1";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function nN(){return typeof Deno<"u"&&Deno.build!=null?"deno":typeof EdgeRuntime<"u"?"edge":Object.prototype.toString.call(typeof globalThis.process<"u"?globalThis.process:0)==="[object process]"?"node":"unknown"}const iN=()=>{var n,t,o,a,s;const c=nN();if(c==="deno")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":pg(Deno.build.os),"X-Stainless-Arch":dg(Deno.build.arch),"X-Stainless-Runtime":"deno","X-Stainless-Runtime-Version":typeof Deno.version=="string"?Deno.version:(t=(n=Deno.version)===null||n===void 0?void 0:n.deno)!==null&&t!==void 0?t:"unknown"};if(typeof EdgeRuntime<"u")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":`other:${EdgeRuntime}`,"X-Stainless-Runtime":"edge","X-Stainless-Runtime-Version":globalThis.process.version};if(c==="node")return{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":pg((o=globalThis.process.platform)!==null&&o!==void 0?o:"unknown"),"X-Stainless-Arch":dg((a=globalThis.process.arch)!==null&&a!==void 0?a:"unknown"),"X-Stainless-Runtime":"node","X-Stainless-Runtime-Version":(s=globalThis.process.version)!==null&&s!==void 0?s:"unknown"};const d=oN();return d?{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":`browser:${d.browser}`,"X-Stainless-Runtime-Version":d.version}:{"X-Stainless-Lang":"js","X-Stainless-Package-Version":lo,"X-Stainless-OS":"Unknown","X-Stainless-Arch":"unknown","X-Stainless-Runtime":"unknown","X-Stainless-Runtime-Version":"unknown"}};function oN(){if(typeof navigator>"u"||!navigator)return null;const n=[{key:"edge",pattern:/Edge(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/MSIE(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"ie",pattern:/Trident(?:.*rv\:(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"chrome",pattern:/Chrome(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"firefox",pattern:/Firefox(?:\W+(\d+)\.(\d+)(?:\.(\d+))?)?/},{key:"safari",pattern:/(?:Version\W+(\d+)\.(\d+)(?:\.(\d+))?)?(?:\W+Mobile\S*)?\W+Safari/}];for(const{key:t,pattern:o}of n){const a=o.exec(navigator.userAgent);if(a){const s=a[1]||0,c=a[2]||0,d=a[3]||0;return{browser:t,version:`${s}.${c}.${d}`}}}return null}const dg=n=>n==="x32"?"x32":n==="x86_64"||n==="x64"?"x64":n==="arm"?"arm":n==="aarch64"||n==="arm64"?"arm64":n?`other:${n}`:"unknown",pg=n=>(n=n.toLowerCase(),n.includes("ios")?"iOS":n==="android"?"Android":n==="darwin"?"MacOS":n==="win32"?"Windows":n==="freebsd"?"FreeBSD":n==="openbsd"?"OpenBSD":n==="linux"?"Linux":n?`Other:${n}`:"Unknown");let qa;const lN=()=>qa??(qa=iN());/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function aN(){if(typeof fetch<"u")return fetch;throw new Error("`fetch` is not defined as a global; Either pass `fetch` to the client, `new GeminiNextGenAPIClient({ fetch })` or polyfill the global, `globalThis.fetch = fetch`")}function Sy(...n){const t=globalThis.ReadableStream;if(typeof t>"u")throw new Error("`ReadableStream` is not defined as a global; You will need to polyfill it, `globalThis.ReadableStream = ReadableStream`");return new t(...n)}function sN(n){let t=Symbol.asyncIterator in n?n[Symbol.asyncIterator]():n[Symbol.iterator]();return Sy({start(){},async pull(o){const{done:a,value:s}=await t.next();a?o.close():o.enqueue(s)},async cancel(){var o;await((o=t.return)===null||o===void 0?void 0:o.call(t))}})}function Ey(n){if(n[Symbol.asyncIterator])return n;const t=n.getReader();return{async next(){try{const o=await t.read();return o!=null&&o.done&&t.releaseLock(),o}catch(o){throw t.releaseLock(),o}},async return(){const o=t.cancel();return t.releaseLock(),await o,{done:!0,value:void 0}},[Symbol.asyncIterator](){return this}}}async function rN(n){var t,o;if(n===null||typeof n!="object")return;if(n[Symbol.asyncIterator]){await((o=(t=n[Symbol.asyncIterator]()).return)===null||o===void 0?void 0:o.call(t));return}const a=n.getReader(),s=a.cancel();a.releaseLock(),await s}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const uN=({headers:n,body:t})=>({bodyHeaders:{"content-type":"application/json"},body:JSON.stringify(t)});/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const _y=()=>{var n;if(typeof File>"u"){const{process:t}=globalThis,o=typeof((n=t==null?void 0:t.versions)===null||n===void 0?void 0:n.node)=="string"&&parseInt(t.versions.node.split("."))<20;throw new Error("`File` is not defined as a global, which is required for file uploads."+(o?" Update to Node 20 LTS or newer, or set `globalThis.File` to `import('node:buffer').File`.":""))}};function qu(n,t,o){return _y(),new File(n,t??"unknown_file",o)}function cN(n){return(typeof n=="object"&&n!==null&&("name"in n&&n.name&&String(n.name)||"url"in n&&n.url&&String(n.url)||"filename"in n&&n.filename&&String(n.filename)||"path"in n&&n.path&&String(n.path))||"").split(/[\\/]/).pop()||void 0}const fN=n=>n!=null&&typeof n=="object"&&typeof n[Symbol.asyncIterator]=="function";/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Cy=n=>n!=null&&typeof n=="object"&&typeof n.size=="number"&&typeof n.type=="string"&&typeof n.text=="function"&&typeof n.slice=="function"&&typeof n.arrayBuffer=="function",dN=n=>n!=null&&typeof n=="object"&&typeof n.name=="string"&&typeof n.lastModified=="number"&&Cy(n),pN=n=>n!=null&&typeof n=="object"&&typeof n.url=="string"&&typeof n.blob=="function";async function hN(n,t,o){if(_y(),n=await n,dN(n))return n instanceof File?n:qu([await n.arrayBuffer()],n.name);if(pN(n)){const s=await n.blob();return t||(t=new URL(n.url).pathname.split(/[\\/]/).pop()),qu(await oc(s),t,o)}const a=await oc(n);if(t||(t=cN(n)),!(o!=null&&o.type)){const s=a.find(c=>typeof c=="object"&&"type"in c&&c.type);typeof s=="string"&&(o=Object.assign(Object.assign({},o),{type:s}))}return qu(a,t,o)}async function oc(n){var t,o,a,s,c;let d=[];if(typeof n=="string"||ArrayBuffer.isView(n)||n instanceof ArrayBuffer)d.push(n);else if(Cy(n))d.push(n instanceof Blob?n:await n.arrayBuffer());else if(fN(n))try{for(var h=!0,y=Kt(n),m;m=await y.next(),t=m.done,!t;h=!0){s=m.value,h=!1;const v=s;d.push(...await oc(v))}}catch(v){o={error:v}}finally{try{!h&&!t&&(a=y.return)&&await a.call(y)}finally{if(o)throw o.error}}else{const v=(c=n==null?void 0:n.constructor)===null||c===void 0?void 0:c.name;throw new Error(`Unexpected data type: ${typeof n}${v?`; constructor: ${v}`:""}${mN(n)}`)}return d}function mN(n){return typeof n!="object"||n===null?"":`; props: [${Object.getOwnPropertyNames(n).map(o=>`"${o}"`).join(", ")}]`}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ay{constructor(t){this._client=t}}Ay._key=[];/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function xy(n){return n.replace(/[^A-Za-z0-9\-._~!$&'()*+,;=:@]+/g,encodeURIComponent)}const hg=Object.freeze(Object.create(null)),gN=(n=xy)=>(function(o,...a){if(o.length===1)return o[0];let s=!1;const c=[],d=o.reduce((v,T,E)=>{var C,R,N;/[?#]/.test(T)&&(s=!0);const b=a[E];let G=(s?encodeURIComponent:n)(""+b);return E!==a.length&&(b==null||typeof b=="object"&&b.toString===((N=Object.getPrototypeOf((R=Object.getPrototypeOf((C=b.hasOwnProperty)!==null&&C!==void 0?C:hg))!==null&&R!==void 0?R:hg))===null||N===void 0?void 0:N.toString))&&(G=b+"",c.push({start:v.length+T.length,length:G.length,error:`Value of type ${Object.prototype.toString.call(b).slice(8,-1)} is not a valid path parameter`})),v+T+(E===a.length?"":G)},""),h=d.split(/[?#]/,1)[0],y=new RegExp("(?<=^|\\/)(?:\\.|%2e){1,2}(?=\\/|$)","gi");let m;for(;(m=y.exec(h))!==null;)c.push({start:m.index,length:m[0].length,error:`Value "${m[0]}" can't be safely passed as a path parameter`});if(c.sort((v,T)=>v.start-T.start),c.length>0){let v=0;const T=c.reduce((E,C)=>{const R=" ".repeat(C.start-v),N="^".repeat(C.length);return v=C.start+C.length,E+R+N},"");throw new Ot(`Path parameters result in path with invalid segments:
${c.map(E=>E.error).join(`
`)}
${d}
${T}`)}return d}),Oa=gN(xy);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ry extends Ay{create(t,o){var a;const{api_version:s=this._client.apiVersion}=t,c=ja(t,["api_version"]);if("model"in c&&"agent_config"in c)throw new Ot("Invalid request: specified `model` and `agent_config`. If specifying `model`, use `generation_config`.");if("agent"in c&&"generation_config"in c)throw new Ot("Invalid request: specified `agent` and `generation_config`. If specifying `agent`, use `agent_config`.");return this._client.post(Oa`/${s}/interactions`,Object.assign(Object.assign({body:c},o),{stream:(a=t.stream)!==null&&a!==void 0?a:!1}))}delete(t,o={},a){const{api_version:s=this._client.apiVersion}=o??{};return this._client.delete(Oa`/${s}/interactions/${t}`,a)}cancel(t,o={},a){const{api_version:s=this._client.apiVersion}=o??{};return this._client.post(Oa`/${s}/interactions/${t}/cancel`,a)}get(t,o={},a){var s;const c=o??{},{api_version:d=this._client.apiVersion}=c,h=ja(c,["api_version"]);return this._client.get(Oa`/${d}/interactions/${t}`,Object.assign(Object.assign({query:h},a),{stream:(s=o==null?void 0:o.stream)!==null&&s!==void 0?s:!1}))}}Ry._key=Object.freeze(["interactions"]);class Ny extends Ry{}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function yN(n){let t=0;for(const s of n)t+=s.length;const o=new Uint8Array(t);let a=0;for(const s of n)o.set(s,a),a+=s.length;return o}let Ba;function Sc(n){let t;return(Ba??(t=new globalThis.TextEncoder,Ba=t.encode.bind(t)))(n)}let za;function mg(n){let t;return(za??(t=new globalThis.TextDecoder,za=t.decode.bind(t)))(n)}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class cs{constructor(){this.buffer=new Uint8Array,this.carriageReturnIndex=null}decode(t){if(t==null)return[];const o=t instanceof ArrayBuffer?new Uint8Array(t):typeof t=="string"?Sc(t):t;this.buffer=yN([this.buffer,o]);const a=[];let s;for(;(s=vN(this.buffer,this.carriageReturnIndex))!=null;){if(s.carriage&&this.carriageReturnIndex==null){this.carriageReturnIndex=s.index;continue}if(this.carriageReturnIndex!=null&&(s.index!==this.carriageReturnIndex+1||s.carriage)){a.push(mg(this.buffer.subarray(0,this.carriageReturnIndex-1))),this.buffer=this.buffer.subarray(this.carriageReturnIndex),this.carriageReturnIndex=null;continue}const c=this.carriageReturnIndex!==null?s.preceding-1:s.preceding,d=mg(this.buffer.subarray(0,c));a.push(d),this.buffer=this.buffer.subarray(s.index),this.carriageReturnIndex=null}return a}flush(){return this.buffer.length?this.decode(`
`):[]}}cs.NEWLINE_CHARS=new Set([`
`,"\r"]);cs.NEWLINE_REGEXP=/\r\n|[\n\r]/g;function vN(n,t){for(let s=t??0;s<n.length;s++){if(n[s]===10)return{preceding:s,index:s+1,carriage:!1};if(n[s]===13)return{preceding:s,index:s+1,carriage:!0}}return null}function TN(n){for(let a=0;a<n.length-1;a++){if(n[a]===10&&n[a+1]===10||n[a]===13&&n[a+1]===13)return a+2;if(n[a]===13&&n[a+1]===10&&a+3<n.length&&n[a+2]===13&&n[a+3]===10)return a+4}return-1}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const es={off:0,error:200,warn:300,info:400,debug:500},gg=(n,t,o)=>{if(n){if(WR(es,n))return n;ft(o).warn(`${t} was set to ${JSON.stringify(n)}, expected one of ${JSON.stringify(Object.keys(es))}`)}};function ml(){}function Fa(n,t,o){return!t||es[n]>es[o]?ml:t[n].bind(t)}const SN={error:ml,warn:ml,info:ml,debug:ml};let yg=new WeakMap;function ft(n){var t;const o=n.logger,a=(t=n.logLevel)!==null&&t!==void 0?t:"off";if(!o)return SN;const s=yg.get(o);if(s&&s[0]===a)return s[1];const c={error:Fa("error",o,a),warn:Fa("warn",o,a),info:Fa("info",o,a),debug:Fa("debug",o,a)};return yg.set(o,[a,c]),c}const vi=n=>(n.options&&(n.options=Object.assign({},n.options),delete n.options.headers),n.headers&&(n.headers=Object.fromEntries((n.headers instanceof Headers?[...n.headers]:Object.entries(n.headers)).map(([t,o])=>[t,t.toLowerCase()==="x-goog-api-key"||t.toLowerCase()==="authorization"||t.toLowerCase()==="cookie"||t.toLowerCase()==="set-cookie"?"***":o]))),"retryOfRequestLogID"in n&&(n.retryOfRequestLogID&&(n.retryOf=n.retryOfRequestLogID),delete n.retryOfRequestLogID),n);/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class so{constructor(t,o,a){this.iterator=t,this.controller=o,this.client=a}static fromSSEResponse(t,o,a){let s=!1;const c=a?ft(a):console;function d(){return Yt(this,arguments,function*(){var y,m,v,T;if(s)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let E=!1;try{try{for(var C=!0,R=Kt(EN(t,o)),N;N=yield se(R.next()),y=N.done,!y;C=!0){T=N.value,C=!1;const b=T;if(!E)if(b.data.startsWith("[DONE]")){E=!0;continue}else try{yield yield se(JSON.parse(b.data))}catch(G){throw c.error("Could not parse message into JSON:",b.data),c.error("From chunk:",b.raw),G}}}catch(b){m={error:b}}finally{try{!C&&!y&&(v=R.return)&&(yield se(v.call(R)))}finally{if(m)throw m.error}}E=!0}catch(b){if(ec(b))return yield se(void 0);throw b}finally{E||o.abort()}})}return new so(d,o,a)}static fromReadableStream(t,o,a){let s=!1;function c(){return Yt(this,arguments,function*(){var y,m,v,T;const E=new cs,C=Ey(t);try{for(var R=!0,N=Kt(C),b;b=yield se(N.next()),y=b.done,!y;R=!0){T=b.value,R=!1;const G=T;for(const I of E.decode(G))yield yield se(I)}}catch(G){m={error:G}}finally{try{!R&&!y&&(v=N.return)&&(yield se(v.call(N)))}finally{if(m)throw m.error}}for(const G of E.flush())yield yield se(G)})}function d(){return Yt(this,arguments,function*(){var y,m,v,T;if(s)throw new Ot("Cannot iterate over a consumed stream, use `.tee()` to split the stream.");s=!0;let E=!1;try{try{for(var C=!0,R=Kt(c()),N;N=yield se(R.next()),y=N.done,!y;C=!0){T=N.value,C=!1;const b=T;E||b&&(yield yield se(JSON.parse(b)))}}catch(b){m={error:b}}finally{try{!C&&!y&&(v=R.return)&&(yield se(v.call(R)))}finally{if(m)throw m.error}}E=!0}catch(b){if(ec(b))return yield se(void 0);throw b}finally{E||o.abort()}})}return new so(d,o,a)}[Symbol.asyncIterator](){return this.iterator()}tee(){const t=[],o=[],a=this.iterator(),s=c=>({next:()=>{if(c.length===0){const d=a.next();t.push(d),o.push(d)}return c.shift()}});return[new so(()=>s(t),this.controller,this.client),new so(()=>s(o),this.controller,this.client)]}toReadableStream(){const t=this;let o;return Sy({async start(){o=t[Symbol.asyncIterator]()},async pull(a){try{const{value:s,done:c}=await o.next();if(c)return a.close();const d=Sc(JSON.stringify(s)+`
`);a.enqueue(d)}catch(s){a.error(s)}},async cancel(){var a;await((a=o.return)===null||a===void 0?void 0:a.call(o))}})}}function EN(n,t){return Yt(this,arguments,function*(){var a,s,c,d;if(!n.body)throw t.abort(),typeof globalThis.navigator<"u"&&globalThis.navigator.product==="ReactNative"?new Ot("The default react-native fetch implementation does not support streaming. Please use expo/fetch: https://docs.expo.dev/versions/latest/sdk/expo/#expofetch-api"):new Ot("Attempted to iterate over a response with no body");const h=new CN,y=new cs,m=Ey(n.body);try{for(var v=!0,T=Kt(_N(m)),E;E=yield se(T.next()),a=E.done,!a;v=!0){d=E.value,v=!1;const C=d;for(const R of y.decode(C)){const N=h.decode(R);N&&(yield yield se(N))}}}catch(C){s={error:C}}finally{try{!v&&!a&&(c=T.return)&&(yield se(c.call(T)))}finally{if(s)throw s.error}}for(const C of y.flush()){const R=h.decode(C);R&&(yield yield se(R))}})}function _N(n){return Yt(this,arguments,function*(){var o,a,s,c;let d=new Uint8Array;try{for(var h=!0,y=Kt(n),m;m=yield se(y.next()),o=m.done,!o;h=!0){c=m.value,h=!1;const v=c;if(v==null)continue;const T=v instanceof ArrayBuffer?new Uint8Array(v):typeof v=="string"?Sc(v):v;let E=new Uint8Array(d.length+T.length);E.set(d),E.set(T,d.length),d=E;let C;for(;(C=TN(d))!==-1;)yield yield se(d.slice(0,C)),d=d.slice(C)}}catch(v){a={error:v}}finally{try{!h&&!o&&(s=y.return)&&(yield se(s.call(y)))}finally{if(a)throw a.error}}d.length>0&&(yield yield se(d))})}class CN{constructor(){this.event=null,this.data=[],this.chunks=[]}decode(t){if(t.endsWith("\r")&&(t=t.substring(0,t.length-1)),!t){if(!this.event&&!this.data.length)return null;const c={event:this.event,data:this.data.join(`
`),raw:this.chunks};return this.event=null,this.data=[],this.chunks=[],c}if(this.chunks.push(t),t.startsWith(":"))return null;let[o,a,s]=AN(t,":");return s.startsWith(" ")&&(s=s.substring(1)),o==="event"?this.event=s:o==="data"&&this.data.push(s),null}}function AN(n,t){const o=n.indexOf(t);return o!==-1?[n.substring(0,o),t,n.substring(o+t.length)]:[n,"",""]}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */async function xN(n,t){const{response:o,requestLogID:a,retryOfRequestLogID:s,startTime:c}=t,d=await(async()=>{var h;if(t.options.stream)return ft(n).debug("response",o.status,o.url,o.headers,o.body),t.options.__streamClass?t.options.__streamClass.fromSSEResponse(o,t.controller,n):so.fromSSEResponse(o,t.controller,n);if(o.status===204)return null;if(t.options.__binaryResponse)return o;const y=o.headers.get("content-type"),m=(h=y==null?void 0:y.split(";")[0])===null||h===void 0?void 0:h.trim();return(m==null?void 0:m.includes("application/json"))||(m==null?void 0:m.endsWith("+json"))?await o.json():await o.text()})();return ft(n).debug(`[${a}] response parsed`,vi({retryOfRequestLogID:s,url:o.url,status:o.status,body:d,durationMs:Date.now()-c})),d}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class Ec extends Promise{constructor(t,o,a=xN){super(s=>{s(null)}),this.responsePromise=o,this.parseResponse=a,this.client=t}_thenUnwrap(t){return new Ec(this.client,this.responsePromise,async(o,a)=>t(await this.parseResponse(o,a),a))}asResponse(){return this.responsePromise.then(t=>t.response)}async withResponse(){const[t,o]=await Promise.all([this.parse(),this.asResponse()]);return{data:t,response:o}}parse(){return this.parsedPromise||(this.parsedPromise=this.responsePromise.then(t=>this.parseResponse(this.client,t))),this.parsedPromise}then(t,o){return this.parse().then(t,o)}catch(t){return this.parse().catch(t)}finally(t){return this.parse().finally(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const by=Symbol("brand.privateNullableHeaders");function*RN(n){if(!n)return;if(by in n){const{values:a,nulls:s}=n;yield*a.entries();for(const c of s)yield[c,null];return}let t=!1,o;n instanceof Headers?o=n.entries():fg(n)?o=n:(t=!0,o=Object.entries(n??{}));for(let a of o){const s=a[0];if(typeof s!="string")throw new TypeError("expected header name to be a string");const c=fg(a[1])?a[1]:[a[1]];let d=!1;for(const h of c)h!==void 0&&(t&&!d&&(d=!0,yield[s,null]),yield[s,h])}}const hl=n=>{const t=new Headers,o=new Set;for(const a of n){const s=new Set;for(const[c,d]of RN(a)){const h=c.toLowerCase();s.has(h)||(t.delete(c),s.add(h)),d===null?(t.delete(c),o.add(h)):(t.append(c,d),o.delete(h))}}return{[by]:!0,values:t,nulls:o}};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const Ou=n=>{var t,o,a,s,c,d;if(typeof globalThis.process<"u")return(a=(o=(t=XS)===null||t===void 0?void 0:t[n])===null||o===void 0?void 0:o.trim())!==null&&a!==void 0?a:void 0;if(typeof globalThis.Deno<"u")return(d=(c=(s=globalThis.Deno.env)===null||s===void 0?void 0:s.get)===null||c===void 0?void 0:c.call(s,n))===null||d===void 0?void 0:d.trim()};/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */var My;class fs{constructor(t){var o,a,s,c,d,h,y,{baseURL:m=Ou("GEMINI_NEXT_GEN_API_BASE_URL"),apiKey:v=(o=Ou("GEMINI_API_KEY"))!==null&&o!==void 0?o:null,apiVersion:T="v1beta"}=t,E=ja(t,["baseURL","apiKey","apiVersion"]);const C=Object.assign(Object.assign({apiKey:v,apiVersion:T},E),{baseURL:m||"https://generativelanguage.googleapis.com"});this.baseURL=C.baseURL,this.timeout=(a=C.timeout)!==null&&a!==void 0?a:fs.DEFAULT_TIMEOUT,this.logger=(s=C.logger)!==null&&s!==void 0?s:console;const R="warn";this.logLevel=R,this.logLevel=(d=(c=gg(C.logLevel,"ClientOptions.logLevel",this))!==null&&c!==void 0?c:gg(Ou("GEMINI_NEXT_GEN_API_LOG"),"process.env['GEMINI_NEXT_GEN_API_LOG']",this))!==null&&d!==void 0?d:R,this.fetchOptions=C.fetchOptions,this.maxRetries=(h=C.maxRetries)!==null&&h!==void 0?h:2,this.fetch=(y=C.fetch)!==null&&y!==void 0?y:aN(),this.encoder=uN,this._options=C,this.apiKey=v,this.apiVersion=T,this.clientAdapter=C.clientAdapter}withOptions(t){return new this.constructor(Object.assign(Object.assign(Object.assign({},this._options),{baseURL:this.baseURL,maxRetries:this.maxRetries,timeout:this.timeout,logger:this.logger,logLevel:this.logLevel,fetch:this.fetch,fetchOptions:this.fetchOptions,apiKey:this.apiKey,apiVersion:this.apiVersion}),t))}baseURLOverridden(){return this.baseURL!=="https://generativelanguage.googleapis.com"}defaultQuery(){return this._options.defaultQuery}validateHeaders({values:t,nulls:o}){if(!(t.has("authorization")||t.has("x-goog-api-key"))&&!(this.apiKey&&t.get("x-goog-api-key"))&&!o.has("x-goog-api-key"))throw new Error('Could not resolve authentication method. Expected the apiKey to be set. Or for the "x-goog-api-key" headers to be explicitly omitted')}async authHeaders(t){const o=hl([t.headers]);if(!(o.values.has("authorization")||o.values.has("x-goog-api-key"))){if(this.apiKey)return hl([{"x-goog-api-key":this.apiKey}]);if(this.clientAdapter.isVertexAI())return hl([await this.clientAdapter.getAuthHeaders()])}}stringifyQuery(t){return Object.entries(t).filter(([o,a])=>typeof a<"u").map(([o,a])=>{if(typeof a=="string"||typeof a=="number"||typeof a=="boolean")return`${encodeURIComponent(o)}=${encodeURIComponent(a)}`;if(a===null)return`${encodeURIComponent(o)}=`;throw new Ot(`Cannot stringify type ${typeof a}; Expected string, number, boolean, or null. If you need to pass nested query parameters, you can manually encode them, e.g. { query: { 'foo[key1]': value1, 'foo[key2]': value2 } }, and please open a GitHub issue requesting better support for your use case.`)}).join("&")}getUserAgent(){return`${this.constructor.name}/JS ${lo}`}defaultIdempotencyKey(){return`stainless-node-retry-${YR()}`}makeStatusError(t,o,a,s){return dt.generate(t,o,a,s)}buildURL(t,o,a){const s=!this.baseURLOverridden()&&a||this.baseURL,c=XR(t)?new URL(t):new URL(s+(s.endsWith("/")&&t.startsWith("/")?t.slice(1):t)),d=this.defaultQuery();return ZR(d)||(o=Object.assign(Object.assign({},d),o)),typeof o=="object"&&o&&!Array.isArray(o)&&(c.search=this.stringifyQuery(o)),c.toString()}async prepareOptions(t){if(this.clientAdapter&&this.clientAdapter.isVertexAI()&&!t.path.startsWith(`/${this.apiVersion}/projects/`)){const o=t.path.slice(this.apiVersion.length+1);t.path=`/${this.apiVersion}/projects/${this.clientAdapter.getProject()}/locations/${this.clientAdapter.getLocation()}${o}`}}async prepareRequest(t,{url:o,options:a}){}get(t,o){return this.methodRequest("get",t,o)}post(t,o){return this.methodRequest("post",t,o)}patch(t,o){return this.methodRequest("patch",t,o)}put(t,o){return this.methodRequest("put",t,o)}delete(t,o){return this.methodRequest("delete",t,o)}methodRequest(t,o,a){return this.request(Promise.resolve(a).then(s=>Object.assign({method:t,path:o},s)))}request(t,o=null){return new Ec(this,this.makeRequest(t,o,void 0))}async makeRequest(t,o,a){var s,c,d;const h=await t,y=(s=h.maxRetries)!==null&&s!==void 0?s:this.maxRetries;o==null&&(o=y),await this.prepareOptions(h);const{req:m,url:v,timeout:T}=await this.buildRequest(h,{retryCount:y-o});await this.prepareRequest(m,{url:v,options:h});const E="log_"+(Math.random()*(1<<24)|0).toString(16).padStart(6,"0"),C=a===void 0?"":`, retryOf: ${a}`,R=Date.now();if(ft(this).debug(`[${E}] sending request`,vi({retryOfRequestLogID:a,method:h.method,url:v,options:h,headers:m.headers})),!((c=h.signal)===null||c===void 0)&&c.aborted)throw new nc;const N=new AbortController,b=await this.fetchWithTimeout(v,m,T,N).catch(tc),G=Date.now();if(b instanceof globalThis.Error){const D=`retrying, ${o} attempts remaining`;if(!((d=h.signal)===null||d===void 0)&&d.aborted)throw new nc;const J=ec(b)||/timed? ?out/i.test(String(b)+("cause"in b?String(b.cause):""));if(o)return ft(this).info(`[${E}] connection ${J?"timed out":"failed"} - ${D}`),ft(this).debug(`[${E}] connection ${J?"timed out":"failed"} (${D})`,vi({retryOfRequestLogID:a,url:v,durationMs:G-R,message:b.message})),this.retryRequest(h,o,a??E);throw ft(this).info(`[${E}] connection ${J?"timed out":"failed"} - error; no more retries left`),ft(this).debug(`[${E}] connection ${J?"timed out":"failed"} (error; no more retries left)`,vi({retryOfRequestLogID:a,url:v,durationMs:G-R,message:b.message})),J?new fy:new us({cause:b})}const I=`[${E}${C}] ${m.method} ${v} ${b.ok?"succeeded":"failed"} with status ${b.status} in ${G-R}ms`;if(!b.ok){const D=await this.shouldRetry(b);if(o&&D){const Q=`retrying, ${o} attempts remaining`;return await rN(b.body),ft(this).info(`${I} - ${Q}`),ft(this).debug(`[${E}] response error (${Q})`,vi({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,durationMs:G-R})),this.retryRequest(h,o,a??E,b.headers)}const J=D?"error; no more retries left":"error; not retryable";ft(this).info(`${I} - ${J}`);const V=await b.text().catch(Q=>tc(Q).message),Z=eN(V),K=Z?void 0:V;throw ft(this).debug(`[${E}] response error (${J})`,vi({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,message:K,durationMs:Date.now()-R})),this.makeStatusError(b.status,Z,K,b.headers)}return ft(this).info(I),ft(this).debug(`[${E}] response start`,vi({retryOfRequestLogID:a,url:b.url,status:b.status,headers:b.headers,durationMs:G-R})),{response:b,options:h,controller:N,requestLogID:E,retryOfRequestLogID:a,startTime:R}}async fetchWithTimeout(t,o,a,s){const c=o||{},{signal:d,method:h}=c,y=ja(c,["signal","method"]);d&&d.addEventListener("abort",()=>s.abort());const m=setTimeout(()=>s.abort(),a),v=globalThis.ReadableStream&&y.body instanceof globalThis.ReadableStream||typeof y.body=="object"&&y.body!==null&&Symbol.asyncIterator in y.body,T=Object.assign(Object.assign(Object.assign({signal:s.signal},v?{duplex:"half"}:{}),{method:"GET"}),y);h&&(T.method=h.toUpperCase());try{return await this.fetch.call(void 0,t,T)}finally{clearTimeout(m)}}async shouldRetry(t){const o=t.headers.get("x-should-retry");return o==="true"?!0:o==="false"?!1:t.status===408||t.status===409||t.status===429||t.status>=500}async retryRequest(t,o,a,s){var c;let d;const h=s==null?void 0:s.get("retry-after-ms");if(h){const m=parseFloat(h);Number.isNaN(m)||(d=m)}const y=s==null?void 0:s.get("retry-after");if(y&&!d){const m=parseFloat(y);Number.isNaN(m)?d=Date.parse(y)-Date.now():d=m*1e3}if(!(d&&0<=d&&d<60*1e3)){const m=(c=t.maxRetries)!==null&&c!==void 0?c:this.maxRetries;d=this.calculateDefaultRetryTimeoutMillis(o,m)}return await tN(d),this.makeRequest(t,o-1,a)}calculateDefaultRetryTimeoutMillis(t,o){const c=o-t,d=Math.min(.5*Math.pow(2,c),8),h=1-Math.random()*.25;return d*h*1e3}async buildRequest(t,{retryCount:o=0}={}){var a,s,c;const d=Object.assign({},t),{method:h,path:y,query:m,defaultBaseURL:v}=d,T=this.buildURL(y,m,v);"timeout"in d&&jR("timeout",d.timeout),d.timeout=(a=d.timeout)!==null&&a!==void 0?a:this.timeout;const{bodyHeaders:E,body:C}=this.buildBody({options:d}),R=await this.buildHeaders({options:t,method:h,bodyHeaders:E,retryCount:o});return{req:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({method:h,headers:R},d.signal&&{signal:d.signal}),globalThis.ReadableStream&&C instanceof globalThis.ReadableStream&&{duplex:"half"}),C&&{body:C}),(s=this.fetchOptions)!==null&&s!==void 0?s:{}),(c=d.fetchOptions)!==null&&c!==void 0?c:{}),url:T,timeout:d.timeout}}async buildHeaders({options:t,method:o,bodyHeaders:a,retryCount:s}){let c={};this.idempotencyHeader&&o!=="get"&&(t.idempotencyKey||(t.idempotencyKey=this.defaultIdempotencyKey()),c[this.idempotencyHeader]=t.idempotencyKey);const d=await this.authHeaders(t);let h=hl([c,Object.assign(Object.assign({Accept:"application/json","User-Agent":this.getUserAgent(),"X-Stainless-Retry-Count":String(s)},t.timeout?{"X-Stainless-Timeout":String(Math.trunc(t.timeout/1e3))}:{}),lN()),this._options.defaultHeaders,a,t.headers,d]);return this.validateHeaders(h),h.values}buildBody({options:{body:t,headers:o}}){if(!t)return{bodyHeaders:void 0,body:void 0};const a=hl([o]);return ArrayBuffer.isView(t)||t instanceof ArrayBuffer||t instanceof DataView||typeof t=="string"&&a.values.has("content-type")||globalThis.Blob&&t instanceof globalThis.Blob||t instanceof FormData||t instanceof URLSearchParams||globalThis.ReadableStream&&t instanceof globalThis.ReadableStream?{bodyHeaders:void 0,body:t}:typeof t=="object"&&(Symbol.asyncIterator in t||Symbol.iterator in t&&"next"in t&&typeof t.next=="function")?{bodyHeaders:void 0,body:sN(t)}:this.encoder({body:t,headers:a})}}fs.DEFAULT_TIMEOUT=6e4;class tt extends fs{constructor(){super(...arguments),this.interactions=new Ny(this)}}My=tt;tt.GeminiNextGenAPIClient=My;tt.GeminiNextGenAPIClientError=Ot;tt.APIError=dt;tt.APIConnectionError=us;tt.APIConnectionTimeoutError=fy;tt.APIUserAbortError=nc;tt.NotFoundError=my;tt.ConflictError=gy;tt.RateLimitError=vy;tt.BadRequestError=dy;tt.AuthenticationError=py;tt.InternalServerError=Ty;tt.PermissionDeniedError=hy;tt.UnprocessableEntityError=yy;tt.toFile=hN;tt.Interactions=Ny;/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */function NN(n,t){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],a),o}function bN(n,t){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],a),o}function MN(n,t){const o={},a=u(n,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function wN(n,t){const o={},a=u(n,["sdkHttpResponse"]);return a!=null&&f(o,["sdkHttpResponse"],a),o}function IN(n,t,o){const a={};if(u(n,["validationDataset"])!==void 0)throw new Error("validationDataset parameter is not supported in Gemini API.");const s=u(n,["tunedModelDisplayName"]);if(t!==void 0&&s!=null&&f(t,["displayName"],s),u(n,["description"])!==void 0)throw new Error("description parameter is not supported in Gemini API.");const c=u(n,["epochCount"]);t!==void 0&&c!=null&&f(t,["tuningTask","hyperparameters","epochCount"],c);const d=u(n,["learningRateMultiplier"]);if(d!=null&&f(a,["tuningTask","hyperparameters","learningRateMultiplier"],d),u(n,["exportLastCheckpointOnly"])!==void 0)throw new Error("exportLastCheckpointOnly parameter is not supported in Gemini API.");if(u(n,["preTunedModelCheckpointId"])!==void 0)throw new Error("preTunedModelCheckpointId parameter is not supported in Gemini API.");if(u(n,["adapterSize"])!==void 0)throw new Error("adapterSize parameter is not supported in Gemini API.");if(u(n,["tuningMode"])!==void 0)throw new Error("tuningMode parameter is not supported in Gemini API.");if(u(n,["customBaseModel"])!==void 0)throw new Error("customBaseModel parameter is not supported in Gemini API.");const h=u(n,["batchSize"]);t!==void 0&&h!=null&&f(t,["tuningTask","hyperparameters","batchSize"],h);const y=u(n,["learningRate"]);if(t!==void 0&&y!=null&&f(t,["tuningTask","hyperparameters","learningRate"],y),u(n,["labels"])!==void 0)throw new Error("labels parameter is not supported in Gemini API.");if(u(n,["beta"])!==void 0)throw new Error("beta parameter is not supported in Gemini API.");if(u(n,["baseTeacherModel"])!==void 0)throw new Error("baseTeacherModel parameter is not supported in Gemini API.");if(u(n,["tunedTeacherModelSource"])!==void 0)throw new Error("tunedTeacherModelSource parameter is not supported in Gemini API.");if(u(n,["sftLossWeightMultiplier"])!==void 0)throw new Error("sftLossWeightMultiplier parameter is not supported in Gemini API.");if(u(n,["outputUri"])!==void 0)throw new Error("outputUri parameter is not supported in Gemini API.");return a}function DN(n,t,o){const a={};let s=u(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const V=u(n,["validationDataset"]);t!==void 0&&V!=null&&f(t,["supervisedTuningSpec"],Bu(V))}else if(s==="PREFERENCE_TUNING"){const V=u(n,["validationDataset"]);t!==void 0&&V!=null&&f(t,["preferenceOptimizationSpec"],Bu(V))}else if(s==="DISTILLATION"){const V=u(n,["validationDataset"]);t!==void 0&&V!=null&&f(t,["distillationSpec"],Bu(V))}const c=u(n,["tunedModelDisplayName"]);t!==void 0&&c!=null&&f(t,["tunedModelDisplayName"],c);const d=u(n,["description"]);t!==void 0&&d!=null&&f(t,["description"],d);let h=u(o,["config","method"]);if(h===void 0&&(h="SUPERVISED_FINE_TUNING"),h==="SUPERVISED_FINE_TUNING"){const V=u(n,["epochCount"]);t!==void 0&&V!=null&&f(t,["supervisedTuningSpec","hyperParameters","epochCount"],V)}else if(h==="PREFERENCE_TUNING"){const V=u(n,["epochCount"]);t!==void 0&&V!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","epochCount"],V)}else if(h==="DISTILLATION"){const V=u(n,["epochCount"]);t!==void 0&&V!=null&&f(t,["distillationSpec","hyperParameters","epochCount"],V)}let y=u(o,["config","method"]);if(y===void 0&&(y="SUPERVISED_FINE_TUNING"),y==="SUPERVISED_FINE_TUNING"){const V=u(n,["learningRateMultiplier"]);t!==void 0&&V!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRateMultiplier"],V)}else if(y==="PREFERENCE_TUNING"){const V=u(n,["learningRateMultiplier"]);t!==void 0&&V!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","learningRateMultiplier"],V)}else if(y==="DISTILLATION"){const V=u(n,["learningRateMultiplier"]);t!==void 0&&V!=null&&f(t,["distillationSpec","hyperParameters","learningRateMultiplier"],V)}let m=u(o,["config","method"]);if(m===void 0&&(m="SUPERVISED_FINE_TUNING"),m==="SUPERVISED_FINE_TUNING"){const V=u(n,["exportLastCheckpointOnly"]);t!==void 0&&V!=null&&f(t,["supervisedTuningSpec","exportLastCheckpointOnly"],V)}else if(m==="PREFERENCE_TUNING"){const V=u(n,["exportLastCheckpointOnly"]);t!==void 0&&V!=null&&f(t,["preferenceOptimizationSpec","exportLastCheckpointOnly"],V)}else if(m==="DISTILLATION"){const V=u(n,["exportLastCheckpointOnly"]);t!==void 0&&V!=null&&f(t,["distillationSpec","exportLastCheckpointOnly"],V)}let v=u(o,["config","method"]);if(v===void 0&&(v="SUPERVISED_FINE_TUNING"),v==="SUPERVISED_FINE_TUNING"){const V=u(n,["adapterSize"]);t!==void 0&&V!=null&&f(t,["supervisedTuningSpec","hyperParameters","adapterSize"],V)}else if(v==="PREFERENCE_TUNING"){const V=u(n,["adapterSize"]);t!==void 0&&V!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","adapterSize"],V)}else if(v==="DISTILLATION"){const V=u(n,["adapterSize"]);t!==void 0&&V!=null&&f(t,["distillationSpec","hyperParameters","adapterSize"],V)}let T=u(o,["config","method"]);if(T===void 0&&(T="SUPERVISED_FINE_TUNING"),T==="SUPERVISED_FINE_TUNING"){const V=u(n,["tuningMode"]);t!==void 0&&V!=null&&f(t,["supervisedTuningSpec","tuningMode"],V)}const E=u(n,["customBaseModel"]);t!==void 0&&E!=null&&f(t,["customBaseModel"],E);let C=u(o,["config","method"]);if(C===void 0&&(C="SUPERVISED_FINE_TUNING"),C==="SUPERVISED_FINE_TUNING"){const V=u(n,["batchSize"]);t!==void 0&&V!=null&&f(t,["supervisedTuningSpec","hyperParameters","batchSize"],V)}let R=u(o,["config","method"]);if(R===void 0&&(R="SUPERVISED_FINE_TUNING"),R==="SUPERVISED_FINE_TUNING"){const V=u(n,["learningRate"]);t!==void 0&&V!=null&&f(t,["supervisedTuningSpec","hyperParameters","learningRate"],V)}const N=u(n,["labels"]);t!==void 0&&N!=null&&f(t,["labels"],N);const b=u(n,["beta"]);t!==void 0&&b!=null&&f(t,["preferenceOptimizationSpec","hyperParameters","beta"],b);const G=u(n,["baseTeacherModel"]);t!==void 0&&G!=null&&f(t,["distillationSpec","baseTeacherModel"],G);const I=u(n,["tunedTeacherModelSource"]);t!==void 0&&I!=null&&f(t,["distillationSpec","tunedTeacherModelSource"],I);const D=u(n,["sftLossWeightMultiplier"]);t!==void 0&&D!=null&&f(t,["distillationSpec","hyperParameters","sftLossWeightMultiplier"],D);const J=u(n,["outputUri"]);return t!==void 0&&J!=null&&f(t,["outputUri"],J),a}function UN(n,t){const o={},a=u(n,["baseModel"]);a!=null&&f(o,["baseModel"],a);const s=u(n,["preTunedModel"]);s!=null&&f(o,["preTunedModel"],s);const c=u(n,["trainingDataset"]);c!=null&&FN(c);const d=u(n,["config"]);return d!=null&&IN(d,o),o}function LN(n,t){const o={},a=u(n,["baseModel"]);a!=null&&f(o,["baseModel"],a);const s=u(n,["preTunedModel"]);s!=null&&f(o,["preTunedModel"],s);const c=u(n,["trainingDataset"]);c!=null&&JN(c,o,t);const d=u(n,["config"]);return d!=null&&DN(d,o,t),o}function GN(n,t){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],a),o}function HN(n,t){const o={},a=u(n,["name"]);return a!=null&&f(o,["_url","name"],a),o}function PN(n,t,o){const a={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const c=u(n,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(n,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function kN(n,t,o){const a={},s=u(n,["pageSize"]);t!==void 0&&s!=null&&f(t,["_query","pageSize"],s);const c=u(n,["pageToken"]);t!==void 0&&c!=null&&f(t,["_query","pageToken"],c);const d=u(n,["filter"]);return t!==void 0&&d!=null&&f(t,["_query","filter"],d),a}function VN(n,t){const o={},a=u(n,["config"]);return a!=null&&PN(a,o),o}function qN(n,t){const o={},a=u(n,["config"]);return a!=null&&kN(a,o),o}function ON(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["nextPageToken"]);s!=null&&f(o,["nextPageToken"],s);const c=u(n,["tunedModels"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>wy(h))),f(o,["tuningJobs"],d)}return o}function BN(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["nextPageToken"]);s!=null&&f(o,["nextPageToken"],s);const c=u(n,["tuningJobs"]);if(c!=null){let d=c;Array.isArray(d)&&(d=d.map(h=>lc(h))),f(o,["tuningJobs"],d)}return o}function zN(n,t){const o={},a=u(n,["name"]);a!=null&&f(o,["model"],a);const s=u(n,["name"]);return s!=null&&f(o,["endpoint"],s),o}function FN(n,t){const o={};if(u(n,["gcsUri"])!==void 0)throw new Error("gcsUri parameter is not supported in Gemini API.");if(u(n,["vertexDatasetResource"])!==void 0)throw new Error("vertexDatasetResource parameter is not supported in Gemini API.");const a=u(n,["examples"]);if(a!=null){let s=a;Array.isArray(s)&&(s=s.map(c=>c)),f(o,["examples","examples"],s)}return o}function JN(n,t,o){const a={};let s=u(o,["config","method"]);if(s===void 0&&(s="SUPERVISED_FINE_TUNING"),s==="SUPERVISED_FINE_TUNING"){const d=u(n,["gcsUri"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(s==="PREFERENCE_TUNING"){const d=u(n,["gcsUri"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(s==="DISTILLATION"){const d=u(n,["gcsUri"]);t!==void 0&&d!=null&&f(t,["distillationSpec","promptDatasetUri"],d)}let c=u(o,["config","method"]);if(c===void 0&&(c="SUPERVISED_FINE_TUNING"),c==="SUPERVISED_FINE_TUNING"){const d=u(n,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["supervisedTuningSpec","trainingDatasetUri"],d)}else if(c==="PREFERENCE_TUNING"){const d=u(n,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["preferenceOptimizationSpec","trainingDatasetUri"],d)}else if(c==="DISTILLATION"){const d=u(n,["vertexDatasetResource"]);t!==void 0&&d!=null&&f(t,["distillationSpec","promptDatasetUri"],d)}if(u(n,["examples"])!==void 0)throw new Error("examples parameter is not supported in Vertex AI.");return a}function wy(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["name"]);s!=null&&f(o,["name"],s);const c=u(n,["state"]);c!=null&&f(o,["state"],Yg(c));const d=u(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=u(n,["tuningTask","startTime"]);h!=null&&f(o,["startTime"],h);const y=u(n,["tuningTask","completeTime"]);y!=null&&f(o,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=u(n,["description"]);v!=null&&f(o,["description"],v);const T=u(n,["baseModel"]);T!=null&&f(o,["baseModel"],T);const E=u(n,["_self"]);return E!=null&&f(o,["tunedModel"],zN(E)),o}function lc(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["name"]);s!=null&&f(o,["name"],s);const c=u(n,["state"]);c!=null&&f(o,["state"],Yg(c));const d=u(n,["createTime"]);d!=null&&f(o,["createTime"],d);const h=u(n,["startTime"]);h!=null&&f(o,["startTime"],h);const y=u(n,["endTime"]);y!=null&&f(o,["endTime"],y);const m=u(n,["updateTime"]);m!=null&&f(o,["updateTime"],m);const v=u(n,["error"]);v!=null&&f(o,["error"],v);const T=u(n,["description"]);T!=null&&f(o,["description"],T);const E=u(n,["baseModel"]);E!=null&&f(o,["baseModel"],E);const C=u(n,["tunedModel"]);C!=null&&f(o,["tunedModel"],C);const R=u(n,["preTunedModel"]);R!=null&&f(o,["preTunedModel"],R);const N=u(n,["supervisedTuningSpec"]);N!=null&&f(o,["supervisedTuningSpec"],N);const b=u(n,["preferenceOptimizationSpec"]);b!=null&&f(o,["preferenceOptimizationSpec"],b);const G=u(n,["distillationSpec"]);G!=null&&f(o,["distillationSpec"],G);const I=u(n,["tuningDataStats"]);I!=null&&f(o,["tuningDataStats"],I);const D=u(n,["encryptionSpec"]);D!=null&&f(o,["encryptionSpec"],D);const J=u(n,["partnerModelTuningSpec"]);J!=null&&f(o,["partnerModelTuningSpec"],J);const V=u(n,["customBaseModel"]);V!=null&&f(o,["customBaseModel"],V);const Z=u(n,["experiment"]);Z!=null&&f(o,["experiment"],Z);const K=u(n,["labels"]);K!=null&&f(o,["labels"],K);const te=u(n,["outputUri"]);te!=null&&f(o,["outputUri"],te);const Q=u(n,["pipelineJob"]);Q!=null&&f(o,["pipelineJob"],Q);const ae=u(n,["serviceAccount"]);ae!=null&&f(o,["serviceAccount"],ae);const _e=u(n,["tunedModelDisplayName"]);_e!=null&&f(o,["tunedModelDisplayName"],_e);const Ne=u(n,["veoTuningSpec"]);return Ne!=null&&f(o,["veoTuningSpec"],Ne),o}function YN(n,t){const o={},a=u(n,["sdkHttpResponse"]);a!=null&&f(o,["sdkHttpResponse"],a);const s=u(n,["name"]);s!=null&&f(o,["name"],s);const c=u(n,["metadata"]);c!=null&&f(o,["metadata"],c);const d=u(n,["done"]);d!=null&&f(o,["done"],d);const h=u(n,["error"]);return h!=null&&f(o,["error"],h),o}function Bu(n,t){const o={},a=u(n,["gcsUri"]);a!=null&&f(o,["validationDatasetUri"],a);const s=u(n,["vertexDatasetResource"]);return s!=null&&f(o,["validationDatasetUri"],s),o}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class KN extends An{constructor(t){super(),this.apiClient=t,this.list=async(o={})=>new Si(_n.PAGED_ITEM_TUNING_JOBS,a=>this.listInternal(a),await this.listInternal(o),o),this.get=async o=>await this.getInternal(o),this.tune=async o=>{var a;if(this.apiClient.isVertexAI())if(o.baseModel.startsWith("projects/")){const s={tunedModelName:o.baseModel};!((a=o.config)===null||a===void 0)&&a.preTunedModelCheckpointId&&(s.checkpointId=o.config.preTunedModelCheckpointId);const c=Object.assign(Object.assign({},o),{preTunedModel:s});return c.baseModel=void 0,await this.tuneInternal(c)}else{const s=Object.assign({},o);return await this.tuneInternal(s)}else{const s=Object.assign({},o),c=await this.tuneMldevInternal(s);let d="";return c.metadata!==void 0&&c.metadata.tunedModel!==void 0?d=c.metadata.tunedModel:c.name!==void 0&&c.name.includes("/operations/")&&(d=c.name.split("/operations/")[0]),{name:d,state:Yu.JOB_STATE_QUEUED}}}}async getInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=HN(t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>lc(v))}else{const m=GN(t);return h=$("{name}",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>wy(v))}}async listInternal(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=qN(t);return h=$("tuningJobs",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=BN(v),E=new Fm;return Object.assign(E,T),E})}else{const m=VN(t);return h=$("tunedModels",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"GET",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=ON(v),E=new Fm;return Object.assign(E,T),E})}}async cancel(t){var o,a,s,c;let d,h="",y={};if(this.apiClient.isVertexAI()){const m=bN(t);return h=$("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=wN(v),E=new Jm;return Object.assign(E,T),E})}else{const m=NN(t);return h=$("{name}:cancel",m._url),y=m._query,delete m._url,delete m._query,d=this.apiClient.request({path:h,queryParams:y,body:JSON.stringify(m),httpMethod:"POST",httpOptions:(s=t.config)===null||s===void 0?void 0:s.httpOptions,abortSignal:(c=t.config)===null||c===void 0?void 0:c.abortSignal}).then(v=>v.json().then(T=>{const E=T;return E.sdkHttpResponse={headers:v.headers},E})),d.then(v=>{const T=MN(v),E=new Jm;return Object.assign(E,T),E})}}async tuneInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI()){const h=LN(t,t);return c=$("tuningJobs",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>lc(y))}else throw new Error("This method is only supported by the Vertex AI.")}async tuneMldevInternal(t){var o,a;let s,c="",d={};if(this.apiClient.isVertexAI())throw new Error("This method is only supported by the Gemini Developer API.");{const h=UN(t);return c=$("tunedModels",h._url),d=h._query,delete h._url,delete h._query,s=this.apiClient.request({path:c,queryParams:d,body:JSON.stringify(h),httpMethod:"POST",httpOptions:(o=t.config)===null||o===void 0?void 0:o.httpOptions,abortSignal:(a=t.config)===null||a===void 0?void 0:a.abortSignal}).then(y=>y.json().then(m=>{const v=m;return v.sdkHttpResponse={headers:y.headers},v})),s.then(y=>YN(y))}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class XN{async download(t,o){throw new Error("Download to file is not supported in the browser, please use a browser compliant download like an <a> tag.")}}const QN=1024*1024*8,$N=3,ZN=1e3,WN=2,ts="x-goog-upload-status";async function jN(n,t,o){var a;const s=await Iy(n,t,o),c=await(s==null?void 0:s.json());if(((a=s==null?void 0:s.headers)===null||a===void 0?void 0:a[ts])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");return c.file}async function eb(n,t,o){var a;const s=await Iy(n,t,o),c=await(s==null?void 0:s.json());if(((a=s==null?void 0:s.headers)===null||a===void 0?void 0:a[ts])!=="final")throw new Error("Failed to upload file: Upload status is not finalized.");const d=qg(c),h=new hc;return Object.assign(h,d),h}async function Iy(n,t,o){var a,s;let c=0,d=0,h=new Xu(new Response),y="upload";for(c=n.size;d<c;){const m=Math.min(QN,c-d),v=n.slice(d,d+m);d+m>=c&&(y+=", finalize");let T=0,E=ZN;for(;T<$N&&(h=await o.request({path:"",body:v,httpMethod:"POST",httpOptions:{apiVersion:"",baseUrl:t,headers:{"X-Goog-Upload-Command":y,"X-Goog-Upload-Offset":String(d),"Content-Length":String(m)}}}),!(!((a=h==null?void 0:h.headers)===null||a===void 0)&&a[ts]));)T++,await nb(E),E=E*WN;if(d+=m,((s=h==null?void 0:h.headers)===null||s===void 0?void 0:s[ts])!=="active")break;if(c<=d)throw new Error("All content has been uploaded, but the upload status is not finalized.")}return h}async function tb(n){return{size:n.size,type:n.type}}function nb(n){return new Promise(t=>setTimeout(t,n))}class ib{async upload(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await jN(t,o,a)}async uploadToFileSearchStore(t,o,a){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await eb(t,o,a)}async stat(t){if(typeof t=="string")throw new Error("File path is not supported in browser uploader.");return await tb(t)}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */class ob{create(t,o,a){return new lb(t,o,a)}}class lb{constructor(t,o,a){this.url=t,this.headers=o,this.callbacks=a}connect(){this.ws=new WebSocket(this.url),this.ws.onopen=this.callbacks.onopen,this.ws.onerror=this.callbacks.onerror,this.ws.onclose=this.callbacks.onclose,this.ws.onmessage=this.callbacks.onmessage}send(t){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.send(t)}close(){if(this.ws===void 0)throw new Error("WebSocket is not connected");this.ws.close()}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const vg="x-goog-api-key";class ab{constructor(t){this.apiKey=t}async addAuthHeaders(t,o){if(t.get(vg)===null){if(this.apiKey.startsWith("auth_tokens/"))throw new Error("Ephemeral tokens are only supported by the live API.");if(!this.apiKey)throw new Error("API key is missing. Please provide a valid API key.");t.append(vg,this.apiKey)}}}/**
 * @license
 * Copyright 2025 Google LLC
 * SPDX-License-Identifier: Apache-2.0
 */const sb="gl-node/";class rb{get interactions(){if(this._interactions!==void 0)return this._interactions;console.warn("GoogleGenAI.interactions: Interactions usage is experimental and may change in future versions.");const t=this.httpOptions;t!=null&&t.extraBody&&console.warn("GoogleGenAI.interactions: Client level httpOptions.extraBody is not supported by the interactions client and will be ignored.");const o=new tt({baseURL:this.apiClient.getBaseUrl(),apiKey:this.apiKey,apiVersion:this.apiClient.getApiVersion(),clientAdapter:this.apiClient,defaultHeaders:this.apiClient.getDefaultHeaders(),timeout:t==null?void 0:t.timeout});return this._interactions=o.interactions,this._interactions}constructor(t){var o;if(t.apiKey==null)throw new Error("An API Key must be set when running in a browser");if(t.project||t.location)throw new Error("Vertex AI project based authentication is not supported on browser runtimes. Please do not provide a project or location.");this.vertexai=(o=t.vertexai)!==null&&o!==void 0?o:!1,this.apiKey=t.apiKey;const a=WS(t.httpOptions,t.vertexai,void 0,void 0);a&&(t.httpOptions?t.httpOptions.baseUrl=a:t.httpOptions={baseUrl:a}),this.apiVersion=t.apiVersion,this.httpOptions=t.httpOptions;const s=new ab(this.apiKey);this.apiClient=new tR({auth:s,apiVersion:this.apiVersion,apiKey:this.apiKey,vertexai:this.vertexai,httpOptions:this.httpOptions,userAgentExtra:sb+"web",uploader:new ib,downloader:new XN}),this.models=new SR(this.apiClient),this.live=new hR(this.apiClient,s,new ob),this.batches=new b_(this.apiClient),this.chats=new uC(this.models,this.apiClient),this.caches=new aC(this.apiClient),this.files=new EC(this.apiClient),this.operations=new ER(this.apiClient),this.authTokens=new PR(this.apiClient),this.tunings=new KN(this.apiClient),this.fileSearchStores=new JR(this.apiClient)}}const Dy=new rb({apiKey:"AIzaSyDkup2FgSmfELn0e35yLGCBO7jOYUH3udY"}),ub=async n=>{try{return(await Dy.models.generateContent({model:"gemini-3-flash-preview",contents:`     .  3     : ${n}.     .`,config:{temperature:.7}})).text}catch(t){return console.error("Gemini Error:",t),"      !"}},cb=async n=>{try{return(await Dy.models.generateContent({model:"gemini-3-flash-preview",contents:`       : ${n}.     .`,config:{temperature:.5}})).text}catch{return"     ."}},fb=({userRole:n,studentId:t})=>{const[o,a]=P.useState(n===Oe.PARENT?"dictionary":"sebha"),[s,c]=P.useState([]);P.useEffect(()=>{(async()=>{if(t){const Q=await Le.getDict(t);c(Q)}})()},[t,o]);const[d,h]=P.useState(0),[y,m]=P.useState(""),[v,T]=P.useState(!1),[E,C]=P.useState(null),[R,N]=P.useState(""),[b,G]=P.useState(null),[I,D]=P.useState(!1),J=async()=>{if(!y||!t)return;T(!0);const te=await cb(y),Q={id:Math.random().toString(36).substr(2,9),term:y,definition:te||"    .",studentId:t,mastered:!1};await Le.saveDictEntry(Q),c([Q,...s]),m(""),T(!1)},V=async()=>{if(!R)return;D(!0);const te=await ub(R);G(te||"   !"),D(!1)},Z=n===Oe.PARENT,K=n===Oe.STUDENT||n===Oe.INDEPENDENT;return A.jsxs("div",{className:"space-y-6 animate-fadeIn pb-10",children:[!Z&&A.jsxs("div",{className:"flex bg-white p-1 rounded-2xl shadow-sm border",children:[A.jsx("button",{onClick:()=>a("sebha"),className:`flex-1 py-2 rounded-xl text-sm font-bold transition-all ${o==="sebha"?"bg-blue-600 text-white":"text-gray-400"}`,children:""}),A.jsx("button",{onClick:()=>a("dictionary"),className:`flex-1 py-2 rounded-xl text-sm font-bold transition-all ${o==="dictionary"?"bg-blue-600 text-white":"text-gray-400"}`,children:""}),A.jsx("button",{onClick:()=>a("ai"),className:`flex-1 py-2 rounded-xl text-sm font-bold transition-all ${o==="ai"?"bg-blue-600 text-white":"text-gray-400"}`,children:" "})]}),o==="sebha"&&!Z&&A.jsxs("div",{className:"text-center space-y-8 py-10",children:[A.jsx("div",{className:"relative inline-block",children:A.jsxs("div",{className:"w-48 h-48 rounded-full border-8 border-blue-50 flex flex-col items-center justify-center bg-white shadow-inner",children:[A.jsx("span",{className:"text-5xl font-black text-blue-600",children:d}),A.jsx("span",{className:"text-xs text-gray-400 font-bold mt-2 uppercase",children:""})]})}),A.jsxs("div",{className:"flex justify-center gap-4",children:[A.jsx("button",{onClick:()=>h(d+1),className:"w-24 h-24 bg-blue-600 text-white rounded-full shadow-xl text-3xl font-bold flex items-center justify-center active:scale-95 transition-all",children:"+"}),A.jsx("button",{onClick:()=>h(0),className:"w-24 h-24 bg-gray-100 text-gray-400 rounded-full shadow-inner flex items-center justify-center text-sm font-bold",children:""})]})]}),o==="dictionary"&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"bg-white p-5 rounded-3xl border border-blue-50 shadow-sm",children:[A.jsx("h3",{className:"font-black text-gray-800 text-lg mb-1",children:"   "}),A.jsx("p",{className:"text-[10px] text-gray-400 font-bold",children:Z?"        .":"          ."})]}),K&&A.jsxs("div",{className:"flex gap-2 animate-slideDown",children:[A.jsx("input",{type:"text",placeholder:"  ...",className:"flex-1 p-3 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-400 font-bold",value:y,onChange:te=>m(te.target.value)}),A.jsx("button",{onClick:J,disabled:v,className:"bg-blue-600 text-white px-6 rounded-2xl font-black disabled:opacity-50 transition-all active:scale-95 shadow-md",children:v?"...":""})]}),A.jsx("div",{className:"grid grid-cols-1 gap-4",children:s.length===0?A.jsx("div",{className:"text-center py-16 bg-white/50 rounded-3xl border-2 border-dashed border-gray-200",children:A.jsx("p",{className:"text-gray-400 italic font-bold",children:"    "})}):s.map(te=>A.jsx("div",{onClick:()=>C(E===te.id?null:te.id),className:"h-44 relative perspective-1000 cursor-pointer group",children:A.jsxs("div",{className:`w-full h-full transition-all duration-700 transform-style-3d relative ${E===te.id?"rotate-y-180":""}`,children:[A.jsxs("div",{className:"absolute inset-0 backface-hidden bg-white rounded-3xl border-2 border-blue-100 flex flex-col items-center justify-center p-6 shadow-sm group-hover:border-blue-300 transition-colors",children:[A.jsx("span",{className:"text-2xl font-black text-blue-600 text-center",children:te.term}),A.jsx("span",{className:"text-[10px] text-gray-300 mt-4 font-bold border-t pt-2 w-full text-center",children:"  "})]}),A.jsx("div",{className:"absolute inset-0 backface-hidden bg-gradient-to-br from-blue-600 to-indigo-700 rounded-3xl flex items-center justify-center p-8 shadow-xl rotate-y-180 text-white",children:A.jsxs("p",{className:"text-sm font-bold text-center leading-relaxed italic",children:['"',te.definition,'"']})})]})},te.id))})]}),o==="ai"&&!Z&&A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-500 rounded-3xl p-6 text-white shadow-xl relative overflow-hidden",children:[A.jsxs("div",{className:"relative z-10",children:[A.jsx("h3",{className:"text-lg font-black mb-1",children:"   "}),A.jsx("p",{className:"text-[10px] opacity-90 font-bold",children:"       "})]}),A.jsx("div",{className:"absolute -right-4 -bottom-4 w-20 h-20 bg-white/10 rounded-full blur-xl"})]}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"text",placeholder:":   ...",className:"flex-1 p-3 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-purple-400 font-bold",value:R,onChange:te=>N(te.target.value)}),A.jsx("button",{onClick:V,disabled:I,className:"bg-purple-600 text-white px-6 rounded-2xl font-black shadow-lg transition-all active:scale-95",children:""})]}),b&&A.jsx("div",{className:"bg-white p-6 rounded-3xl shadow-lg border-2 border-purple-100 animate-slideDown whitespace-pre-wrap text-gray-700 leading-relaxed text-sm font-bold",children:b})]})]})};let zu=null;const ns={subscribe:n=>{zu=n},requestPermission:async()=>"Notification"in window?await Notification.requestPermission()==="granted":!1,send:(n,t)=>{if(zu&&zu(n,t),Notification.permission==="granted")try{new Notification(n,{body:t,icon:"/favicon.ico"})}catch{console.warn("Browser notifications blocked by system.")}return!0},test:async()=>{const n=await ns.requestPermission();return ns.send(" ","     !"),n}},db=({user:n,setUser:t})=>{const[o,a]=P.useState(""),[s,c]=P.useState(!1),[d,h]=P.useState({text:"",type:""}),[y,m]=P.useState(null);P.useEffect(()=>{const I=D=>{D.preventDefault(),m(D)};return window.addEventListener("beforeinstallprompt",I),()=>window.removeEventListener("beforeinstallprompt",I)},[]);const v=[{id:"system",name:" ",color:"bg-gradient-to-r from-orange-400 to-cyan-400"},{id:"light",name:" ",color:"bg-white border"},{id:"dark",name:" ",color:"bg-slate-900"},{id:"ocean",name:" ",color:"bg-blue-800"},{id:"forest",name:" ",color:"bg-emerald-600"}],T=async()=>{if(y){y.prompt();const{outcome:I}=await y.userChoice;I==="accepted"&&m(null)}else alert(`   iPhone    ''  '   '. 
  Android       .`)},E=async I=>{const D={...n,theme:I};await Le.saveUser(D),t(D)},C=async()=>{if(o){c(!0),h({text:"",type:""});try{const I=await Le.findUserByLinkCode(o);if(I&&I.role===Oe.STUDENT){const D={...n,linkedStudentId:I.id};await Le.saveUser(D),t(D),h({text:`    : ${I.name}`,type:"success"})}else h({text:"      !",type:"error"})}catch{h({text:"     .",type:"error"})}finally{c(!1)}}},R=()=>{window.open("https://ipn.eg/S/moh_zaher/instapay/334zld","_blank")},N=()=>{const I=encodeURIComponent("      "),D=encodeURIComponent(`  

  :

 :
: ${n.name}
: ${n.phone}`);window.location.href=`mailto:ironstudent.help@outlook.com?subject=${I}&body=${D}`},b=async()=>{confirm("           .")&&(await Le.resetWeek(n.id),window.location.reload())},G=n.role===Oe.STUDENT;return A.jsxs("div",{className:"space-y-6 animate-fadeIn pb-24",children:[A.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-blue-100",children:[A.jsx("h3",{className:"font-black text-gray-800 text-lg mb-2",children:"  "}),A.jsx("p",{className:"text-xs text-gray-400 font-bold mb-4",children:"         ."}),A.jsxs("button",{onClick:T,className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black shadow-lg flex items-center justify-center gap-2",children:[A.jsx("span",{children:"  "}),A.jsx("span",{className:"text-xl",children:""})]})]}),G&&A.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-600 p-6 rounded-3xl shadow-xl text-white text-center",children:[A.jsx("h3",{className:"font-black text-sm mb-2 opacity-80",children:"   "}),A.jsx("p",{className:"text-3xl font-black tracking-widest bg-white/20 p-3 rounded-2xl border border-white/30",children:n.linkCode||"---"}),A.jsx("p",{className:"text-[10px] font-bold mt-4 opacity-70 leading-relaxed",children:"        ."})]}),A.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100",children:[A.jsx("h3",{className:"font-black text-gray-800 text-lg mb-4",children:"  "}),A.jsx("div",{className:"grid grid-cols-2 gap-3",children:v.map(I=>A.jsxs("button",{onClick:()=>E(I.id),className:`p-3 rounded-2xl flex items-center gap-3 border-2 transition-all ${n.theme===I.id?"border-blue-500 bg-blue-50":"border-transparent bg-gray-50"}`,children:[A.jsx("div",{className:`w-6 h-6 rounded-full ${I.color}`}),A.jsx("span",{className:"text-[10px] font-bold",children:I.name})]},I.id))})]}),n.role===Oe.PARENT&&A.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-blue-50",children:[A.jsx("h3",{className:"font-black text-gray-800 text-lg mb-2",children:"   "}),A.jsx("p",{className:"text-xs text-gray-400 font-bold mb-4",children:' " "     '}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("input",{type:"text",placeholder:": A7B2X9",className:"w-full p-4 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-400 font-black text-center uppercase",value:o,onChange:I=>a(I.target.value.toUpperCase())}),A.jsx("button",{onClick:C,disabled:s,className:"w-full py-4 bg-blue-600 text-white rounded-2xl font-black shadow-lg disabled:opacity-50",children:s?" ...":"  "}),d.text&&A.jsx("p",{className:`text-center font-bold text-[10px] p-2 rounded-lg ${d.type==="success"?"bg-green-50 text-green-600":"bg-red-50 text-red-600"}`,children:d.text})]})]}),A.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100",children:[A.jsx("h3",{className:"font-black text-gray-800 text-lg mb-4",children:"  "}),A.jsxs("div",{className:"space-y-3",children:[A.jsx("button",{onClick:()=>ns.test(),className:"w-full py-4 bg-indigo-50 text-indigo-700 rounded-2xl font-black border-2 border-indigo-100 flex items-center justify-center gap-3",children:"  "}),A.jsx("button",{onClick:b,className:"w-full py-4 bg-red-50 text-red-600 rounded-2xl font-black border-2 border-red-100",children:"   "})]})]}),A.jsxs("div",{className:"bg-gradient-to-br from-pink-500 to-rose-600 p-6 rounded-3xl shadow-xl text-white",children:[A.jsxs("div",{className:"flex justify-between items-start mb-2",children:[A.jsx("h3",{className:"font-black text-lg",children:"    "}),A.jsx("span",{className:"bg-white/20 px-2 py-0.5 rounded text-[8px] font-bold",children:"InstaPay"})]}),A.jsx("p",{className:"text-[10px] font-bold opacity-90 leading-relaxed mb-4",children:"     ."}),A.jsxs("div",{className:"bg-white/20 backdrop-blur-md p-4 rounded-2xl border-2 border-yellow-300/50 mb-4 animate-pulse",children:[A.jsx("p",{className:"text-[10px] font-black text-yellow-300 uppercase tracking-wider mb-1",children:"   "}),A.jsxs("p",{className:"text-xs font-black leading-tight text-white",children:["   ",A.jsx("span",{className:"bg-yellow-400 text-rose-700 px-2 py-0.5 rounded-full",children:'""'}),"    (Reason)         ."]})]}),A.jsx("button",{onClick:R,className:"w-full py-3 bg-white text-rose-600 rounded-xl font-black text-sm shadow-xl active:scale-95 transition-all",children:"   "})]}),A.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-gray-100",children:[A.jsx("h3",{className:"font-black text-gray-800 text-lg mb-2",children:"  "}),A.jsx("button",{onClick:N,className:"w-full py-4 bg-gray-50 text-gray-600 rounded-2xl font-black border-2 border-gray-100 flex items-center justify-center gap-3",children:"   "})]}),A.jsxs("div",{className:"bg-gray-100 p-8 rounded-[3rem] text-center space-y-4",children:[A.jsx("div",{className:"w-16 h-16 bg-white rounded-2xl shadow-sm mx-auto flex items-center justify-center overflow-hidden",children:A.jsx("img",{src:"/logo.png",alt:" ",className:"w-full h-full object-contain p-2"})}),A.jsxs("div",{children:[A.jsx("h2",{className:"font-black text-gray-800 text-xl uppercase tracking-tighter",children:" "}),A.jsx("p",{className:"text-[10px] text-gray-400 font-bold uppercase mt-1",children:" 1.1 Gold Edition"})]}),A.jsxs("div",{className:"pt-4 border-t border-gray-200",children:[A.jsx("p",{className:"text-[8px] font-black text-gray-400 uppercase tracking-[0.2em] mb-3",children:"  "}),A.jsxs("div",{className:"flex flex-wrap justify-center gap-2",children:[A.jsx("span",{className:"bg-white px-3 py-1 rounded-full text-[10px] font-bold text-gray-600 border shadow-sm",children:" "}),A.jsx("span",{className:"bg-white px-3 py-1 rounded-full text-[10px] font-bold text-gray-600 border shadow-sm",children:"ChatGPT (OpenAI)"}),A.jsx("span",{className:"bg-white px-3 py-1 rounded-full text-[10px] font-bold text-gray-600 border shadow-sm",children:"Google Gemini"})]})]}),A.jsx("p",{className:"text-[9px] text-gray-400 font-bold px-6 leading-relaxed",children:"    2025.       ."})]})]})},pb=({user:n})=>{const[t,o]=P.useState(""),[a,s]=P.useState([]),[c,d]=P.useState({text:"",type:null}),[h,y]=P.useState(!1),m=P.useRef(null);P.useEffect(()=>{(async()=>{const R=await Le.getCertificates(n.id);s(R)})()},[n.id]);const v=async()=>{const C=parseFloat(t);if(isNaN(C)||C<0||C>100){alert("     0  100");return}if(y(!0),C>=90){const R={id:Math.random().toString(36).substr(2,9),studentName:n.name,grade:C,date:Date.now(),studentId:n.id};await Le.saveCertificate(R),s([R,...a]),d({text:`  !        (${C}%)`,type:"success"})}else d({text:`   ! ${C}%      .         !`,type:"comfort"});o(""),y(!1)},T=C=>{const R=m.current;if(!R)return;const N=R.getContext("2d");if(!N)return;N.fillStyle="#ffffff",N.fillRect(0,0,800,600),N.strokeStyle="#2563eb",N.lineWidth=20,N.strokeRect(20,20,760,560),N.strokeStyle="#ffd700",N.lineWidth=5,N.strokeRect(40,40,720,520),N.fillStyle="#1e3a8a",N.font="bold 40px Cairo, sans-serif",N.textAlign="center",N.fillText("  ",400,120),N.fillStyle="#4b5563",N.font="24px Cairo, sans-serif",N.fillText('  " "   :',400,200),N.fillStyle="#2563eb",N.font="bold 48px Cairo, sans-serif",N.fillText(C.studentName,400,280),N.fillStyle="#4b5563",N.font="24px Cairo, sans-serif",N.fillText("    :",400,360),N.fillStyle="#10b981",N.font="bold 40px Cairo, sans-serif",N.fillText(`${C.grade}%`,400,420),N.fillStyle="#9ca3af",N.font="16px Cairo, sans-serif";const b=new Date(C.date).toLocaleDateString("ar-EG");N.fillText(`: ${b}`,400,500);const G=document.createElement("a");G.download=`certificate-${C.id}.png`,G.href=R.toDataURL(),G.click()},E=async C=>{confirm("      ")&&(await Le.deleteCertificate(C),s(a.filter(R=>R.id!==C)))};return A.jsxs("div",{className:"space-y-6 animate-fadeIn pb-10",children:[A.jsxs("div",{className:"bg-white p-6 rounded-3xl shadow-sm border border-blue-50",children:[A.jsx("h3",{className:"font-black text-gray-800 text-lg mb-2",children:"   "}),A.jsx("p",{className:"text-xs text-gray-400 font-bold mb-4",children:"        !"}),A.jsxs("div",{className:"flex gap-2",children:[A.jsx("input",{type:"number",placeholder:": 95",className:"flex-1 p-4 border rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-400 font-bold text-center",value:t,onChange:C=>o(C.target.value)}),A.jsx("button",{onClick:v,disabled:h,className:"bg-blue-600 text-white px-8 rounded-2xl font-black shadow-lg active:scale-95 transition-all",children:""})]}),c.text&&A.jsx("div",{className:`mt-4 p-4 rounded-2xl border text-sm font-bold animate-slideDown ${c.type==="success"?"bg-green-50 border-green-200 text-green-700":"bg-orange-50 border-orange-200 text-orange-700"}`,children:A.jsxs("span",{className:"flex items-center gap-2",children:[c.type==="success"?" ":A.jsx("img",{src:"",alt:"",className:"w-4 h-4 inline-block"}),c.text]})})]}),A.jsxs("div",{className:"space-y-4",children:[A.jsx("h3",{className:"font-black text-gray-800 text-lg",children:"  "}),a.length===0?A.jsx("div",{className:"text-center py-20 bg-gray-50 rounded-[3rem] border-2 border-dashed border-gray-200 opacity-50",children:A.jsx("p",{className:"font-bold text-gray-400",children:"    ..     !"})}):A.jsx("div",{className:"grid grid-cols-1 gap-4",children:a.map(C=>A.jsxs("div",{className:"bg-white p-5 rounded-3xl shadow-md border-l-8 border-yellow-400 flex justify-between items-center group overflow-hidden relative",children:[A.jsxs("div",{children:[A.jsxs("h4",{className:"font-black text-blue-600 text-lg",children:["  (",C.grade,"%)"]}),A.jsxs("p",{className:"text-[10px] text-gray-400 font-bold mt-1",children:[": ",new Date(C.date).toLocaleDateString("ar-EG")]})]}),A.jsxs("div",{className:"flex gap-2 z-10",children:[A.jsx("button",{onClick:()=>T(C),className:"p-3 bg-blue-50 text-blue-600 rounded-2xl hover:bg-blue-600 hover:text-white transition-all shadow-sm",title:" ",children:""}),A.jsx("button",{onClick:()=>E(C.id),className:"p-3 bg-red-50 text-red-400 rounded-2xl hover:bg-red-500 hover:text-white transition-all shadow-sm",title:"",children:""})]}),A.jsx("div",{className:"absolute -right-4 -bottom-4 text-7xl opacity-5 grayscale group-hover:grayscale-0 transition-all rotate-12",children:""})]},C.id))})]}),A.jsx("canvas",{ref:m,width:"800",height:"600",className:"hidden"})]})},hb=()=>{const[n,t]=P.useState(null),[o,a]=P.useState(null),[s,c]=P.useState("dashboard"),[d,h]=P.useState([]);P.useEffect(()=>((async()=>{try{const E=localStorage.getItem("iron_logged_id");if(E){const C=await Le.getUser(E);if(C)if(t(C),C.role===Oe.PARENT&&C.linkedStudentId){const R=await Le.getUser(C.linkedStudentId);a(R||null)}else a(C)}}catch(E){console.error("Init Error:",E)}})(),ns.subscribe((E,C)=>{const R=Date.now();h(N=>[...N,{id:R,title:E,body:C}]),setTimeout(()=>h(N=>N.filter(b=>b.id!==R)),4e3)}),()=>{}),[]);const y=async T=>{if(await Le.saveUser(T),localStorage.setItem("iron_logged_id",T.id),t(T),T.role===Oe.PARENT&&T.linkedStudentId){const E=await Le.getUser(T.linkedStudentId);a(E||null)}else a(T)},m=()=>{localStorage.removeItem("iron_logged_id"),t(null),a(null)},v=async(T,E)=>{const C=E||(n==null?void 0:n.id);if(!C)return;const R=await Le.getUser(C);if(!R)return;const N=(R.points||0)+T,b=Vg(N),G={...R,points:N,rank:b.rank};await Le.saveUser(G),(n==null?void 0:n.id)===C&&t(G),(o==null?void 0:o.id)===C&&a(G)};return n?A.jsxs("div",{className:"min-h-screen pb-20 bg-slate-50 font-['Cairo']",dir:"rtl",children:[A.jsx("div",{className:"fixed top-4 left-4 right-4 z-[100] space-y-2 pointer-events-none",children:d.map(T=>A.jsxs("div",{className:"bg-white p-4 rounded-xl shadow-lg border-r-4 border-blue-500 pointer-events-auto animate-bounce",children:[A.jsx("h4",{className:"font-bold text-xs text-blue-800",children:String(T.title)}),A.jsx("p",{className:"text-[10px] text-gray-500",children:String(T.body)})]},T.id))}),A.jsxs("header",{className:"p-4 bg-white shadow-sm flex justify-between items-center sticky top-0 z-10",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:"w-8 h-8 bg-blue-600 text-white rounded-full flex items-center justify-center font-bold",children:n.name?n.name[0]:""}),A.jsx("span",{className:"font-bold text-sm text-gray-700",children:n.name})]}),A.jsxs("div",{className:"flex items-center gap-3",children:[A.jsxs("span",{className:"text-yellow-600 font-black",children:[" ",(o==null?void 0:o.points)||0]}),A.jsx("button",{onClick:m,className:"text-gray-400 p-1",children:""})]})]}),A.jsxs("main",{className:"p-4 max-w-md mx-auto",children:[s==="dashboard"&&A.jsx(BS,{user:o||n,currentUserRole:n.role,tasksCount:0,rewardsCount:0,onNavigate:c}),s==="tasks"&&A.jsx(YS,{role:n.role,studentId:(o==null?void 0:o.id)||"",onComplete:v}),s==="rewards"&&A.jsx(KS,{role:n.role,points:(o==null?void 0:o.points)||0,studentId:(o==null?void 0:o.id)||"",onClaim:(T,E)=>v(-T,o==null?void 0:o.id)}),s==="tools"&&A.jsx(fb,{userRole:n.role,studentId:(o==null?void 0:o.id)||""}),s==="certs"&&A.jsx(pb,{user:o||n}),s==="settings"&&A.jsx(db,{user:n,setUser:t})]}),A.jsxs("nav",{className:"fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around p-3 z-20 shadow-[0_-4px_10px_rgba(0,0,0,0.05)]",children:[A.jsx("button",{onClick:()=>c("dashboard"),className:`p-2 transition-all ${s==="dashboard"?"text-blue-600 scale-125":"text-gray-300"}`,children:""}),A.jsx("button",{onClick:()=>c("tasks"),className:`p-2 transition-all ${s==="tasks"?"text-blue-600 scale-125":"text-gray-300"}`,children:""}),A.jsx("button",{onClick:()=>c("rewards"),className:`p-2 transition-all ${s==="rewards"?"text-blue-600 scale-125":"text-gray-300"}`,children:""}),A.jsx("button",{onClick:()=>c("tools"),className:`p-2 transition-all ${s==="tools"?"text-blue-600 scale-125":"text-gray-300"}`,children:""}),A.jsx("button",{onClick:()=>c("settings"),className:`p-2 transition-all ${s==="settings"?"text-blue-600 scale-125":"text-gray-300"}`,children:""})]})]}):A.jsx(JS,{onLogin:y})},Tg=document.getElementById("root");Tg&&(fT.createRoot(Tg).render(A.jsx(DS,{children:A.jsx(hb,{})})),window.addEventListener("load",()=>{const t=document.getElementById("splash-screen");t&&setTimeout(()=>{t.style.opacity="0",setTimeout(()=>{t.style.display="none"},500)},500)}));
